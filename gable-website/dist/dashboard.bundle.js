(()=>{"use strict";var e,t,n={281:(e,t,n)=>{n.d(t,{GC:()=>o,IO:()=>c,KW:()=>u,Ly:()=>l,Qn:()=>d,y0:()=>s});var r=n(23),a=n(646);const i=new r.UUm;async function s(){const e={addresses:[a.MG]};let t=await i.stateEntityDetails({stateEntityDetailsRequest:e});if(void 0===t.items[0].details)return;let n=t.items[0].details.state;return console.log(t),n}async function o(e){let t=await async function(e){const t={resource_address:a._S,non_fungible_ids:[e]};let n=await i.nonFungibleData({stateNonFungibleDataRequest:t});if(void 0===n.non_fungible_ids[0])return;let r=n.non_fungible_ids[0].data.programmatic_json.fields[0].value;return console.log(r),r}(e);const n={key_value_store_address:a.S_,keys:[{key_json:{kind:"U64",value:t}}]};let r=await i.keyValueStoreData({stateKeyValueStoreDataRequest:n});console.log("etsdtstdda",r);let s,o,u,l=r.entries[0].value.programmatic_json.entries;for(const t of l)if(t.key.value===e){let e=t.value.elements;s=e[0].value,o=e[1].value,u=e[2].value;break}return console.log(s,o,u),[t,s,o,u]}async function u(){const e={address:a.MG,resource_address:a.Ck};let t,n=await i.entityFungibleResourceVaultPage({stateEntityFungibleResourceVaultsPageRequest:e});if(void 0===n.items[0].amount)return;const r=n.items.find((e=>"internal_vault_rdx1trn20juu2v4te6ajjw36cve2hgfnehczj2sce7qshrrzhf9j3jk78t"===e.vault_address));return r?t=r.amount:console.error("Vault address not found in the response."),t}async function l(){const e=`${a.oe}/api/apy_data`;try{const t=await fetch(e);if(console.log(t),!t.ok)throw new Error("Failed to fetch APY data");const n=await t.json();console.log(n);const r=[];for(const e of n){const t=e.timestamp,n=100*e.interest_earnings_apy,a={timestamp:t,interest_earnings_apy:n,staking_rewards_apy:100*e.staking_rewards_apy,total_earnings_apy:100*e.total_earnings_apy};r.push(a)}return console.log("Processed data:"),console.log(r),r}catch(e){console.error(e)}}async function c(){const e=`${a.oe}/api/flashloan_hist_data`;try{const t=await fetch(e);if(console.log(t),!t.ok)throw new Error("Failed to fetch flashloan data");const n=await t.json();console.log(n);const r=[];for(const e of n){const t=e.date,n={date:t,sum_total_xrd:e.sum_total_xrd,sum_volume_loans:e.sum_volume_loans};r.push(n)}return console.log("Processed flashloan data:"),console.log(r),r}catch(e){console.error(e)}}async function d(){const e=`${a.oe}/api/state_hist_data`;try{const t=await fetch(e);if(console.log(t),!t.ok)throw new Error("Failed to fetch tvl data");const n=await t.json();console.log(n);const r=[];for(const e of n){const t=e.date,n=e.liquidity_total,a={date:t,liquidity_total:n,lsu_total:e.lsu_total,stake:e.stake};r.push(a)}return console.log("Processed tvl data:"),console.log(r),r}catch(e){console.error(e)}}},646:(e,t,n)=>{n.d(t,{Ck:()=>s,MG:()=>a,Qb:()=>l,S_:()=>o,_S:()=>i,oe:()=>r,u3:()=>u});let r="https://www.sundaefinance.net:8443",a="component_rdx1cpmh7lyg0hx6efv5q79lv6rqxdqpuh27y99nzm0jpwu2u44ne243ws",i="resource_rdx1nfxg3t4eyls2qycqqrp6df8wkz3n2r04ex20443jtsgz5c23wsf74w",s="resource_rdx1thrz4g8g83802lumrtrdsrhjd6k5uxhxhgkrwjg0jn75cvxfc99nap",o="internal_keyvaluestore_rdx1kpmge9xyalkm8s2f4jf3ykrltln6mp52m3yr8psmjh635el52vet64",u=[{timestamp:"2000-01-01 00:00:0.0",interest_earnings:1,staking_rewards:1,total_earnings:1},{timestamp:"2001-01-01 00:00:0.0",interest_earnings:1,staking_rewards:1,total_earnings:1},{timestamp:"2002-01-01 00:00:0.0",interest_earnings:1,staking_rewards:1,total_earnings:1},{timestamp:"2003-01-01 00:00:0.0",interest_earnings:1,staking_rewards:1,total_earnings:1}],l=[{timestamp:"2000-01-01 00:00:0.0",interest_earnings_apy:.1,staking_rewards_apy:.1,total_earnings_apy:.1},{timestamp:"2001-01-01 00:00:0.0",interest_earnings_apy:.1,staking_rewards_apy:.1,total_earnings_apy:.1},{timestamp:"2002-01-01 00:00:0.0",interest_earnings_apy:.1,staking_rewards_apy:.1,total_earnings_apy:.1},{timestamp:"2003-01-01 00:00:0.0",interest_earnings_apy:.1,staking_rewards_apy:.1,total_earnings_apy:.1}]},848:(e,t,n)=>{n.d(t,{$:()=>Sd});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function i(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function s(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function o(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return s}function u(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)(r||!(a in t))&&(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}function l(e){return this instanceof l?(this.v=e,this):new l(e)}function c(e){return"function"==typeof e}function d(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var p=d((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function f(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var h=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,n,r,a;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var l=s(i),d=l.next();!d.done;d=l.next())d.value.remove(this)}catch(t){e={error:t}}finally{try{d&&!d.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}else i.remove(this);var f=this.initialTeardown;if(c(f))try{f()}catch(e){a=e instanceof p?e.errors:[e]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var _=s(h),m=_.next();!m.done;m=_.next()){var g=m.value;try{y(g)}catch(e){a=a??[],e instanceof p?a=u(u([],o(a)),o(e.errors)):a.push(e)}}}catch(e){n={error:e}}finally{try{m&&!m.done&&(r=_.return)&&r.call(_)}finally{if(n)throw n.error}}}if(a)throw new p(a)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)y(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&f(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&f(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e;var t}(),_=h.EMPTY;function m(e){return e instanceof h||e&&"closed"in e&&c(e.remove)&&c(e.add)&&c(e.unsubscribe)}function y(e){c(e)?e():e.unsubscribe()}var g={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var a=g.delegate;return null!=a&&a.setTimeout?a.setTimeout.apply(a,u([e,t],o(n))):setTimeout.apply(void 0,u([e,t],o(n)))},clearTimeout:function(e){var t=g.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function v(e){g.setTimeout((function(){throw e}))}function b(){}function w(e){e()}var k=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,m(t)&&t.add(n)):n.destination=P,n}return a(t,e),t.create=function(e,t,n){return new S(e,t,n)},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(h);Function.prototype.bind;var x=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){R(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){R(e)}else R(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){R(e)}},e}(),S=function(e){function t(t,n,r){var a,i=e.call(this)||this;return a=c(t)||!t?{next:t??void 0,error:n??void 0,complete:r??void 0}:t,i.destination=new x(a),i}return a(t,e),t}(k);function R(e){v(e)}var P={closed:!0,next:b,error:function(e){throw e},complete:b},T="function"==typeof Symbol&&Symbol.observable||"@@observable";function E(e){return e}var C=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this,a=function(e){return e&&e instanceof k||function(e){return e&&c(e.next)&&c(e.error)&&c(e.complete)}(e)&&m(e)}(e)?e:new S(e,t,n);return w((function(){var e=r,t=e.operator,n=e.source;a.add(t?t.call(a,n):n?r._subscribe(a):r._trySubscribe(a))})),a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=I(t))((function(t,r){var a=new S({next:function(t){try{e(t)}catch(e){r(e),a.unsubscribe()}},error:r,complete:t});n.subscribe(a)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[T]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(e){return 0===e.length?E:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=I(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function I(e){var t;return null!==(t=e??undefined)&&void 0!==t?t:Promise}function A(e){return function(t){if(function(e){return c(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}function q(e,t,n,r,a){return new O(e,t,n,r,a)}var O=function(e){function t(t,n,r,a,i,s){var o=e.call(this,t)||this;return o.onFinalize=i,o.shouldUnsubscribe=s,o._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,o._error=a?function(e){try{a(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,o._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,o}return a(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(k),N=d((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),D=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return a(t,e),t.prototype.lift=function(e){var t=new j(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new N},t.prototype.next=function(e){var t=this;w((function(){var n,r;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var a=s(t.currentObservers),i=a.next();!i.done;i=a.next())i.value.next(e)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;w((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;w((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,r=n.hasError,a=n.isStopped,i=n.observers;return r||a?_:(this.currentObservers=null,i.push(e),new h((function(){t.currentObservers=null,f(i,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,a=t.isStopped;n?e.error(r):a&&e.complete()},t.prototype.asObservable=function(){var e=new C;return e.source=this,e},t.create=function(e,t){return new j(e,t)},t}(C),j=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return a(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:_},t}(D),F=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return a(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){var e=this,t=e.hasError,n=e.thrownError,r=e._value;if(t)throw n;return this._throwIfClosed(),r},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(D),U={now:function(){return(U.delegate||Date).now()},delegate:void 0},L=function(e){function t(t,n,r){void 0===t&&(t=1/0),void 0===n&&(n=1/0),void 0===r&&(r=U);var a=e.call(this)||this;return a._bufferSize=t,a._windowTime=n,a._timestampProvider=r,a._buffer=[],a._infiniteTimeWindow=!0,a._infiniteTimeWindow=n===1/0,a._bufferSize=Math.max(1,t),a._windowTime=Math.max(1,n),a}return a(t,e),t.prototype.next=function(t){var n=this,r=n.isStopped,a=n._buffer,i=n._infiniteTimeWindow,s=n._timestampProvider,o=n._windowTime;r||(a.push(t),!i&&a.push(s.now()+o)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),n=this._infiniteTimeWindow,r=this._buffer.slice(),a=0;a<r.length&&!e.closed;a+=n?1:2)e.next(r[a]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,n=e._timestampProvider,r=e._buffer,a=e._infiniteTimeWindow,i=(a?1:2)*t;if(t<1/0&&i<r.length&&r.splice(0,r.length-i),!a){for(var s=n.now(),o=0,u=1;u<r.length&&r[u]<=s;u+=2)o=u;o&&r.splice(0,o+1)}},t}(D),Z=function(e){function t(t,n){return e.call(this)||this}return a(t,e),t.prototype.schedule=function(e,t){return this},t}(h),z={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var a=z.delegate;return null!=a&&a.setInterval?a.setInterval.apply(a,u([e,t],o(n))):setInterval.apply(void 0,u([e,t],o(n)))},clearInterval:function(e){var t=z.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},V=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return a(t,e),t.prototype.schedule=function(e,t){var n;if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,a=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(a,r,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(a,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),z.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&z.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(e){r=!0,n=e||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,f(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(Z),$=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=U.now,e}(),M=function(e){function t(t,n){void 0===n&&(n=$.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r}return a(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}($),B=new M(V),K=B,W=new C((function(e){return e.complete()}));function G(e){return e&&c(e.schedule)}function H(e){return e[e.length-1]}function Y(e){return c(H(e))?e.pop():void 0}function X(e){return G(H(e))?e.pop():void 0}var J=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function Q(e){return c(null==e?void 0:e.then)}function ee(e){return c(e[T])}function te(e){return Symbol.asyncIterator&&c(null==e?void 0:e[Symbol.asyncIterator])}function ne(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var re="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function ae(e){return c(null==e?void 0:e[re])}function ie(e){return function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,a=n.apply(e,t||[]),i=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){a[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||o(e,t)}))})}function o(e,t){try{!function(e){e.value instanceof l?Promise.resolve(e.value.v).then(u,c):d(i[0][2],e)}(a[e](t))}catch(e){d(i[0][3],e)}}function u(e){o("next",e)}function c(e){o("throw",e)}function d(e,t){e(t),i.shift(),i.length&&o(i[0][0],i[0][1])}}(this,arguments,(function(){var t,n,r;return i(this,(function(a){switch(a.label){case 0:t=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,l(t.read())];case 3:return n=a.sent(),r=n.value,n.done?[4,l(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,l(r)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function se(e){return c(null==e?void 0:e.getReader)}function oe(e){if(e instanceof C)return e;if(null!=e){if(ee(e))return function(e){return new C((function(t){var n=e[T]();if(c(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}))}(e);if(J(e))return function(e){return new C((function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()}))}(e);if(Q(e))return function(e){return new C((function(t){e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,v)}))}(e);if(te(e))return ue(e);if(ae(e))return function(e){return new C((function(t){var n,r;try{for(var a=s(e),i=a.next();!i.done;i=a.next()){var o=i.value;if(t.next(o),t.closed)return}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}t.complete()}))}(e);if(se(e))return function(e){return ue(ie(e))}(e)}throw ne(e)}function ue(e){return new C((function(t){(function(e,t){var n,r,a,o;return function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function o(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?a(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(s,o)}u((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var u,l;return i(this,(function(i){switch(i.label){case 0:i.trys.push([0,5,6,11]),n=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=s(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,a){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,a,(t=e[n](t)).done,t.value)}))}}}(e),i.label=1;case 1:return[4,n.next()];case 2:if((r=i.sent()).done)return[3,4];if(u=r.value,t.next(u),t.closed)return[2];i.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return l=i.sent(),a={error:l},[3,11];case 6:return i.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:i.sent(),i.label=8;case 8:return[3,10];case 9:if(a)throw a.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function le(e,t,n,r,a){void 0===r&&(r=0),void 0===a&&(a=!1);var i=t.schedule((function(){n(),a?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(i),!a)return i}function ce(e,t){return void 0===t&&(t=0),A((function(n,r){n.subscribe(q(r,(function(n){return le(r,e,(function(){return r.next(n)}),t)}),(function(){return le(r,e,(function(){return r.complete()}),t)}),(function(n){return le(r,e,(function(){return r.error(n)}),t)})))}))}function de(e,t){return void 0===t&&(t=0),A((function(n,r){r.add(e.schedule((function(){return n.subscribe(r)}),t))}))}function pe(e,t){if(!e)throw new Error("Iterable cannot be null");return new C((function(n){le(n,t,(function(){var r=e[Symbol.asyncIterator]();le(n,t,(function(){r.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}function fe(e,t){return t?function(e,t){if(null!=e){if(ee(e))return function(e,t){return oe(e).pipe(de(t),ce(t))}(e,t);if(J(e))return function(e,t){return new C((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}(e,t);if(Q(e))return function(e,t){return oe(e).pipe(de(t),ce(t))}(e,t);if(te(e))return pe(e,t);if(ae(e))return function(e,t){return new C((function(n){var r;return le(n,t,(function(){r=e[re](),le(n,t,(function(){var e,t,a;try{t=(e=r.next()).value,a=e.done}catch(e){return void n.error(e)}a?n.complete():n.next(t)}),0,!0)})),function(){return c(null==r?void 0:r.return)&&r.return()}}))}(e,t);if(se(e))return function(e,t){return pe(ie(e),t)}(e,t)}throw ne(e)}(e,t):oe(e)}function he(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return fe(e,X(e))}var _e=d((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}));function me(e,t){var n="object"==typeof t;return new Promise((function(r,a){var i=new S({next:function(e){r(e),i.unsubscribe()},error:a,complete:function(){n?r(t.defaultValue):a(new _e)}});e.subscribe(i)}))}function ye(e,t){return A((function(n,r){var a=0;n.subscribe(q(r,(function(n){r.next(e.call(t,n,a++))})))}))}var ge=Array.isArray;function ve(e){return ye((function(t){return function(e,t){return ge(t)?e.apply(void 0,u([],o(t))):e(t)}(e,t)}))}var be=Array.isArray,we=Object.getPrototypeOf,ke=Object.prototype,xe=Object.keys;function Se(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=X(e),r=Y(e),a=function(e){if(1===e.length){var t=e[0];if(be(t))return{args:t,keys:null};if(function(e){return e&&"object"==typeof e&&we(e)===ke}(t)){var n=xe(t);return{args:n.map((function(e){return t[e]})),keys:n}}}return{args:e,keys:null}}(e),i=a.args,s=a.keys;if(0===i.length)return fe([],n);var o=new C(function(e,t,n){return void 0===n&&(n=E),function(r){Re(t,(function(){for(var a=e.length,i=new Array(a),s=a,o=a,u=function(a){Re(t,(function(){var u=fe(e[a],t),l=!1;u.subscribe(q(r,(function(e){i[a]=e,l||(l=!0,o--),o||r.next(n(i.slice()))}),(function(){--s||r.complete()})))}),r)},l=0;l<a;l++)u(l)}),r)}}(i,n,s?function(e){return function(e,t){return e.reduce((function(e,n,r){return e[n]=t[r],e}),{})}(s,e)}:E));return r?o.pipe(ve(r)):o}function Re(e,t,n){e?le(n,e,t):t()}function Pe(e,t,n){return void 0===n&&(n=1/0),c(t)?Pe((function(n,r){return ye((function(e,a){return t(n,e,r,a)}))(oe(e(n,r)))}),n):("number"==typeof t&&(n=t),A((function(t,r){return function(e,t,n,r,a,i,s,o){var u=[],l=0,c=0,d=!1,p=function(){d&&!u.length&&!l&&t.complete()},f=function(e){return l<r?h(e):u.push(e)},h=function(e){l++;var a=!1;oe(n(e,c++)).subscribe(q(t,(function(e){t.next(e)}),(function(){a=!0}),void 0,(function(){if(a)try{l--;for(;u.length&&l<r;)e=void 0,e=u.shift(),h(e);p()}catch(e){t.error(e)}var e})))};return e.subscribe(q(t,f,(function(){d=!0,p()}))),function(){}}(t,r,e,n)})))}var Te=["addListener","removeListener"],Ee=["addEventListener","removeEventListener"],Ce=["on","off"];function Ie(e,t,n,r){if(c(n)&&(r=n,n=void 0),r)return Ie(e,t,n).pipe(ve(r));var a=o(function(e){return c(e.addEventListener)&&c(e.removeEventListener)}(e)?Ee.map((function(r){return function(a){return e[r](t,a,n)}})):function(e){return c(e.addListener)&&c(e.removeListener)}(e)?Te.map(Ae(e,t)):function(e){return c(e.on)&&c(e.off)}(e)?Ce.map(Ae(e,t)):[],2),i=a[0],s=a[1];if(!i&&J(e))return Pe((function(e){return Ie(e,t,n)}))(oe(e));if(!i)throw new TypeError("Invalid event target");return new C((function(e){var t=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1<t.length?t:t[0])};return i(t),function(){return s(t)}}))}function Ae(e,t){return function(n){return function(r){return e[n](t,r)}}}function qe(e,t,n){void 0===e&&(e=0),void 0===n&&(n=K);var r=-1;return null!=t&&(G(t)?n=t:r=t),new C((function(t){var a=function(e){return e instanceof Date&&!isNaN(e)}(e)?+e-n.now():e;a<0&&(a=0);var i=0;return n.schedule((function(){t.closed||(t.next(i++),0<=r?this.schedule(void 0,r):t.complete())}),a)}))}function Oe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=X(e),r=function(e,t){return"number"==typeof H(e)?e.pop():1/0}(e),a=e;return a.length?1===a.length?oe(a[0]):function(e){return void 0===e&&(e=1/0),Pe(E,e)}(r)(fe(a,n)):W}function Ne(e,t){return A((function(n,r){var a=0;n.subscribe(q(r,(function(n){return e.call(t,n,a++)&&r.next(n)})))}))}function De(e,t){return void 0===t&&(t=B),A((function(n,r){var a=null,i=null,s=null,o=function(){if(a){a.unsubscribe(),a=null;var e=i;i=null,r.next(e)}};function u(){var n=s+e,i=t.now();if(i<n)return a=this.schedule(void 0,n-i),void r.add(a);o()}n.subscribe(q(r,(function(n){i=n,s=t.now(),a||(a=t.schedule(u,e),r.add(a))}),(function(){o(),r.complete()}),void 0,(function(){i=a=null})))}))}function je(){return new _e}function Fe(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Ne((function(t,n){return e(t,n,r)})):E,A((function(e,t){var n=0;e.subscribe(q(t,(function(e){++n<=1&&(t.next(e),1<=n&&t.complete())})))})),n?function(e){return A((function(t,n){var r=!1;t.subscribe(q(n,(function(e){r=!0,n.next(e)}),(function(){r||n.next(e),n.complete()})))}))}(t):function(e){return void 0===e&&(e=je),A((function(t,n){var r=!1;t.subscribe(q(n,(function(e){r=!0,n.next(e)}),(function(){return r?n.complete():n.error(e())})))}))}((function(){return new _e})))}}function Ue(e,t){return A((function(n,r){var a=null,i=0,s=!1,o=function(){return s&&!a&&r.complete()};n.subscribe(q(r,(function(n){null==a||a.unsubscribe();var s=0,u=i++;oe(e(n,u)).subscribe(a=q(r,(function(e){return r.next(t?t(n,e,u,s++):e)}),(function(){a=null,o()})))}),(function(){s=!0,o()})))}))}function Le(e,t,n){var r=c(e)||t||n?{next:e,error:t,complete:n}:e;return r?A((function(e,t){var n;null===(n=r.subscribe)||void 0===n||n.call(r);var a=!0;e.subscribe(q(t,(function(e){var n;null===(n=r.next)||void 0===n||n.call(r,e),t.next(e)}),(function(){var e;a=!1,null===(e=r.complete)||void 0===e||e.call(r),t.complete()}),(function(e){var n;a=!1,null===(n=r.error)||void 0===n||n.call(r,e),t.error(e)}),(function(){var e,t;a&&(null===(e=r.unsubscribe)||void 0===e||e.call(r)),null===(t=r.finalize)||void 0===t||t.call(r)})))})):E}function Ze(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Y(e);return A((function(t,r){for(var a=e.length,i=new Array(a),s=e.map((function(){return!1})),l=!1,c=function(t){oe(e[t]).subscribe(q(r,(function(e){i[t]=e,!l&&!s[t]&&(s[t]=!0,(l=s.every(E))&&(s=null))}),b))},d=0;d<a;d++)c(d);t.subscribe(q(r,(function(e){if(l){var t=u([e],o(i));r.next(n?n.apply(void 0,u([],o(t))):t)}})))}))}function ze(e,t,n,r){return new(n||(n=Promise))((function(a,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function o(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?a(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(s,o)}u((r=r.apply(e,t||[])).next())}))}function Ve(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}}function $e(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return s}function Me(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)(r||!(a in t))&&(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}var Be={withStackTrace:!1},Ke=function(e,t,n){return void 0===n&&(n=Be),{data:t.isOk()?{type:"Ok",value:t.value}:{type:"Err",value:t.error},message:e,stack:n.withStackTrace?(new Error).stack:void 0}},We=function(){function e(e){this._promise=e}return e.fromSafePromise=function(t){return new e(t.then((function(e){return new it(e)})))},e.fromPromise=function(t,n){return new e(t.then((function(e){return new it(e)})).catch((function(e){return new st(n(e))})))},e.combine=function(e){return Je(e)},e.combineWithAllErrors=function(e){return et(e)},e.prototype.map=function(t){var n=this;return new e(this._promise.then((function(e){return ze(n,void 0,void 0,(function(){var n;return Ve(this,(function(r){switch(r.label){case 0:return e.isErr()?[2,new st(e.error)]:(n=it.bind,[4,t(e.value)]);case 1:return[2,new(n.apply(it,[void 0,r.sent()]))]}}))}))})))},e.prototype.mapErr=function(t){var n=this;return new e(this._promise.then((function(e){return ze(n,void 0,void 0,(function(){var n;return Ve(this,(function(r){switch(r.label){case 0:return e.isOk()?[2,new it(e.value)]:(n=st.bind,[4,t(e.error)]);case 1:return[2,new(n.apply(st,[void 0,r.sent()]))]}}))}))})))},e.prototype.andThen=function(t){return new e(this._promise.then((function(n){if(n.isErr())return new st(n.error);var r=t(n.value);return r instanceof e?r._promise:r})))},e.prototype.orElse=function(t){var n=this;return new e(this._promise.then((function(e){return ze(n,void 0,void 0,(function(){return Ve(this,(function(n){return e.isErr()?[2,t(e.error)]:[2,new it(e.value)]}))}))})))},e.prototype.match=function(e,t){return this._promise.then((function(n){return n.match(e,t)}))},e.prototype.unwrapOr=function(e){return this._promise.then((function(t){return t.unwrapOr(e)}))},e.prototype.then=function(e,t){return this._promise.then(e,t)},e}(),Ge=function(e){return new We(Promise.resolve(new st(e)))};We.fromPromise,We.fromSafePromise;var He,Ye,Xe=function(e){return e.reduce((function(e,t){return e.isOk()?t.isErr()?at(t.error):e.map(function(e){return function(t){return Me(Me([],$e(t),!1),[e],!1)}}(t.value)):e}),rt([]))},Je=function(e){return We.fromSafePromise(Promise.all(e)).andThen(Xe)},Qe=function(e){return e.reduce((function(e,t){return t.isErr()?e.isErr()?at(Me(Me([],$e(e.error),!1),[t.error],!1)):at([t.error]):e.isErr()?e:rt(Me(Me([],$e(e.value),!1),[t.value],!1))}),rt([]))},et=function(e){return We.fromSafePromise(Promise.all(e)).andThen(Qe)};(Ye=He||(He={})).fromThrowable=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{var a=e.apply(void 0,Me([],$e(n),!1));return rt(a)}catch(e){return at(t?t(e):e)}}},Ye.combine=function(e){return Xe(e)},Ye.combineWithAllErrors=function(e){return Qe(e)};var tt,nt,rt=function(e){return new it(e)},at=function(e){return new st(e)},it=function(){function e(e){this.value=e}return e.prototype.isOk=function(){return!0},e.prototype.isErr=function(){return!this.isOk()},e.prototype.map=function(e){return rt(e(this.value))},e.prototype.mapErr=function(e){return rt(this.value)},e.prototype.andThen=function(e){return e(this.value)},e.prototype.orElse=function(e){return rt(this.value)},e.prototype.asyncAndThen=function(e){return e(this.value)},e.prototype.asyncMap=function(e){return We.fromSafePromise(e(this.value))},e.prototype.unwrapOr=function(e){return this.value},e.prototype.match=function(e,t){return e(this.value)},e.prototype._unsafeUnwrap=function(e){return this.value},e.prototype._unsafeUnwrapErr=function(e){throw Ke("Called `_unsafeUnwrapErr` on an Ok",this,e)},e}(),st=function(){function e(e){this.error=e}return e.prototype.isOk=function(){return!1},e.prototype.isErr=function(){return!this.isOk()},e.prototype.map=function(e){return at(this.error)},e.prototype.mapErr=function(e){return at(e(this.error))},e.prototype.andThen=function(e){return at(this.error)},e.prototype.orElse=function(e){return e(this.error)},e.prototype.asyncAndThen=function(e){return Ge(this.error)},e.prototype.asyncMap=function(e){return Ge(this.error)},e.prototype.unwrapOr=function(e){return e},e.prototype.match=function(e,t){return t(this.error)},e.prototype._unsafeUnwrap=function(e){throw Ke("Called `_unsafeUnwrap` on an Err",this,e)},e.prototype._unsafeUnwrapErr=function(e){return this.error},e}();He.fromThrowable,function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!=typeof t[t[e]])),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(tt||(tt={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(nt||(nt={}));const ot=tt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ut=e=>{switch(typeof e){case"undefined":return ot.undefined;case"string":return ot.string;case"number":return isNaN(e)?ot.nan:ot.number;case"boolean":return ot.boolean;case"function":return ot.function;case"bigint":return ot.bigint;case"symbol":return ot.symbol;case"object":return Array.isArray(e)?ot.array:null===e?ot.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?ot.promise:typeof Map<"u"&&e instanceof Map?ot.map:typeof Set<"u"&&e instanceof Set?ot.set:typeof Date<"u"&&e instanceof Date?ot.date:ot.object;default:return ot.unknown}},lt=tt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);let ct=class extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(r);else if("invalid_return_type"===a.code)r(a.returnTypeError);else if("invalid_arguments"===a.code)r(a.argumentsError);else if(0===a.path.length)n._errors.push(t(a));else{let e=n,r=0;for(;r<a.path.length;){const n=a.path[r];r===a.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(a))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,tt.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=(e=>e.message)){const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}};ct.create=e=>new ct(e);const dt=(e,t)=>{let n;switch(e.code){case lt.invalid_type:n=e.received===ot.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case lt.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,tt.jsonStringifyReplacer)}`;break;case lt.unrecognized_keys:n=`Unrecognized key(s) in object: ${tt.joinValues(e.keys,", ")}`;break;case lt.invalid_union:n="Invalid input";break;case lt.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${tt.joinValues(e.options)}`;break;case lt.invalid_enum_value:n=`Invalid enum value. Expected ${tt.joinValues(e.options)}, received '${e.received}'`;break;case lt.invalid_arguments:n="Invalid function arguments";break;case lt.invalid_return_type:n="Invalid function return type";break;case lt.invalid_date:n="Invalid date";break;case lt.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:tt.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case lt.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case lt.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case lt.custom:n="Invalid input";break;case lt.invalid_intersection_types:n="Intersection results could not be merged";break;case lt.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case lt.not_finite:n="Number must be finite";break;default:n=t.defaultError,tt.assertNever(e)}return{message:n}};let pt=dt;function ft(e,t){const n=(e=>{const{data:t,path:n,errorMaps:r,issueData:a}=e,i=[...n,...a.path||[]],s={...a,path:i};let o="";const u=r.filter((e=>!!e)).slice().reverse();for(const e of u)o=e(s,{data:t,defaultError:o}).message;return{...a,path:i,message:a.message||o}})({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,pt,dt].filter((e=>!!e))});e.common.issues.push(n)}let ht=class e{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return _t;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(t,n){const r=[];for(const e of n)r.push({key:await e.key,value:await e.value});return e.mergeObjectSync(t,r)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:a}=r;if("aborted"===t.status||"aborted"===a.status)return _t;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),(typeof a.value<"u"||r.alwaysSet)&&(n[t.value]=a.value)}return{status:e.value,value:n}}};const _t=Object.freeze({status:"aborted"}),mt=e=>({status:"valid",value:e}),yt=e=>"aborted"===e.status,gt=e=>"dirty"===e.status,vt=e=>"valid"===e.status,bt=e=>typeof Promise<"u"&&e instanceof Promise;var wt;!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(wt||(wt={}));let kt=class{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}};const xt=(e,t)=>{if(vt(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new ct(e.common.issues);return this._error=t,this._error}}};function St(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:a}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:a}:{errorMap:(e,t)=>"invalid_type"!==e.code?{message:t.defaultError}:typeof t.data>"u"?{message:r??t.defaultError}:{message:n??t.defaultError},description:a}}let Rt=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return ut(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:ut(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ht,ctx:{common:e.parent.common,data:e.data,parsedType:ut(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(bt(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ut(e)},a=this._parseSync({data:e,path:r.path,parent:r});return xt(r,a)}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ut(e)},r=this._parse({data:e,path:n.path,parent:n}),a=await(bt(r)?r:Promise.resolve(r));return xt(n,a)}refine(e,t){const n=e=>"string"==typeof t||typeof t>"u"?{message:t}:"function"==typeof t?t(e):t;return this._refinement(((t,r)=>{const a=e(t),i=()=>r.addIssue({code:lt.custom,...n(t)});return typeof Promise<"u"&&a instanceof Promise?a.then((e=>!!e||(i(),!1))):!!a||(i(),!1)}))}refinement(e,t){return this._refinement(((n,r)=>!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1)))}_refinement(e){return new dn({schema:this,typeName:vn.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return pn.create(this,this._def)}nullable(){return fn.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ht.create(this,this._def)}promise(){return cn.create(this,this._def)}or(e){return Jt.create([this,e],this._def)}and(e){return en.create(this,e,this._def)}transform(e){return new dn({...St(this._def),schema:this,typeName:vn.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new hn({...St(this._def),innerType:this,defaultValue:t,typeName:vn.ZodDefault})}brand(){return new yn({typeName:vn.ZodBranded,type:this,...St(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new _n({...St(this._def),innerType:this,catchValue:t,typeName:vn.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return gn.create(this,e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}};const Pt=/^c[^\s-]{8,}$/i,Tt=/^[a-z][a-z0-9]*$/,Et=/[0-9A-HJKMNP-TV-Z]{26}/,Ct=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,It=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,At=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,qt=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Ot=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Nt=e=>e.precision?e.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}Z$`):0===e.precision?e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Dt(e,t){return!(("v4"!==t&&t||!qt.test(e))&&("v6"!==t&&t||!Ot.test(e)))}class jt extends Rt{constructor(){super(...arguments),this._regex=(e,t,n)=>this.refinement((t=>e.test(t)),{validation:t,code:lt.invalid_string,...wt.errToObj(n)}),this.nonempty=e=>this.min(1,wt.errToObj(e)),this.trim=()=>new jt({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new jt({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new jt({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ot.string){const t=this._getOrReturnCtx(e);return ft(t,{code:lt.invalid_type,expected:ot.string,received:t.parsedType}),_t}const t=new ht;let n;for(const r of this._def.checks)if("min"===r.kind)e.data.length<r.value&&(n=this._getOrReturnCtx(e,n),ft(n,{code:lt.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("max"===r.kind)e.data.length>r.value&&(n=this._getOrReturnCtx(e,n),ft(n,{code:lt.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("length"===r.kind){const a=e.data.length>r.value,i=e.data.length<r.value;(a||i)&&(n=this._getOrReturnCtx(e,n),a?ft(n,{code:lt.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):i&&ft(n,{code:lt.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),t.dirty())}else if("email"===r.kind)It.test(e.data)||(n=this._getOrReturnCtx(e,n),ft(n,{validation:"email",code:lt.invalid_string,message:r.message}),t.dirty());else if("emoji"===r.kind)At.test(e.data)||(n=this._getOrReturnCtx(e,n),ft(n,{validation:"emoji",code:lt.invalid_string,message:r.message}),t.dirty());else if("uuid"===r.kind)Ct.test(e.data)||(n=this._getOrReturnCtx(e,n),ft(n,{validation:"uuid",code:lt.invalid_string,message:r.message}),t.dirty());else if("cuid"===r.kind)Pt.test(e.data)||(n=this._getOrReturnCtx(e,n),ft(n,{validation:"cuid",code:lt.invalid_string,message:r.message}),t.dirty());else if("cuid2"===r.kind)Tt.test(e.data)||(n=this._getOrReturnCtx(e,n),ft(n,{validation:"cuid2",code:lt.invalid_string,message:r.message}),t.dirty());else if("ulid"===r.kind)Et.test(e.data)||(n=this._getOrReturnCtx(e,n),ft(n,{validation:"ulid",code:lt.invalid_string,message:r.message}),t.dirty());else if("url"===r.kind)try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),ft(n,{validation:"url",code:lt.invalid_string,message:r.message}),t.dirty()}else"regex"===r.kind?(r.regex.lastIndex=0,r.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),ft(n,{validation:"regex",code:lt.invalid_string,message:r.message}),t.dirty())):"trim"===r.kind?e.data=e.data.trim():"includes"===r.kind?e.data.includes(r.value,r.position)||(n=this._getOrReturnCtx(e,n),ft(n,{code:lt.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),t.dirty()):"toLowerCase"===r.kind?e.data=e.data.toLowerCase():"toUpperCase"===r.kind?e.data=e.data.toUpperCase():"startsWith"===r.kind?e.data.startsWith(r.value)||(n=this._getOrReturnCtx(e,n),ft(n,{code:lt.invalid_string,validation:{startsWith:r.value},message:r.message}),t.dirty()):"endsWith"===r.kind?e.data.endsWith(r.value)||(n=this._getOrReturnCtx(e,n),ft(n,{code:lt.invalid_string,validation:{endsWith:r.value},message:r.message}),t.dirty()):"datetime"===r.kind?Nt(r).test(e.data)||(n=this._getOrReturnCtx(e,n),ft(n,{code:lt.invalid_string,validation:"datetime",message:r.message}),t.dirty()):"ip"===r.kind?Dt(e.data,r.version)||(n=this._getOrReturnCtx(e,n),ft(n,{validation:"ip",code:lt.invalid_string,message:r.message}),t.dirty()):tt.assertNever(r);return{status:t.value,value:e.data}}_addCheck(e){return new jt({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...wt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...wt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...wt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...wt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...wt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...wt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...wt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...wt.errToObj(e)})}datetime(e){var t;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(null==e?void 0:e.precision)>"u"?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,...wt.errToObj(null==e?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...wt.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...wt.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...wt.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...wt.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...wt.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...wt.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...wt.errToObj(t)})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function Ft(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r;return parseInt(e.toFixed(a).replace(".",""))%parseInt(t.toFixed(a).replace(".",""))/Math.pow(10,a)}jt.create=e=>{var t;return new jt({checks:[],typeName:vn.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...St(e)})};let Ut=class e extends Rt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ot.number){const t=this._getOrReturnCtx(e);return ft(t,{code:lt.invalid_type,expected:ot.number,received:t.parsedType}),_t}let t;const n=new ht;for(const r of this._def.checks)"int"===r.kind?tt.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),ft(t,{code:lt.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty()):"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),ft(t,{code:lt.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),ft(t,{code:lt.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"multipleOf"===r.kind?0!==Ft(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),ft(t,{code:lt.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),ft(t,{code:lt.not_finite,message:r.message}),n.dirty()):tt.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,wt.toString(t))}gt(e,t){return this.setLimit("min",e,!1,wt.toString(t))}lte(e,t){return this.setLimit("max",e,!0,wt.toString(t))}lt(e,t){return this.setLimit("max",e,!1,wt.toString(t))}setLimit(t,n,r,a){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:wt.toString(a)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}int(e){return this._addCheck({kind:"int",message:wt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:wt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:wt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:wt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:wt.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:wt.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:wt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:wt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:wt.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&tt.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}};Ut.create=e=>new Ut({checks:[],typeName:vn.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...St(e)});let Lt=class e extends Rt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ot.bigint){const t=this._getOrReturnCtx(e);return ft(t,{code:lt.invalid_type,expected:ot.bigint,received:t.parsedType}),_t}let t;const n=new ht;for(const r of this._def.checks)"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),ft(t,{code:lt.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),ft(t,{code:lt.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),ft(t,{code:lt.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):tt.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,wt.toString(t))}gt(e,t){return this.setLimit("min",e,!1,wt.toString(t))}lte(e,t){return this.setLimit("max",e,!0,wt.toString(t))}lt(e,t){return this.setLimit("max",e,!1,wt.toString(t))}setLimit(t,n,r,a){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:wt.toString(a)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:wt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:wt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:wt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:wt.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:wt.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}};Lt.create=e=>{var t;return new Lt({checks:[],typeName:vn.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...St(e)})};let Zt=class extends Rt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ot.boolean){const t=this._getOrReturnCtx(e);return ft(t,{code:lt.invalid_type,expected:ot.boolean,received:t.parsedType}),_t}return mt(e.data)}};Zt.create=e=>new Zt({typeName:vn.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...St(e)});let zt=class e extends Rt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ot.date){const t=this._getOrReturnCtx(e);return ft(t,{code:lt.invalid_type,expected:ot.date,received:t.parsedType}),_t}if(isNaN(e.data.getTime()))return ft(this._getOrReturnCtx(e),{code:lt.invalid_date}),_t;const t=new ht;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),ft(n,{code:lt.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),ft(n,{code:lt.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):tt.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:wt.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:wt.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}};zt.create=e=>new zt({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:vn.ZodDate,...St(e)});let Vt=class extends Rt{_parse(e){if(this._getType(e)!==ot.symbol){const t=this._getOrReturnCtx(e);return ft(t,{code:lt.invalid_type,expected:ot.symbol,received:t.parsedType}),_t}return mt(e.data)}};Vt.create=e=>new Vt({typeName:vn.ZodSymbol,...St(e)});let $t=class extends Rt{_parse(e){if(this._getType(e)!==ot.undefined){const t=this._getOrReturnCtx(e);return ft(t,{code:lt.invalid_type,expected:ot.undefined,received:t.parsedType}),_t}return mt(e.data)}};$t.create=e=>new $t({typeName:vn.ZodUndefined,...St(e)});let Mt=class extends Rt{_parse(e){if(this._getType(e)!==ot.null){const t=this._getOrReturnCtx(e);return ft(t,{code:lt.invalid_type,expected:ot.null,received:t.parsedType}),_t}return mt(e.data)}};Mt.create=e=>new Mt({typeName:vn.ZodNull,...St(e)});let Bt=class extends Rt{constructor(){super(...arguments),this._any=!0}_parse(e){return mt(e.data)}};Bt.create=e=>new Bt({typeName:vn.ZodAny,...St(e)});let Kt=class extends Rt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return mt(e.data)}};Kt.create=e=>new Kt({typeName:vn.ZodUnknown,...St(e)});let Wt=class extends Rt{_parse(e){const t=this._getOrReturnCtx(e);return ft(t,{code:lt.invalid_type,expected:ot.never,received:t.parsedType}),_t}};Wt.create=e=>new Wt({typeName:vn.ZodNever,...St(e)});let Gt=class extends Rt{_parse(e){if(this._getType(e)!==ot.undefined){const t=this._getOrReturnCtx(e);return ft(t,{code:lt.invalid_type,expected:ot.void,received:t.parsedType}),_t}return mt(e.data)}};Gt.create=e=>new Gt({typeName:vn.ZodVoid,...St(e)});let Ht=class e extends Rt{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==ot.array)return ft(t,{code:lt.invalid_type,expected:ot.array,received:t.parsedType}),_t;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,a=t.data.length<r.exactLength.value;(e||a)&&(ft(t,{code:e?lt.too_big:lt.too_small,minimum:a?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(ft(t,{code:lt.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(ft(t,{code:lt.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>r.type._parseAsync(new kt(t,e,t.path,n))))).then((e=>ht.mergeArray(n,e)));const a=[...t.data].map(((e,n)=>r.type._parseSync(new kt(t,e,t.path,n))));return ht.mergeArray(n,a)}get element(){return this._def.type}min(t,n){return new e({...this._def,minLength:{value:t,message:wt.toString(n)}})}max(t,n){return new e({...this._def,maxLength:{value:t,message:wt.toString(n)}})}length(t,n){return new e({...this._def,exactLength:{value:t,message:wt.toString(n)}})}nonempty(e){return this.min(1,e)}};function Yt(e){if(e instanceof Xt){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=pn.create(Yt(r))}return new Xt({...e._def,shape:()=>t})}return e instanceof Ht?new Ht({...e._def,type:Yt(e.element)}):e instanceof pn?pn.create(Yt(e.unwrap())):e instanceof fn?fn.create(Yt(e.unwrap())):e instanceof tn?tn.create(e.items.map((e=>Yt(e)))):e}Ht.create=(e,t)=>new Ht({type:e,minLength:null,maxLength:null,exactLength:null,typeName:vn.ZodArray,...St(t)});let Xt=class e extends Rt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=tt.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==ot.object){const t=this._getOrReturnCtx(e);return ft(t,{code:lt.invalid_type,expected:ot.object,received:t.parsedType}),_t}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:a}=this._getCached(),i=[];if(!(this._def.catchall instanceof Wt&&"strip"===this._def.unknownKeys))for(const e in n.data)a.includes(e)||i.push(e);const s=[];for(const e of a){const t=r[e],a=n.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new kt(n,a,n.path,e)),alwaysSet:e in n.data})}if(this._def.catchall instanceof Wt){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of i)s.push({key:{status:"valid",value:e},value:{status:"valid",value:n.data[e]}});else if("strict"===e)i.length>0&&(ft(n,{code:lt.unrecognized_keys,keys:i}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of i){const r=n.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new kt(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of s){const n=await t.key;e.push({key:n,value:await t.value,alwaysSet:t.alwaysSet})}return e})).then((e=>ht.mergeObjectSync(t,e))):ht.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(t){return wt.errToObj,new e({...this._def,unknownKeys:"strict",...void 0!==t?{errorMap:(e,n)=>{var r,a,i,s;const o=null!==(i=null===(a=(r=this._def).errorMap)||void 0===a?void 0:a.call(r,e,n).message)&&void 0!==i?i:n.defaultError;return"unrecognized_keys"===e.code?{message:null!==(s=wt.errToObj(t).message)&&void 0!==s?s:o}:{message:o}}}:{}})}strip(){return new e({...this._def,unknownKeys:"strip"})}passthrough(){return new e({...this._def,unknownKeys:"passthrough"})}extend(t){return new e({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new e({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:vn.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(t){return new e({...this._def,catchall:t})}pick(t){const n={};return tt.objectKeys(t).forEach((e=>{t[e]&&this.shape[e]&&(n[e]=this.shape[e])})),new e({...this._def,shape:()=>n})}omit(t){const n={};return tt.objectKeys(this.shape).forEach((e=>{t[e]||(n[e]=this.shape[e])})),new e({...this._def,shape:()=>n})}deepPartial(){return Yt(this)}partial(t){const n={};return tt.objectKeys(this.shape).forEach((e=>{const r=this.shape[e];t&&!t[e]?n[e]=r:n[e]=r.optional()})),new e({...this._def,shape:()=>n})}required(t){const n={};return tt.objectKeys(this.shape).forEach((e=>{if(t&&!t[e])n[e]=this.shape[e];else{let t=this.shape[e];for(;t instanceof pn;)t=t._def.innerType;n[e]=t}})),new e({...this._def,shape:()=>n})}keyof(){return on(tt.objectKeys(this.shape))}};Xt.create=(e,t)=>new Xt({shape:()=>e,unknownKeys:"strip",catchall:Wt.create(),typeName:vn.ZodObject,...St(t)}),Xt.strictCreate=(e,t)=>new Xt({shape:()=>e,unknownKeys:"strict",catchall:Wt.create(),typeName:vn.ZodObject,...St(t)}),Xt.lazycreate=(e,t)=>new Xt({shape:e,unknownKeys:"strip",catchall:Wt.create(),typeName:vn.ZodObject,...St(t)});let Jt=class extends Rt{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;const n=e.map((e=>new ct(e.ctx.common.issues)));return ft(t,{code:lt.invalid_union,unionErrors:n}),_t}));{let e;const r=[];for(const a of n){const n={...t,common:{...t.common,issues:[]},parent:null},i=a._parseSync({data:t.data,path:t.path,parent:n});if("valid"===i.status)return i;"dirty"===i.status&&!e&&(e={result:i,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const a=r.map((e=>new ct(e)));return ft(t,{code:lt.invalid_union,unionErrors:a}),_t}}get options(){return this._def.options}};function Qt(e,t){const n=ut(e),r=ut(t);if(e===t)return{valid:!0,data:e};if(n===ot.object&&r===ot.object){const n=tt.objectKeys(t),r=tt.objectKeys(e).filter((e=>-1!==n.indexOf(e))),a={...e,...t};for(const n of r){const r=Qt(e[n],t[n]);if(!r.valid)return{valid:!1};a[n]=r.data}return{valid:!0,data:a}}if(n===ot.array&&r===ot.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const a=Qt(e[r],t[r]);if(!a.valid)return{valid:!1};n.push(a.data)}return{valid:!0,data:n}}return n===ot.date&&r===ot.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}Jt.create=(e,t)=>new Jt({options:e,typeName:vn.ZodUnion,...St(t)});let en=class extends Rt{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(yt(e)||yt(r))return _t;const a=Qt(e.value,r.value);return a.valid?((gt(e)||gt(r))&&t.dirty(),{status:t.value,value:a.data}):(ft(n,{code:lt.invalid_intersection_types}),_t)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((([e,t])=>r(e,t))):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};en.create=(e,t,n)=>new en({left:e,right:t,typeName:vn.ZodIntersection,...St(n)});let tn=class e extends Rt{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ot.array)return ft(n,{code:lt.invalid_type,expected:ot.array,received:n.parsedType}),_t;if(n.data.length<this._def.items.length)return ft(n,{code:lt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),_t;!this._def.rest&&n.data.length>this._def.items.length&&(ft(n,{code:lt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new kt(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(r).then((e=>ht.mergeArray(t,e))):ht.mergeArray(t,r)}get items(){return this._def.items}rest(t){return new e({...this._def,rest:t})}};tn.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new tn({items:e,typeName:vn.ZodTuple,rest:null,...St(t)})};let nn=class extends Rt{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ot.map)return ft(n,{code:lt.invalid_type,expected:ot.map,received:n.parsedType}),_t;const r=this._def.keyType,a=this._def.valueType,i=[...n.data.entries()].map((([e,t],i)=>({key:r._parse(new kt(n,e,n.path,[i,"key"])),value:a._parse(new kt(n,t,n.path,[i,"value"]))})));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of i){const r=await n.key,a=await n.value;if("aborted"===r.status||"aborted"===a.status)return _t;("dirty"===r.status||"dirty"===a.status)&&t.dirty(),e.set(r.value,a.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of i){const r=n.key,a=n.value;if("aborted"===r.status||"aborted"===a.status)return _t;("dirty"===r.status||"dirty"===a.status)&&t.dirty(),e.set(r.value,a.value)}return{status:t.value,value:e}}}};nn.create=(e,t,n)=>new nn({valueType:t,keyType:e,typeName:vn.ZodMap,...St(n)});let rn=class e extends Rt{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ot.set)return ft(n,{code:lt.invalid_type,expected:ot.set,received:n.parsedType}),_t;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(ft(n,{code:lt.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(ft(n,{code:lt.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const a=this._def.valueType;function i(e){const n=new Set;for(const r of e){if("aborted"===r.status)return _t;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const s=[...n.data.values()].map(((e,t)=>a._parse(new kt(n,e,n.path,t))));return n.common.async?Promise.all(s).then((e=>i(e))):i(s)}min(t,n){return new e({...this._def,minSize:{value:t,message:wt.toString(n)}})}max(t,n){return new e({...this._def,maxSize:{value:t,message:wt.toString(n)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}};rn.create=(e,t)=>new rn({valueType:e,minSize:null,maxSize:null,typeName:vn.ZodSet,...St(t)});let an=class extends Rt{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}};an.create=(e,t)=>new an({getter:e,typeName:vn.ZodLazy,...St(t)});let sn=class extends Rt{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return ft(t,{received:t.data,code:lt.invalid_literal,expected:this._def.value}),_t}return{status:"valid",value:e.data}}get value(){return this._def.value}};function on(e,t){return new un({values:e,typeName:vn.ZodEnum,...St(t)})}sn.create=(e,t)=>new sn({value:e,typeName:vn.ZodLiteral,...St(t)});let un=class e extends Rt{_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return ft(t,{expected:tt.joinValues(n),received:t.parsedType,code:lt.invalid_type}),_t}if(-1===this._def.values.indexOf(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return ft(t,{received:t.data,code:lt.invalid_enum_value,options:n}),_t}return mt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(t){return e.create(t)}exclude(t){return e.create(this.options.filter((e=>!t.includes(e))))}};un.create=on;let ln=class extends Rt{_parse(e){const t=tt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==ot.string&&n.parsedType!==ot.number){const e=tt.objectValues(t);return ft(n,{expected:tt.joinValues(e),received:n.parsedType,code:lt.invalid_type}),_t}if(-1===t.indexOf(e.data)){const e=tt.objectValues(t);return ft(n,{received:n.data,code:lt.invalid_enum_value,options:e}),_t}return mt(e.data)}get enum(){return this._def.values}};ln.create=(e,t)=>new ln({values:e,typeName:vn.ZodNativeEnum,...St(t)});let cn=class extends Rt{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ot.promise&&!1===t.common.async)return ft(t,{code:lt.invalid_type,expected:ot.promise,received:t.parsedType}),_t;const n=t.parsedType===ot.promise?t.data:Promise.resolve(t.data);return mt(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}};cn.create=(e,t)=>new cn({type:e,typeName:vn.ZodPromise,...St(t)});let dn=class extends Rt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===vn.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null;if("preprocess"===r.type){const e=r.transform(n.data);return n.common.async?Promise.resolve(e).then((e=>this._def.schema._parseAsync({data:e,path:n.path,parent:n}))):this._def.schema._parseSync({data:e,path:n.path,parent:n})}const a={addIssue:e=>{ft(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),"refinement"===r.type){const e=e=>{const t=r.refinement(e,a);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?_t:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?_t:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!vt(e))return e;const i=r.transform(e.value,a);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>vt(e)?Promise.resolve(r.transform(e.value,a)).then((e=>({status:t.value,value:e}))):e))}tt.assertNever(r)}};dn.create=(e,t,n)=>new dn({schema:e,typeName:vn.ZodEffects,effect:t,...St(n)}),dn.createWithPreprocess=(e,t,n)=>new dn({schema:t,effect:{type:"preprocess",transform:e},typeName:vn.ZodEffects,...St(n)});let pn=class extends Rt{_parse(e){return this._getType(e)===ot.undefined?mt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};pn.create=(e,t)=>new pn({innerType:e,typeName:vn.ZodOptional,...St(t)});let fn=class extends Rt{_parse(e){return this._getType(e)===ot.null?mt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};fn.create=(e,t)=>new fn({innerType:e,typeName:vn.ZodNullable,...St(t)});let hn=class extends Rt{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===ot.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}};hn.create=(e,t)=>new hn({innerType:e,typeName:vn.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...St(t)});let _n=class extends Rt{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return bt(r)?r.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new ct(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new ct(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};_n.create=(e,t)=>new _n({innerType:e,typeName:vn.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...St(t)});let mn=class extends Rt{_parse(e){if(this._getType(e)!==ot.nan){const t=this._getOrReturnCtx(e);return ft(t,{code:lt.invalid_type,expected:ot.nan,received:t.parsedType}),_t}return{status:"valid",value:e.data}}};mn.create=e=>new mn({typeName:vn.ZodNaN,...St(e)});let yn=class extends Rt{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}},gn=class e extends Rt{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?_t:"dirty"===e.status?(t.dirty(),(e=>({status:"dirty",value:e}))(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})();{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?_t:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(t,n){return new e({in:t,out:n,typeName:vn.ZodPipeline})}};var vn;Xt.lazycreate,function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline"}(vn||(vn={}));const bn=jt.create,wn=Ut.create,kn=Zt.create;Wt.create;const xn=Ht.create,Sn=Xt.create;Xt.strictCreate;const Rn=Jt.create;en.create,tn.create;const Pn=sn.create;un.create,cn.create,pn.create,fn.create;const Tn=Sn({address:bn(),label:bn(),appearanceId:wn()}),En=Sn({publicKey:bn(),signature:bn(),curve:Rn([Pn("curve25519"),Pn("secp256k1")])}),Cn=Sn({accountAddress:bn(),proof:En}),In=Sn({identityAddress:bn(),label:bn()}),An=Sn({variant:Rn([Pn("eastern"),Pn("western")]),familyName:bn(),nickname:bn(),givenNames:bn()}),qn=Sn({quantifier:Rn([Pn("exactly"),Pn("atLeast")]),quantity:wn().gte(0)}),On=Sn({challenge:bn().optional(),numberOfAccounts:qn}),Nn=Sn({accounts:xn(Tn),challenge:bn().optional(),proofs:xn(Cn).optional()}).refine((e=>{var t;return!(e.challenge||null!=e&&e.proofs)||e.challenge&&(null==(t=null==e?void 0:e.proofs)?void 0:t.length)}),"missing challenge or proofs"),Dn=Sn({isRequestingName:kn().optional(),numberOfRequestedEmailAddresses:qn.optional(),numberOfRequestedPhoneNumbers:qn.optional()}),jn=Sn({name:An.optional(),emailAddresses:xn(bn()).optional(),phoneNumbers:xn(bn()).optional()}),Fn=Sn({accounts:kn(),personaData:kn()}),Un=(Sn({persona:In,challenge:bn().optional(),proof:En.optional()}).refine((e=>!e.challenge&&!e.proof||e.challenge&&e.proof),"missing challenge or proof"),Sn({discriminator:Pn("unauthorizedRequest"),oneTimeAccounts:On.optional(),oneTimePersonaData:Dn.optional()})),Ln=Sn({discriminator:Pn("usePersona"),identityAddress:bn()}),Zn=Rn([Sn({discriminator:Pn("loginWithoutChallenge")}),Sn({discriminator:Pn("loginWithChallenge"),challenge:bn()})]),zn=Rn([Ln,Zn]),Vn=Rn([Un,Sn({discriminator:Pn("authorizedRequest"),auth:zn,reset:Fn.optional(),oneTimeAccounts:On.optional(),ongoingAccounts:On.optional(),oneTimePersonaData:Dn.optional(),ongoingPersonaData:Dn.optional()})]),$n=Sn({transactionManifest:bn(),version:wn(),blobs:xn(bn()).optional(),message:bn().optional()}),Mn=Sn({discriminator:Pn("transaction"),send:$n}),Bn=Sn({transactionIntentHash:bn()}),Kn=Sn({discriminator:Pn("transaction"),send:Bn}),Wn=Rn([Vn,Mn,Sn({discriminator:Pn("cancelRequest")})]),Gn=Sn({version:Pn(2),networkId:wn(),dAppDefinitionAddress:bn()}),Hn=Sn({interactionId:bn(),metadata:Gn,items:Wn}),Yn=Sn({discriminator:Pn("unauthorizedRequest"),oneTimeAccounts:Nn.optional(),oneTimePersonaData:jn.optional()}),Xn=Rn([Sn({discriminator:Pn("loginWithoutChallenge"),persona:In}),Sn({discriminator:Pn("loginWithChallenge"),persona:In,challenge:bn(),proof:En})]),Jn=Rn([Sn({discriminator:Pn("usePersona"),persona:In}),Xn]),Qn=Rn([Yn,Sn({discriminator:Pn("authorizedRequest"),auth:Jn,oneTimeAccounts:Nn.optional(),ongoingAccounts:Nn.optional(),oneTimePersonaData:jn.optional(),ongoingPersonaData:jn.optional()})]),er=Rn([Qn,Kn]),tr=Rn([Sn({discriminator:Pn("success"),interactionId:bn(),items:er}),Sn({discriminator:Pn("failure"),interactionId:bn(),error:bn(),message:bn().optional()})]),nr=(Sn({interactionId:bn(),discriminator:Pn("extensionStatus")}),"extensionStatus"),rr=(Sn({eventType:Pn(nr),interactionId:bn(),isWalletLinked:kn(),isExtensionAvailable:kn()}),Sn({eventType:Rn([Pn(nr),Pn("receivedByExtension"),Pn("receivedByWallet"),Pn("requestCancelSuccess"),Pn("requestCancelFail")]),interactionId:bn()}));Rn([rr,tr]);const ar="radix#chromeExtension#send",ir="radix#chromeExtension#receive",sr=(Symbol.toStringTag,e=>e),or={rejectedByUser:"rejectedByUser",missingExtension:"missingExtension",canceledByUser:"canceledByUser",walletRequestValidation:"walletRequestValidation",walletResponseValidation:"walletResponseValidation",wrongNetwork:"wrongNetwork",failedToPrepareTransaction:"failedToPrepareTransaction",failedToCompileTransaction:"failedToCompileTransaction",failedToSignTransaction:"failedToSignTransaction",failedToSubmitTransaction:"failedToSubmitTransaction",failedToPollSubmittedTransaction:"failedToPollSubmittedTransaction",submittedTransactionWasDuplicate:"submittedTransactionWasDuplicate",submittedTransactionHasFailedTransactionStatus:"submittedTransactionHasFailedTransactionStatus",submittedTransactionHasRejectedTransactionStatus:"submittedTransactionHasRejectedTransactionStatus",failedToFindAccountWithEnoughFundsToLockFee:"failedToFindAccountWithEnoughFundsToLockFee",wrongAccountType:"wrongAccountType",unknownWebsite:"unknownWebsite",radixJsonNotFound:"radixJsonNotFound",unknownDappDefinitionAddress:"unknownDappDefinitionAddress",invalidPersona:"invalidPersona"},ur=(new Map).set(or.missingExtension,"extension could not be found").set(or.rejectedByUser,"user rejected request").set(or.canceledByUser,"user has canceled the request"),lr=(e,t,n)=>({error:e,interactionId:t,message:n||ur.get(e)||""}),cr=e=>We.fromPromise(tr.parseAsync(e),(e=>e.issues)).andThen((e=>"success"===e.discriminator?rt(e):at(e))).mapErr((()=>lr("walletResponseValidation",""))),dr=(e,t)=>{const n=(e=>(t,n,r=crypto.randomUUID())=>{const a={items:n,interactionId:r,metadata:t};return((e,t)=>We.fromPromise(e.parseAsync(t),(e=>e.issues)))(Hn,a).mapErr((t=>(null==e||e.error(" invalidWalletInteraction",t),lr(or.walletRequestValidation,a.interactionId))))})(e.logger);return{request:(r,a={})=>n(e,r).andThen((e=>t.send(e,a))).andThen(cr).map((e=>e.items)),sendTransaction:(r,a={})=>n(e,{discriminator:"transaction",send:r}).andThen((e=>t.send(e,a))).andThen(cr).map((e=>e.items.send)),extensionStatus$:t.extensionStatus$,openPopup:t.openPopup}};var pr=function(e,t){return(pr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function fr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}pr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function hr(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function _r(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function mr(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return s}function yr(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)(r||!(a in t))&&(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}function gr(e){return this instanceof gr?(this.v=e,this):new gr(e)}function vr(e){return"function"==typeof e}function br(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var wr=br((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function kr(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var xr=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,n,r,a;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var s=_r(i),o=s.next();!o.done;o=s.next())o.value.remove(this)}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}else i.remove(this);var u=this.initialTeardown;if(vr(u))try{u()}catch(e){a=e instanceof wr?e.errors:[e]}var l=this._finalizers;if(l){this._finalizers=null;try{for(var c=_r(l),d=c.next();!d.done;d=c.next()){var p=d.value;try{Pr(p)}catch(e){a=a??[],e instanceof wr?a=yr(yr([],mr(a)),mr(e.errors)):a.push(e)}}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}if(a)throw new wr(a)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Pr(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&kr(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&kr(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e;var t}(),Sr=xr.EMPTY;function Rr(e){return e instanceof xr||e&&"closed"in e&&vr(e.remove)&&vr(e.add)&&vr(e.unsubscribe)}function Pr(e){vr(e)?e():e.unsubscribe()}var Tr={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,yr([e,t],mr(n)))},clearTimeout:function(e){return clearTimeout(e)},delegate:void 0};function Er(e){Tr.setTimeout((function(){throw e}))}function Cr(){}function Ir(e){e()}var Ar=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,Rr(t)&&t.add(n)):n.destination=Dr,n}return fr(t,e),t.create=function(e,t,n){return new Or(e,t,n)},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(xr);Function.prototype.bind;var qr=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){Nr(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){Nr(e)}else Nr(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){Nr(e)}},e}(),Or=function(e){function t(t,n,r){var a,i=e.call(this)||this;return a=vr(t)||!t?{next:t??void 0,error:n??void 0,complete:r??void 0}:t,i.destination=new qr(a),i}return fr(t,e),t}(Ar);function Nr(e){Er(e)}var Dr={closed:!0,next:Cr,error:function(e){throw e},complete:Cr},jr="function"==typeof Symbol&&Symbol.observable||"@@observable";function Fr(e){return e}var Ur=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this,a=function(e){return e&&e instanceof Ar||function(e){return e&&vr(e.next)&&vr(e.error)&&vr(e.complete)}(e)&&Rr(e)}(e)?e:new Or(e,t,n);return Ir((function(){var e=r,t=e.operator,n=e.source;a.add(t?t.call(a,n):n?r._subscribe(a):r._trySubscribe(a))})),a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=Lr(t))((function(t,r){var a=new Or({next:function(t){try{e(t)}catch(e){r(e),a.unsubscribe()}},error:r,complete:t});n.subscribe(a)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[jr]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(e){return 0===e.length?Fr:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=Lr(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function Lr(e){var t;return null!==(t=e??undefined)&&void 0!==t?t:Promise}function Zr(e){return function(t){if(function(e){return vr(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}function zr(e,t,n,r,a){return new Vr(e,t,n,r,a)}var Vr=function(e){function t(t,n,r,a,i,s){var o=e.call(this,t)||this;return o.onFinalize=i,o.shouldUnsubscribe=s,o._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,o._error=a?function(e){try{a(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,o._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,o}return fr(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(Ar),$r=br((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),Mr=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return fr(t,e),t.prototype.lift=function(e){var t=new Br(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new $r},t.prototype.next=function(e){var t=this;Ir((function(){var n,r;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var a=_r(t.currentObservers),i=a.next();!i.done;i=a.next())i.value.next(e)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;Ir((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;Ir((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,r=n.hasError,a=n.isStopped,i=n.observers;return r||a?Sr:(this.currentObservers=null,i.push(e),new xr((function(){t.currentObservers=null,kr(i,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,a=t.isStopped;n?e.error(r):a&&e.complete()},t.prototype.asObservable=function(){var e=new Ur;return e.source=this,e},t.create=function(e,t){return new Br(e,t)},t}(Ur),Br=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return fr(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:Sr},t}(Mr),Kr=function(){return Date.now()},Wr=function(e){function t(t,n){return e.call(this)||this}return fr(t,e),t.prototype.schedule=function(e,t){return this},t}(xr),Gr={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var a=Gr.delegate;return null!=a&&a.setInterval?a.setInterval.apply(a,yr([e,t],mr(n))):setInterval.apply(void 0,yr([e,t],mr(n)))},clearInterval:function(e){return clearInterval(e)},delegate:void 0},Hr=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return fr(t,e),t.prototype.schedule=function(e,t){var n;if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,a=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(a,r,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(a,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),Gr.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&Gr.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(e){r=!0,n=e||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,kr(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(Wr),Yr=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=Kr,e}(),Xr=function(e){function t(t,n){void 0===n&&(n=Yr.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r}return fr(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(Yr),Jr=new Xr(Hr),Qr=new Ur((function(e){return e.complete()}));function ea(e){return e&&vr(e.schedule)}function ta(e){return e[e.length-1]}function na(e){return ea(ta(e))?e.pop():void 0}var ra=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function aa(e){return vr(null==e?void 0:e.then)}function ia(e){return vr(e[jr])}function sa(e){return Symbol.asyncIterator&&vr(null==e?void 0:e[Symbol.asyncIterator])}function oa(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var ua="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function la(e){return vr(null==e?void 0:e[ua])}function ca(e){return function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,a=n.apply(e,t||[]),i=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){a[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||o(e,t)}))})}function o(e,t){try{!function(e){e.value instanceof gr?Promise.resolve(e.value.v).then(u,l):c(i[0][2],e)}(a[e](t))}catch(e){c(i[0][3],e)}}function u(e){o("next",e)}function l(e){o("throw",e)}function c(e,t){e(t),i.shift(),i.length&&o(i[0][0],i[0][1])}}(this,arguments,(function(){var t,n,r;return hr(this,(function(a){switch(a.label){case 0:t=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,gr(t.read())];case 3:return n=a.sent(),r=n.value,n.done?[4,gr(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,gr(r)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function da(e){return vr(null==e?void 0:e.getReader)}function pa(e){if(e instanceof Ur)return e;if(null!=e){if(ia(e))return function(e){return new Ur((function(t){var n=e[jr]();if(vr(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}))}(e);if(ra(e))return function(e){return new Ur((function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()}))}(e);if(aa(e))return function(e){return new Ur((function(t){e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,Er)}))}(e);if(sa(e))return fa(e);if(la(e))return function(e){return new Ur((function(t){var n,r;try{for(var a=_r(e),i=a.next();!i.done;i=a.next()){var s=i.value;if(t.next(s),t.closed)return}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}t.complete()}))}(e);if(da(e))return function(e){return fa(ca(e))}(e)}throw oa(e)}function fa(e){return new Ur((function(t){(function(e,t){var n,r,a,i;return function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function o(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?a(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(s,o)}u((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var s,o;return hr(this,(function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),n=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=_r(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,a){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,a,(t=e[n](t)).done,t.value)}))}}}(e),u.label=1;case 1:return[4,n.next()];case 2:if((r=u.sent()).done)return[3,4];if(s=r.value,t.next(s),t.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return o=u.sent(),a={error:o},[3,11];case 6:return u.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(a)throw a.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function ha(e,t,n,r,a){void 0===r&&(r=0),void 0===a&&(a=!1);var i=t.schedule((function(){n(),a?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(i),!a)return i}function _a(e,t){return void 0===t&&(t=0),Zr((function(n,r){n.subscribe(zr(r,(function(n){return ha(r,e,(function(){return r.next(n)}),t)}),(function(){return ha(r,e,(function(){return r.complete()}),t)}),(function(n){return ha(r,e,(function(){return r.error(n)}),t)})))}))}function ma(e,t){return void 0===t&&(t=0),Zr((function(n,r){r.add(e.schedule((function(){return n.subscribe(r)}),t))}))}function ya(e,t){if(!e)throw new Error("Iterable cannot be null");return new Ur((function(n){ha(n,t,(function(){var r=e[Symbol.asyncIterator]();ha(n,t,(function(){r.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}function ga(e,t){return t?function(e,t){if(null!=e){if(ia(e))return function(e,t){return pa(e).pipe(ma(t),_a(t))}(e,t);if(ra(e))return function(e,t){return new Ur((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}(e,t);if(aa(e))return function(e,t){return pa(e).pipe(ma(t),_a(t))}(e,t);if(sa(e))return ya(e,t);if(la(e))return function(e,t){return new Ur((function(n){var r;return ha(n,t,(function(){r=e[ua](),ha(n,t,(function(){var e,t,a;try{t=(e=r.next()).value,a=e.done}catch(e){return void n.error(e)}a?n.complete():n.next(t)}),0,!0)})),function(){return vr(null==r?void 0:r.return)&&r.return()}}))}(e,t);if(da(e))return function(e,t){return ya(ca(e),t)}(e,t)}throw oa(e)}(e,t):pa(e)}function va(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ga(e,na(e))}var ba=br((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}));function wa(e,t){var n="object"==typeof t;return new Promise((function(r,a){var i=new Or({next:function(e){r(e),i.unsubscribe()},error:a,complete:function(){n?r(t.defaultValue):a(new ba)}});e.subscribe(i)}))}function ka(e,t){return Zr((function(n,r){var a=0;n.subscribe(zr(r,(function(n){r.next(e.call(t,n,a++))})))}))}function xa(e,t,n){return void 0===n&&(n=1/0),vr(t)?xa((function(n,r){return ka((function(e,a){return t(n,e,r,a)}))(pa(e(n,r)))}),n):("number"==typeof t&&(n=t),Zr((function(t,r){return function(e,t,n,r,a,i,s,o){var u=[],l=0,c=0,d=!1,p=function(){d&&!u.length&&!l&&t.complete()},f=function(e){return l<r?h(e):u.push(e)},h=function(e){l++;var a=!1;pa(n(e,c++)).subscribe(zr(t,(function(e){t.next(e)}),(function(){a=!0}),void 0,(function(){if(a)try{l--;for(;u.length&&l<r;)e=void 0,e=u.shift(),h(e);p()}catch(e){t.error(e)}var e})))};return e.subscribe(zr(t,f,(function(){d=!0,p()}))),function(){}}(t,r,e,n)})))}function Sa(e,t,n){void 0===e&&(e=0),void 0===n&&(n=Jr);var r=-1;return null!=t&&(ea(t)?n=t:r=t),new Ur((function(t){var a=function(e){return e instanceof Date&&!isNaN(e)}(e)?+e-n.now():e;a<0&&(a=0);var i=0;return n.schedule((function(){t.closed||(t.next(i++),0<=r?this.schedule(void 0,r):t.complete())}),a)}))}function Ra(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=na(e),r=function(e,t){return"number"==typeof ta(e)?e.pop():1/0}(e),a=e;return a.length?1===a.length?pa(a[0]):function(e){return void 0===e&&(e=1/0),xa(Fr,e)}(r)(ga(a,n)):Qr}var Pa=Array.isArray;function Ta(e,t){return Zr((function(n,r){var a=0;n.subscribe(zr(r,(function(n){return e.call(t,n,a++)&&r.next(n)})))}))}function Ea(){return new ba}function Ca(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Ta((function(t,n){return e(t,n,r)})):Fr,Zr((function(e,t){var n=0;e.subscribe(zr(t,(function(e){++n<=1&&(t.next(e),1<=n&&t.complete())})))})),n?function(e){return Zr((function(t,n){var r=!1;t.subscribe(zr(n,(function(e){r=!0,n.next(e)}),(function(){r||n.next(e),n.complete()})))}))}(t):function(e){return void 0===e&&(e=Ea),Zr((function(t,n){var r=!1;t.subscribe(zr(n,(function(e){r=!0,n.next(e)}),(function(){return r?n.complete():n.error(e())})))}))}((function(){return new ba})))}}function Ia(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!0!==t){if(!1!==t){var a=new Or({next:function(){a.unsubscribe(),e()}});return pa(t.apply(void 0,yr([],mr(n)))).subscribe(a)}}else e()}function Aa(e,t){return Zr((function(n,r){var a=null,i=0,s=!1,o=function(){return s&&!a&&r.complete()};n.subscribe(zr(r,(function(n){null==a||a.unsubscribe();var s=0,u=i++;pa(e(n,u)).subscribe(a=zr(r,(function(e){return r.next(t?t(n,e,u,s++):e)}),(function(){a=null,o()})))}),(function(){s=!0,o()})))}))}function qa(e,t,n){var r=vr(e)||t||n?{next:e,error:t,complete:n}:e;return r?Zr((function(e,t){var n;null===(n=r.subscribe)||void 0===n||n.call(r);var a=!0;e.subscribe(zr(t,(function(e){var n;null===(n=r.next)||void 0===n||n.call(r,e),t.next(e)}),(function(){var e;a=!1,null===(e=r.complete)||void 0===e||e.call(r),t.complete()}),(function(e){var n;a=!1,null===(n=r.error)||void 0===n||n.call(r,e),t.error(e)}),(function(){var e,t;a&&(null===(e=r.unsubscribe)||void 0===e||e.call(r)),null===(t=r.finalize)||void 0===t||t.call(r)})))})):Fr}const Oa=e=>{const t=null==e?void 0:e.logger,n=(null==e?void 0:e.subjects)??{outgoingMessageSubject:new Mr,incomingMessageSubject:new Mr,responseSubject:new Mr,messageLifeCycleEventSubject:new Mr},r=new xr;r.add(n.incomingMessageSubject.pipe(qa((e=>{"eventType"in e?(null==t||t.debug(" messageLifecycleEvent",e),n.messageLifeCycleEventSubject.next(e)):(null==t||t.debug(" walletResponse",e),n.responseSubject.next(e))}))).subscribe()),r.add(n.outgoingMessageSubject.pipe(qa((e=>{null==t||t.debug(" walletRequest",e),window.dispatchEvent(new CustomEvent(ar,{detail:e}))}))).subscribe());const a=e=>{const t=e.detail;n.incomingMessageSubject.next(t)};addEventListener(ir,a);const i=n.messageLifeCycleEventSubject.pipe(Ta((e=>"extensionStatus"===e.eventType)));return{send:(e,r)=>{const a=new Mr,i=n.responseSubject.pipe(Ta((t=>t.interactionId===e.interactionId)),ka((e=>"success"===e.discriminator?rt(e):at(e)))),s=n.messageLifeCycleEventSubject.pipe(Ta((({interactionId:t,eventType:n})=>e.interactionId===t&&["requestCancelSuccess","requestCancelFail"].includes(n))),ka((e=>{const n=lr("canceledByUser",e.interactionId);return null==t||t.debug(" walletRequestCanceled",n),e})));r.requestControl&&r.requestControl({cancelRequest:()=>(n.outgoingMessageSubject.next({interactionId:e.interactionId,items:{discriminator:"cancelRequest"},metadata:e.metadata}),setTimeout((()=>{a.next(at(lr("canceledByUser",e.interactionId)))})),We.fromSafePromise(wa(Ra(i.pipe(ka((()=>"requestCancelFail"))),s.pipe(ka((({eventType:e})=>e))))))).andThen((e=>"requestCancelSuccess"===e?rt("requestCancelSuccess"):at("requestCancelFail"))),getRequest:()=>e});const o=Ra(i,a).pipe(Ca()),u=n.messageLifeCycleEventSubject.pipe(Ta((({interactionId:t})=>e.interactionId===t)),qa((e=>{r.eventCallback&&r.eventCallback(e.eventType)})),function(e){return Zr((function(t,n){pa(e).subscribe(zr(n,(function(){return n.complete()}),Cr)),!n.closed&&t.subscribe(n)}))}(i),function(e){void 0===e&&(e={});var t=e.connector,n=void 0===t?function(){return new Mr}:t,r=e.resetOnError,a=void 0===r||r,i=e.resetOnComplete,s=void 0===i||i,o=e.resetOnRefCountZero,u=void 0===o||o;return function(e){var t,r,i,o=0,l=!1,c=!1,d=function(){null==r||r.unsubscribe(),r=void 0},p=function(){d(),t=i=void 0,l=c=!1},f=function(){var e=t;p(),null==e||e.unsubscribe()};return Zr((function(e,h){o++,!c&&!l&&d();var _=i=i??n();h.add((function(){0==--o&&!c&&!l&&(r=Ia(f,u))})),_.subscribe(h),!t&&o>0&&(t=new Or({next:function(e){return _.next(e)},error:function(e){c=!0,d(),r=Ia(p,a,e),_.error(e)},complete:function(){l=!0,d(),r=Ia(p,s),_.complete()}}),pa(e).subscribe(t))}))(e)}}()),l=u.subscribe(),c=Ra(Sa(100).pipe(ka((()=>at(lr("missingExtension",e.interactionId))))),u).pipe(Ca(),Ta((e=>!("eventType"in e))));return(e=>We.fromPromise(wa(e),sr).andThen((e=>e)))(Ra(o,c,va(e).pipe(qa((e=>{n.outgoingMessageSubject.next(e)})),Ta((e=>!1)))).pipe(qa((()=>{l.unsubscribe()}))))},destroy:()=>{r.unsubscribe(),removeEventListener(ir,a)},openPopup:()=>{window.dispatchEvent(new CustomEvent(ar,{detail:{discriminator:"openPopup"}}))},extensionStatus$:va(!0).pipe(qa((()=>{n.outgoingMessageSubject.next({interactionId:crypto.randomUUID(),discriminator:"extensionStatus"})})),Aa((()=>function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===(e=function(e){return 1===e.length&&Pa(e[0])?e[0]:e}(e)).length?pa(e[0]):new Ur(function(e){return function(t){for(var n=[],r=function(r){n.push(pa(e[r]).subscribe(zr(t,(function(e){if(n){for(var a=0;a<n.length;a++)a!==r&&n[a].unsubscribe();n=null}t.next(e)}))))},a=0;n&&!t.closed&&a<e.length;a++)r(a)}}(e))}(i,Ra(i,Sa(100).pipe(ka((()=>({eventType:"extensionStatus",isWalletLinked:!1,isExtensionAvailable:!1})))))))))}};function Na(e,t){const n={seen:[],stylize:ja};return null!=t&&function(e,t){if(!t||!$a(t))return e;const n=Object.keys(t);let r=n.length;for(;r--;)e[n[r]]=t[n[r]]}(n,t),Da(n.showHidden)&&(n.showHidden=!1),Da(n.depth)&&(n.depth=2),Da(n.colors)&&(n.colors=!0),Da(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=Fa),Ga(n,e,n.depth)}function Da(e){return null==e}function ja(e){return e}function Fa(e,t){var n,r,a,i;const s=Na.styles[t];return null!=s&&null!=(null==(r=null==(n=null==Na?void 0:Na.colors)?void 0:n[s])?void 0:r[0])&&null!=(null==(i=null==(a=null==Na?void 0:Na.colors)?void 0:a[s])?void 0:i[1])?"["+Na.colors[s][0]+"m"+e+"["+Na.colors[s][1]+"m":e}function Ua(e){return"function"==typeof e}function La(e){return"string"==typeof e}function Za(e){return null===e}function za(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Va(e){return $a(e)&&"[object RegExp]"===Ka(e)}function $a(e){return"object"==typeof e&&null!==e}function Ma(e){return $a(e)&&("[object Error]"===Ka(e)||e instanceof Error)}function Ba(e){return $a(e)&&"[object Date]"===Ka(e)}function Ka(e){return Object.prototype.toString.call(e)}function Wa(e){return"["+Error.prototype.toString.call(e)+"]"}function Ga(e,t,n=0){if(e.customInspect&&null!=t&&Ua(t)&&(null==t?void 0:t.inspect)!==Na&&(null==t||!t.constructor||(null==t?void 0:t.constructor.prototype)!==t)){if("function"!=typeof t.inspect&&null!=t.toString)return t.toString();let r=null==t?void 0:t.inspect(n,e);return La(r)||(r=Ga(e,r,n)),r}const r=function(e,t){if(Da(t))return e.stylize("undefined","undefined");if(La(t)){const n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,"\\'")+"'";return e.stylize(n,"string")}return function(e){return"number"==typeof e}(t)?e.stylize(""+t,"number"):function(e){return"boolean"==typeof e}(t)?e.stylize(""+t,"boolean"):Za(t)?e.stylize("null","null"):void 0}(e,t);if(r)return r;let a=Object.keys(t);const i=function(e){const t={};return e.forEach((e=>{t[e]=!0})),t}(a);try{e.showHidden&&Object.getOwnPropertyNames&&(a=Object.getOwnPropertyNames(t))}catch{}if(Ma(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return Wa(t);if(0===a.length){if(!Ua(e.stylize))return t;if(Ua(t)){const n=t.name?": "+t.name:"";return e.stylize("[Function"+n+"]","special")}if(Va(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(Ba(t))return e.stylize(Date.prototype.toString.call(t),"date");if(Ma(t))return Wa(t)}let s,o="",u=!1,l=["{\n","\n}"];return Array.isArray(t)&&(u=!0,l=["[\n","\n]"]),Ua(t)&&(o=" [Function"+(t.name?": "+t.name:"")+"]"),Va(t)&&(o=" "+RegExp.prototype.toString.call(t)),Ba(t)&&(o=" "+Date.prototype.toUTCString.call(t)),Ma(t)&&(o=" "+Wa(t)),0!==a.length||u&&0!=t.length?n<0?Va(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),s=u?function(e,t,n,r,a){const i=[];for(let a=0,s=t.length;a<s;++a)za(t,String(a))?i.push(Ha(e,t,n,r,String(a),!0)):i.push("");return a.forEach((a=>{a.match(/^\d+$/)||i.push(Ha(e,t,n,r,a,!0))})),i}(e,t,n,i,a):a.map((r=>Ha(e,t,n,i,r,u))),e.seen.pop(),function(e,t,n){return n[0]+(""===t?"":t+"\n")+"  "+e.join(",\n  ")+" "+n[1]}(s,o,l)):l[0]+o+l[1]}function Ha(e,t,n,r,a,i){let s,o,u;u={value:void 0};try{u.value=t[a]}catch{}try{Object.getOwnPropertyDescriptor&&(u=Object.getOwnPropertyDescriptor(t,a)||u)}catch{}if(u.get?o=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(o=e.stylize("[Setter]","special")),za(r,a)||(s="["+a+"]"),o||(e.seen.indexOf(u.value)<0?(o=Za(n)?Ga(e,u.value,void 0):Ga(e,u.value,n-1),o.indexOf("\n")>-1&&(o=i?o.split("\n").map((e=>"  "+e)).join("\n").substr(2):"\n"+o.split("\n").map((e=>"   "+e)).join("\n"))):o=e.stylize("[Circular]","special")),Da(s)){if(i&&a.match(/^\d+$/))return o;s=JSON.stringify(""+a),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,"\\'").replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+o}var Ya,Xa,Ja;Na.colors={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]},Na.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},[typeof window,typeof document].includes("undefined"),null==(Ya=null==globalThis?void 0:globalThis.navigator)||Ya.userAgent,function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!=typeof t[t[e]])),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(Xa||(Xa={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(Ja||(Ja={}));const Qa=Xa.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ei=e=>{switch(typeof e){case"undefined":return Qa.undefined;case"string":return Qa.string;case"number":return isNaN(e)?Qa.nan:Qa.number;case"boolean":return Qa.boolean;case"function":return Qa.function;case"bigint":return Qa.bigint;case"symbol":return Qa.symbol;case"object":return Array.isArray(e)?Qa.array:null===e?Qa.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?Qa.promise:typeof Map<"u"&&e instanceof Map?Qa.map:typeof Set<"u"&&e instanceof Set?Qa.set:typeof Date<"u"&&e instanceof Date?Qa.date:Qa.object;default:return Qa.unknown}},ti=Xa.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ni extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(r);else if("invalid_return_type"===a.code)r(a.returnTypeError);else if("invalid_arguments"===a.code)r(a.argumentsError);else if(0===a.path.length)n._errors.push(t(a));else{let e=n,r=0;for(;r<a.path.length;){const n=a.path[r];r===a.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(a))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,Xa.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=(e=>e.message)){const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}ni.create=e=>new ni(e);const ri=(e,t)=>{let n;switch(e.code){case ti.invalid_type:n=e.received===Qa.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case ti.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Xa.jsonStringifyReplacer)}`;break;case ti.unrecognized_keys:n=`Unrecognized key(s) in object: ${Xa.joinValues(e.keys,", ")}`;break;case ti.invalid_union:n="Invalid input";break;case ti.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Xa.joinValues(e.options)}`;break;case ti.invalid_enum_value:n=`Invalid enum value. Expected ${Xa.joinValues(e.options)}, received '${e.received}'`;break;case ti.invalid_arguments:n="Invalid function arguments";break;case ti.invalid_return_type:n="Invalid function return type";break;case ti.invalid_date:n="Invalid date";break;case ti.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Xa.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case ti.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case ti.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case ti.custom:n="Invalid input";break;case ti.invalid_intersection_types:n="Intersection results could not be merged";break;case ti.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case ti.not_finite:n="Number must be finite";break;default:n=t.defaultError,Xa.assertNever(e)}return{message:n}};let ai=ri;function ii(e,t){const n=(e=>{const{data:t,path:n,errorMaps:r,issueData:a}=e,i=[...n,...a.path||[]],s={...a,path:i};let o="";const u=r.filter((e=>!!e)).slice().reverse();for(const e of u)o=e(s,{data:t,defaultError:o}).message;return{...a,path:i,message:a.message||o}})({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,ai,ri].filter((e=>!!e))});e.common.issues.push(n)}class si{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return oi;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const e of t)n.push({key:await e.key,value:await e.value});return si.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:a}=r;if("aborted"===t.status||"aborted"===a.status)return oi;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),(typeof a.value<"u"||r.alwaysSet)&&(n[t.value]=a.value)}return{status:e.value,value:n}}}const oi=Object.freeze({status:"aborted"}),ui=e=>({status:"valid",value:e}),li=e=>"aborted"===e.status,ci=e=>"dirty"===e.status,di=e=>"valid"===e.status,pi=e=>typeof Promise<"u"&&e instanceof Promise;var fi;!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(fi||(fi={}));class hi{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const _i=(e,t)=>{if(di(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new ni(e.common.issues);return this._error=t,this._error}}};function mi(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:a}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:a}:{errorMap:(e,t)=>"invalid_type"!==e.code?{message:t.defaultError}:typeof t.data>"u"?{message:r??t.defaultError}:{message:n??t.defaultError},description:a}}class yi{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return ei(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:ei(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new si,ctx:{common:e.parent.common,data:e.data,parsedType:ei(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(pi(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ei(e)},a=this._parseSync({data:e,path:r.path,parent:r});return _i(r,a)}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ei(e)},r=this._parse({data:e,path:n.path,parent:n}),a=await(pi(r)?r:Promise.resolve(r));return _i(n,a)}refine(e,t){const n=e=>"string"==typeof t||typeof t>"u"?{message:t}:"function"==typeof t?t(e):t;return this._refinement(((t,r)=>{const a=e(t),i=()=>r.addIssue({code:ti.custom,...n(t)});return typeof Promise<"u"&&a instanceof Promise?a.then((e=>!!e||(i(),!1))):!!a||(i(),!1)}))}refinement(e,t){return this._refinement(((n,r)=>!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1)))}_refinement(e){return new as({schema:this,typeName:ps.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return is.create(this,this._def)}nullable(){return ss.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return zi.create(this,this._def)}promise(){return rs.create(this,this._def)}or(e){return Mi.create([this,e],this._def)}and(e){return Gi.create(this,e,this._def)}transform(e){return new as({...mi(this._def),schema:this,typeName:ps.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new os({...mi(this._def),innerType:this,defaultValue:t,typeName:ps.ZodDefault})}brand(){return new cs({typeName:ps.ZodBranded,type:this,...mi(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new us({...mi(this._def),innerType:this,catchValue:t,typeName:ps.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return ds.create(this,e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const gi=/^c[^\s-]{8,}$/i,vi=/^[a-z][a-z0-9]*$/,bi=/[0-9A-HJKMNP-TV-Z]{26}/,wi=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,ki=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,xi=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,Si=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Ri=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Pi=e=>e.precision?e.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}Z$`):0===e.precision?e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Ti(e,t){return!(("v4"!==t&&t||!Si.test(e))&&("v6"!==t&&t||!Ri.test(e)))}class Ei extends yi{constructor(){super(...arguments),this._regex=(e,t,n)=>this.refinement((t=>e.test(t)),{validation:t,code:ti.invalid_string,...fi.errToObj(n)}),this.nonempty=e=>this.min(1,fi.errToObj(e)),this.trim=()=>new Ei({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new Ei({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new Ei({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Qa.string){const t=this._getOrReturnCtx(e);return ii(t,{code:ti.invalid_type,expected:Qa.string,received:t.parsedType}),oi}const t=new si;let n;for(const r of this._def.checks)if("min"===r.kind)e.data.length<r.value&&(n=this._getOrReturnCtx(e,n),ii(n,{code:ti.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("max"===r.kind)e.data.length>r.value&&(n=this._getOrReturnCtx(e,n),ii(n,{code:ti.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("length"===r.kind){const a=e.data.length>r.value,i=e.data.length<r.value;(a||i)&&(n=this._getOrReturnCtx(e,n),a?ii(n,{code:ti.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):i&&ii(n,{code:ti.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),t.dirty())}else if("email"===r.kind)ki.test(e.data)||(n=this._getOrReturnCtx(e,n),ii(n,{validation:"email",code:ti.invalid_string,message:r.message}),t.dirty());else if("emoji"===r.kind)xi.test(e.data)||(n=this._getOrReturnCtx(e,n),ii(n,{validation:"emoji",code:ti.invalid_string,message:r.message}),t.dirty());else if("uuid"===r.kind)wi.test(e.data)||(n=this._getOrReturnCtx(e,n),ii(n,{validation:"uuid",code:ti.invalid_string,message:r.message}),t.dirty());else if("cuid"===r.kind)gi.test(e.data)||(n=this._getOrReturnCtx(e,n),ii(n,{validation:"cuid",code:ti.invalid_string,message:r.message}),t.dirty());else if("cuid2"===r.kind)vi.test(e.data)||(n=this._getOrReturnCtx(e,n),ii(n,{validation:"cuid2",code:ti.invalid_string,message:r.message}),t.dirty());else if("ulid"===r.kind)bi.test(e.data)||(n=this._getOrReturnCtx(e,n),ii(n,{validation:"ulid",code:ti.invalid_string,message:r.message}),t.dirty());else if("url"===r.kind)try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),ii(n,{validation:"url",code:ti.invalid_string,message:r.message}),t.dirty()}else"regex"===r.kind?(r.regex.lastIndex=0,r.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),ii(n,{validation:"regex",code:ti.invalid_string,message:r.message}),t.dirty())):"trim"===r.kind?e.data=e.data.trim():"includes"===r.kind?e.data.includes(r.value,r.position)||(n=this._getOrReturnCtx(e,n),ii(n,{code:ti.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),t.dirty()):"toLowerCase"===r.kind?e.data=e.data.toLowerCase():"toUpperCase"===r.kind?e.data=e.data.toUpperCase():"startsWith"===r.kind?e.data.startsWith(r.value)||(n=this._getOrReturnCtx(e,n),ii(n,{code:ti.invalid_string,validation:{startsWith:r.value},message:r.message}),t.dirty()):"endsWith"===r.kind?e.data.endsWith(r.value)||(n=this._getOrReturnCtx(e,n),ii(n,{code:ti.invalid_string,validation:{endsWith:r.value},message:r.message}),t.dirty()):"datetime"===r.kind?Pi(r).test(e.data)||(n=this._getOrReturnCtx(e,n),ii(n,{code:ti.invalid_string,validation:"datetime",message:r.message}),t.dirty()):"ip"===r.kind?Ti(e.data,r.version)||(n=this._getOrReturnCtx(e,n),ii(n,{validation:"ip",code:ti.invalid_string,message:r.message}),t.dirty()):Xa.assertNever(r);return{status:t.value,value:e.data}}_addCheck(e){return new Ei({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...fi.errToObj(e)})}url(e){return this._addCheck({kind:"url",...fi.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...fi.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...fi.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...fi.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...fi.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...fi.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...fi.errToObj(e)})}datetime(e){var t;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(null==e?void 0:e.precision)>"u"?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,...fi.errToObj(null==e?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...fi.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...fi.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...fi.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...fi.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...fi.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...fi.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...fi.errToObj(t)})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function Ci(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r;return parseInt(e.toFixed(a).replace(".",""))%parseInt(t.toFixed(a).replace(".",""))/Math.pow(10,a)}Ei.create=e=>{var t;return new Ei({checks:[],typeName:ps.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...mi(e)})};class Ii extends yi{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Qa.number){const t=this._getOrReturnCtx(e);return ii(t,{code:ti.invalid_type,expected:Qa.number,received:t.parsedType}),oi}let t;const n=new si;for(const r of this._def.checks)"int"===r.kind?Xa.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),ii(t,{code:ti.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty()):"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),ii(t,{code:ti.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),ii(t,{code:ti.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"multipleOf"===r.kind?0!==Ci(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),ii(t,{code:ti.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),ii(t,{code:ti.not_finite,message:r.message}),n.dirty()):Xa.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,fi.toString(t))}gt(e,t){return this.setLimit("min",e,!1,fi.toString(t))}lte(e,t){return this.setLimit("max",e,!0,fi.toString(t))}lt(e,t){return this.setLimit("max",e,!1,fi.toString(t))}setLimit(e,t,n,r){return new Ii({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:fi.toString(r)}]})}_addCheck(e){return new Ii({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:fi.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:fi.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:fi.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:fi.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:fi.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:fi.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:fi.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:fi.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:fi.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&Xa.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Ii.create=e=>new Ii({checks:[],typeName:ps.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...mi(e)});class Ai extends yi{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Qa.bigint){const t=this._getOrReturnCtx(e);return ii(t,{code:ti.invalid_type,expected:Qa.bigint,received:t.parsedType}),oi}let t;const n=new si;for(const r of this._def.checks)"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),ii(t,{code:ti.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),ii(t,{code:ti.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),ii(t,{code:ti.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):Xa.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,fi.toString(t))}gt(e,t){return this.setLimit("min",e,!1,fi.toString(t))}lte(e,t){return this.setLimit("max",e,!0,fi.toString(t))}lt(e,t){return this.setLimit("max",e,!1,fi.toString(t))}setLimit(e,t,n,r){return new Ai({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:fi.toString(r)}]})}_addCheck(e){return new Ai({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:fi.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:fi.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:fi.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:fi.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:fi.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}Ai.create=e=>{var t;return new Ai({checks:[],typeName:ps.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...mi(e)})};class qi extends yi{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Qa.boolean){const t=this._getOrReturnCtx(e);return ii(t,{code:ti.invalid_type,expected:Qa.boolean,received:t.parsedType}),oi}return ui(e.data)}}qi.create=e=>new qi({typeName:ps.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...mi(e)});class Oi extends yi{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Qa.date){const t=this._getOrReturnCtx(e);return ii(t,{code:ti.invalid_type,expected:Qa.date,received:t.parsedType}),oi}if(isNaN(e.data.getTime()))return ii(this._getOrReturnCtx(e),{code:ti.invalid_date}),oi;const t=new si;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),ii(n,{code:ti.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),ii(n,{code:ti.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):Xa.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Oi({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:fi.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:fi.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}Oi.create=e=>new Oi({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:ps.ZodDate,...mi(e)});class Ni extends yi{_parse(e){if(this._getType(e)!==Qa.symbol){const t=this._getOrReturnCtx(e);return ii(t,{code:ti.invalid_type,expected:Qa.symbol,received:t.parsedType}),oi}return ui(e.data)}}Ni.create=e=>new Ni({typeName:ps.ZodSymbol,...mi(e)});class Di extends yi{_parse(e){if(this._getType(e)!==Qa.undefined){const t=this._getOrReturnCtx(e);return ii(t,{code:ti.invalid_type,expected:Qa.undefined,received:t.parsedType}),oi}return ui(e.data)}}Di.create=e=>new Di({typeName:ps.ZodUndefined,...mi(e)});class ji extends yi{_parse(e){if(this._getType(e)!==Qa.null){const t=this._getOrReturnCtx(e);return ii(t,{code:ti.invalid_type,expected:Qa.null,received:t.parsedType}),oi}return ui(e.data)}}ji.create=e=>new ji({typeName:ps.ZodNull,...mi(e)});class Fi extends yi{constructor(){super(...arguments),this._any=!0}_parse(e){return ui(e.data)}}Fi.create=e=>new Fi({typeName:ps.ZodAny,...mi(e)});class Ui extends yi{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ui(e.data)}}Ui.create=e=>new Ui({typeName:ps.ZodUnknown,...mi(e)});class Li extends yi{_parse(e){const t=this._getOrReturnCtx(e);return ii(t,{code:ti.invalid_type,expected:Qa.never,received:t.parsedType}),oi}}Li.create=e=>new Li({typeName:ps.ZodNever,...mi(e)});class Zi extends yi{_parse(e){if(this._getType(e)!==Qa.undefined){const t=this._getOrReturnCtx(e);return ii(t,{code:ti.invalid_type,expected:Qa.void,received:t.parsedType}),oi}return ui(e.data)}}Zi.create=e=>new Zi({typeName:ps.ZodVoid,...mi(e)});class zi extends yi{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==Qa.array)return ii(t,{code:ti.invalid_type,expected:Qa.array,received:t.parsedType}),oi;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,a=t.data.length<r.exactLength.value;(e||a)&&(ii(t,{code:e?ti.too_big:ti.too_small,minimum:a?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(ii(t,{code:ti.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(ii(t,{code:ti.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>r.type._parseAsync(new hi(t,e,t.path,n))))).then((e=>si.mergeArray(n,e)));const a=[...t.data].map(((e,n)=>r.type._parseSync(new hi(t,e,t.path,n))));return si.mergeArray(n,a)}get element(){return this._def.type}min(e,t){return new zi({...this._def,minLength:{value:e,message:fi.toString(t)}})}max(e,t){return new zi({...this._def,maxLength:{value:e,message:fi.toString(t)}})}length(e,t){return new zi({...this._def,exactLength:{value:e,message:fi.toString(t)}})}nonempty(e){return this.min(1,e)}}function Vi(e){if(e instanceof $i){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=is.create(Vi(r))}return new $i({...e._def,shape:()=>t})}return e instanceof zi?new zi({...e._def,type:Vi(e.element)}):e instanceof is?is.create(Vi(e.unwrap())):e instanceof ss?ss.create(Vi(e.unwrap())):e instanceof Hi?Hi.create(e.items.map((e=>Vi(e)))):e}zi.create=(e,t)=>new zi({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ps.ZodArray,...mi(t)});class $i extends yi{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=Xa.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==Qa.object){const t=this._getOrReturnCtx(e);return ii(t,{code:ti.invalid_type,expected:Qa.object,received:t.parsedType}),oi}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:a}=this._getCached(),i=[];if(!(this._def.catchall instanceof Li&&"strip"===this._def.unknownKeys))for(const e in n.data)a.includes(e)||i.push(e);const s=[];for(const e of a){const t=r[e],a=n.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new hi(n,a,n.path,e)),alwaysSet:e in n.data})}if(this._def.catchall instanceof Li){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of i)s.push({key:{status:"valid",value:e},value:{status:"valid",value:n.data[e]}});else if("strict"===e)i.length>0&&(ii(n,{code:ti.unrecognized_keys,keys:i}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of i){const r=n.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new hi(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of s){const n=await t.key;e.push({key:n,value:await t.value,alwaysSet:t.alwaysSet})}return e})).then((e=>si.mergeObjectSync(t,e))):si.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return fi.errToObj,new $i({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var r,a,i,s;const o=null!==(i=null===(a=(r=this._def).errorMap)||void 0===a?void 0:a.call(r,t,n).message)&&void 0!==i?i:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(s=fi.errToObj(e).message)&&void 0!==s?s:o}:{message:o}}}:{}})}strip(){return new $i({...this._def,unknownKeys:"strip"})}passthrough(){return new $i({...this._def,unknownKeys:"passthrough"})}extend(e){return new $i({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new $i({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ps.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new $i({...this._def,catchall:e})}pick(e){const t={};return Xa.objectKeys(e).forEach((n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])})),new $i({...this._def,shape:()=>t})}omit(e){const t={};return Xa.objectKeys(this.shape).forEach((n=>{e[n]||(t[n]=this.shape[n])})),new $i({...this._def,shape:()=>t})}deepPartial(){return Vi(this)}partial(e){const t={};return Xa.objectKeys(this.shape).forEach((n=>{const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()})),new $i({...this._def,shape:()=>t})}required(e){const t={};return Xa.objectKeys(this.shape).forEach((n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof is;)e=e._def.innerType;t[n]=e}})),new $i({...this._def,shape:()=>t})}keyof(){return es(Xa.objectKeys(this.shape))}}$i.create=(e,t)=>new $i({shape:()=>e,unknownKeys:"strip",catchall:Li.create(),typeName:ps.ZodObject,...mi(t)}),$i.strictCreate=(e,t)=>new $i({shape:()=>e,unknownKeys:"strict",catchall:Li.create(),typeName:ps.ZodObject,...mi(t)}),$i.lazycreate=(e,t)=>new $i({shape:e,unknownKeys:"strip",catchall:Li.create(),typeName:ps.ZodObject,...mi(t)});class Mi extends yi{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;const n=e.map((e=>new ni(e.ctx.common.issues)));return ii(t,{code:ti.invalid_union,unionErrors:n}),oi}));{let e;const r=[];for(const a of n){const n={...t,common:{...t.common,issues:[]},parent:null},i=a._parseSync({data:t.data,path:t.path,parent:n});if("valid"===i.status)return i;"dirty"===i.status&&!e&&(e={result:i,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const a=r.map((e=>new ni(e)));return ii(t,{code:ti.invalid_union,unionErrors:a}),oi}}get options(){return this._def.options}}Mi.create=(e,t)=>new Mi({options:e,typeName:ps.ZodUnion,...mi(t)});const Bi=e=>e instanceof Ji?Bi(e.schema):e instanceof as?Bi(e.innerType()):e instanceof Qi?[e.value]:e instanceof ts?e.options:e instanceof ns?Object.keys(e.enum):e instanceof os?Bi(e._def.innerType):e instanceof Di?[void 0]:e instanceof ji?[null]:null;class Ki extends yi{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Qa.object)return ii(t,{code:ti.invalid_type,expected:Qa.object,received:t.parsedType}),oi;const n=this.discriminator,r=t.data[n],a=this.optionsMap.get(r);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(ii(t,{code:ti.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),oi)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const r=new Map;for(const n of t){const t=Bi(n.shape[e]);if(!t)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of t){if(r.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);r.set(a,n)}}return new Ki({typeName:ps.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...mi(n)})}}function Wi(e,t){const n=ei(e),r=ei(t);if(e===t)return{valid:!0,data:e};if(n===Qa.object&&r===Qa.object){const n=Xa.objectKeys(t),r=Xa.objectKeys(e).filter((e=>-1!==n.indexOf(e))),a={...e,...t};for(const n of r){const r=Wi(e[n],t[n]);if(!r.valid)return{valid:!1};a[n]=r.data}return{valid:!0,data:a}}if(n===Qa.array&&r===Qa.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const a=Wi(e[r],t[r]);if(!a.valid)return{valid:!1};n.push(a.data)}return{valid:!0,data:n}}return n===Qa.date&&r===Qa.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Gi extends yi{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(li(e)||li(r))return oi;const a=Wi(e.value,r.value);return a.valid?((ci(e)||ci(r))&&t.dirty(),{status:t.value,value:a.data}):(ii(n,{code:ti.invalid_intersection_types}),oi)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((([e,t])=>r(e,t))):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Gi.create=(e,t,n)=>new Gi({left:e,right:t,typeName:ps.ZodIntersection,...mi(n)});class Hi extends yi{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Qa.array)return ii(n,{code:ti.invalid_type,expected:Qa.array,received:n.parsedType}),oi;if(n.data.length<this._def.items.length)return ii(n,{code:ti.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),oi;!this._def.rest&&n.data.length>this._def.items.length&&(ii(n,{code:ti.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new hi(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(r).then((e=>si.mergeArray(t,e))):si.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new Hi({...this._def,rest:e})}}Hi.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Hi({items:e,typeName:ps.ZodTuple,rest:null,...mi(t)})};class Yi extends yi{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Qa.map)return ii(n,{code:ti.invalid_type,expected:Qa.map,received:n.parsedType}),oi;const r=this._def.keyType,a=this._def.valueType,i=[...n.data.entries()].map((([e,t],i)=>({key:r._parse(new hi(n,e,n.path,[i,"key"])),value:a._parse(new hi(n,t,n.path,[i,"value"]))})));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of i){const r=await n.key,a=await n.value;if("aborted"===r.status||"aborted"===a.status)return oi;("dirty"===r.status||"dirty"===a.status)&&t.dirty(),e.set(r.value,a.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of i){const r=n.key,a=n.value;if("aborted"===r.status||"aborted"===a.status)return oi;("dirty"===r.status||"dirty"===a.status)&&t.dirty(),e.set(r.value,a.value)}return{status:t.value,value:e}}}}Yi.create=(e,t,n)=>new Yi({valueType:t,keyType:e,typeName:ps.ZodMap,...mi(n)});class Xi extends yi{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Qa.set)return ii(n,{code:ti.invalid_type,expected:Qa.set,received:n.parsedType}),oi;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(ii(n,{code:ti.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(ii(n,{code:ti.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const a=this._def.valueType;function i(e){const n=new Set;for(const r of e){if("aborted"===r.status)return oi;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const s=[...n.data.values()].map(((e,t)=>a._parse(new hi(n,e,n.path,t))));return n.common.async?Promise.all(s).then((e=>i(e))):i(s)}min(e,t){return new Xi({...this._def,minSize:{value:e,message:fi.toString(t)}})}max(e,t){return new Xi({...this._def,maxSize:{value:e,message:fi.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Xi.create=(e,t)=>new Xi({valueType:e,minSize:null,maxSize:null,typeName:ps.ZodSet,...mi(t)});class Ji extends yi{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Ji.create=(e,t)=>new Ji({getter:e,typeName:ps.ZodLazy,...mi(t)});class Qi extends yi{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return ii(t,{received:t.data,code:ti.invalid_literal,expected:this._def.value}),oi}return{status:"valid",value:e.data}}get value(){return this._def.value}}function es(e,t){return new ts({values:e,typeName:ps.ZodEnum,...mi(t)})}Qi.create=(e,t)=>new Qi({value:e,typeName:ps.ZodLiteral,...mi(t)});class ts extends yi{_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return ii(t,{expected:Xa.joinValues(n),received:t.parsedType,code:ti.invalid_type}),oi}if(-1===this._def.values.indexOf(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return ii(t,{received:t.data,code:ti.invalid_enum_value,options:n}),oi}return ui(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){return ts.create(e)}exclude(e){return ts.create(this.options.filter((t=>!e.includes(t))))}}ts.create=es;class ns extends yi{_parse(e){const t=Xa.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Qa.string&&n.parsedType!==Qa.number){const e=Xa.objectValues(t);return ii(n,{expected:Xa.joinValues(e),received:n.parsedType,code:ti.invalid_type}),oi}if(-1===t.indexOf(e.data)){const e=Xa.objectValues(t);return ii(n,{received:n.data,code:ti.invalid_enum_value,options:e}),oi}return ui(e.data)}get enum(){return this._def.values}}ns.create=(e,t)=>new ns({values:e,typeName:ps.ZodNativeEnum,...mi(t)});class rs extends yi{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Qa.promise&&!1===t.common.async)return ii(t,{code:ti.invalid_type,expected:Qa.promise,received:t.parsedType}),oi;const n=t.parsedType===Qa.promise?t.data:Promise.resolve(t.data);return ui(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}rs.create=(e,t)=>new rs({type:e,typeName:ps.ZodPromise,...mi(t)});class as extends yi{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ps.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null;if("preprocess"===r.type){const e=r.transform(n.data);return n.common.async?Promise.resolve(e).then((e=>this._def.schema._parseAsync({data:e,path:n.path,parent:n}))):this._def.schema._parseSync({data:e,path:n.path,parent:n})}const a={addIssue:e=>{ii(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),"refinement"===r.type){const e=e=>{const t=r.refinement(e,a);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?oi:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?oi:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!di(e))return e;const i=r.transform(e.value,a);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>di(e)?Promise.resolve(r.transform(e.value,a)).then((e=>({status:t.value,value:e}))):e))}Xa.assertNever(r)}}as.create=(e,t,n)=>new as({schema:e,typeName:ps.ZodEffects,effect:t,...mi(n)}),as.createWithPreprocess=(e,t,n)=>new as({schema:t,effect:{type:"preprocess",transform:e},typeName:ps.ZodEffects,...mi(n)});class is extends yi{_parse(e){return this._getType(e)===Qa.undefined?ui(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}is.create=(e,t)=>new is({innerType:e,typeName:ps.ZodOptional,...mi(t)});class ss extends yi{_parse(e){return this._getType(e)===Qa.null?ui(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ss.create=(e,t)=>new ss({innerType:e,typeName:ps.ZodNullable,...mi(t)});class os extends yi{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===Qa.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}os.create=(e,t)=>new os({innerType:e,typeName:ps.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...mi(t)});class us extends yi{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return pi(r)?r.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new ni(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new ni(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}us.create=(e,t)=>new us({innerType:e,typeName:ps.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...mi(t)});class ls extends yi{_parse(e){if(this._getType(e)!==Qa.nan){const t=this._getOrReturnCtx(e);return ii(t,{code:ti.invalid_type,expected:Qa.nan,received:t.parsedType}),oi}return{status:"valid",value:e.data}}}ls.create=e=>new ls({typeName:ps.ZodNaN,...mi(e)});class cs extends yi{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class ds extends yi{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?oi:"dirty"===e.status?(t.dirty(),(e=>({status:"dirty",value:e}))(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})();{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?oi:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new ds({in:e,out:t,typeName:ps.ZodPipeline})}}var ps;$i.lazycreate,function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline"}(ps||(ps={}));const fs=Ei.create;Ii.create,ls.create,Ai.create;const hs=qi.create;Oi.create,Ni.create,Di.create,ji.create,Fi.create,Ui.create,Li.create,Zi.create;const _s=zi.create,ms=$i.create;$i.strictCreate,Mi.create;const ys=Ki.create;Gi.create,Hi.create,Yi.create,Xi.create,Ji.create;const gs=Qi.create;ts.create,ns.create,rs.create,as.create,is.create,ss.create,as.createWithPreprocess,ds.create;const vs="persona",bs="account",ws=ys("type",[ms({challenge:fs(),proof:En,address:fs(),type:gs(vs)}),ms({challenge:fs(),proof:En,address:fs(),type:gs(bs)})]),ks=ys("entry",[ms({entry:gs("fullName"),fields:An}),ms({entry:gs("emailAddresses"),fields:_s(fs())}),ms({entry:gs("phoneNumbers"),fields:_s(fs())})]),xs=ms({accounts:_s(Tn),personaData:_s(ks),persona:In.optional(),proofs:_s(ws)}),Ss=ms({persona:ms({proof:hs()}).optional(),ongoingAccounts:ms({numberOfAccounts:qn.optional(),proof:hs()}).optional(),ongoingPersonaData:Dn.optional()}),Rs=ms({loggedInTimestamp:fs(),walletData:xs,sharedData:Ss}),Ps={accounts:[],personaData:[],proofs:[],persona:void 0};function Ts(e,t,n,r){return new(n||(n=Promise))((function(a,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function o(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?a(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(s,o)}u((r=r.apply(e,t||[])).next())}))}function Es(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}}function Cs(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return s}function Is(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)(r||!(a in t))&&(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}var As={withStackTrace:!1},qs=function(e,t,n){return void 0===n&&(n=As),{data:t.isOk()?{type:"Ok",value:t.value}:{type:"Err",value:t.error},message:e,stack:n.withStackTrace?(new Error).stack:void 0}},Os=function(){function e(e){this._promise=e}return e.fromSafePromise=function(t){return new e(t.then((function(e){return new $s(e)})))},e.fromPromise=function(t,n){return new e(t.then((function(e){return new $s(e)})).catch((function(e){return new Ms(n(e))})))},e.combine=function(e){return Us(e)},e.combineWithAllErrors=function(e){return Zs(e)},e.prototype.map=function(t){var n=this;return new e(this._promise.then((function(e){return Ts(n,void 0,void 0,(function(){var n;return Es(this,(function(r){switch(r.label){case 0:return e.isErr()?[2,new Ms(e.error)]:(n=$s.bind,[4,t(e.value)]);case 1:return[2,new(n.apply($s,[void 0,r.sent()]))]}}))}))})))},e.prototype.mapErr=function(t){var n=this;return new e(this._promise.then((function(e){return Ts(n,void 0,void 0,(function(){var n;return Es(this,(function(r){switch(r.label){case 0:return e.isOk()?[2,new $s(e.value)]:(n=Ms.bind,[4,t(e.error)]);case 1:return[2,new(n.apply(Ms,[void 0,r.sent()]))]}}))}))})))},e.prototype.andThen=function(t){return new e(this._promise.then((function(n){if(n.isErr())return new Ms(n.error);var r=t(n.value);return r instanceof e?r._promise:r})))},e.prototype.orElse=function(t){var n=this;return new e(this._promise.then((function(e){return Ts(n,void 0,void 0,(function(){return Es(this,(function(n){return e.isErr()?[2,t(e.error)]:[2,new $s(e.value)]}))}))})))},e.prototype.match=function(e,t){return this._promise.then((function(n){return n.match(e,t)}))},e.prototype.unwrapOr=function(e){return this._promise.then((function(t){return t.unwrapOr(e)}))},e.prototype.then=function(e,t){return this._promise.then(e,t)},e}(),Ns=function(e){return new Os(Promise.resolve(new $s(e)))},Ds=function(e){return new Os(Promise.resolve(new Ms(e)))};Os.fromPromise,Os.fromSafePromise;var js,Fs=function(e){return e.reduce((function(e,t){return e.isOk()?t.isErr()?Vs(t.error):e.map(function(e){return function(t){return Is(Is([],Cs(t),!1),[e],!1)}}(t.value)):e}),zs([]))},Us=function(e){return Os.fromSafePromise(Promise.all(e)).andThen(Fs)},Ls=function(e){return e.reduce((function(e,t){return t.isErr()?e.isErr()?Vs(Is(Is([],Cs(e.error),!1),[t.error],!1)):Vs([t.error]):e.isErr()?e:zs(Is(Is([],Cs(e.value),!1),[t.value],!1))}),zs([]))},Zs=function(e){return Os.fromSafePromise(Promise.all(e)).andThen(Ls)};!function(e){e.fromThrowable=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{var a=e.apply(void 0,Is([],Cs(n),!1));return zs(a)}catch(e){return Vs(t?t(e):e)}}},e.combine=function(e){return Fs(e)},e.combineWithAllErrors=function(e){return Ls(e)}}(js||(js={}));var zs=function(e){return new $s(e)},Vs=function(e){return new Ms(e)},$s=function(){function e(e){this.value=e}return e.prototype.isOk=function(){return!0},e.prototype.isErr=function(){return!this.isOk()},e.prototype.map=function(e){return zs(e(this.value))},e.prototype.mapErr=function(e){return zs(this.value)},e.prototype.andThen=function(e){return e(this.value)},e.prototype.orElse=function(e){return zs(this.value)},e.prototype.asyncAndThen=function(e){return e(this.value)},e.prototype.asyncMap=function(e){return Os.fromSafePromise(e(this.value))},e.prototype.unwrapOr=function(e){return this.value},e.prototype.match=function(e,t){return e(this.value)},e.prototype._unsafeUnwrap=function(e){return this.value},e.prototype._unsafeUnwrapErr=function(e){throw qs("Called `_unsafeUnwrapErr` on an Ok",this,e)},e}(),Ms=function(){function e(e){this.error=e}return e.prototype.isOk=function(){return!1},e.prototype.isErr=function(){return!this.isOk()},e.prototype.map=function(e){return Vs(this.error)},e.prototype.mapErr=function(e){return Vs(e(this.error))},e.prototype.andThen=function(e){return Vs(this.error)},e.prototype.orElse=function(e){return e(this.error)},e.prototype.asyncAndThen=function(e){return Ds(this.error)},e.prototype.asyncMap=function(e){return Ds(this.error)},e.prototype.unwrapOr=function(e){return e},e.prototype.match=function(e,t){return t(this.error)},e.prototype._unsafeUnwrap=function(e){throw qs("Called `_unsafeUnwrap` on an Err",this,e)},e.prototype._unsafeUnwrapErr=function(e){return this.error},e}();js.fromThrowable;var Bs=Symbol.for("immer-nothing"),Ks=Symbol.for("immer-draftable"),Ws=Symbol.for("immer-state");function Gs(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Hs=Object.getPrototypeOf;function Ys(e){return!!e&&!!e[Ws]}function Xs(e){var t;return!!e&&(Qs(e)||Array.isArray(e)||!!e[Ks]||!(null==(t=e.constructor)||!t[Ks])||ao(e)||io(e))}var Js=Object.prototype.constructor.toString();function Qs(e){if(!e||"object"!=typeof e)return!1;const t=Hs(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Js}function eo(e,t){0===to(e)?Object.entries(e).forEach((([n,r])=>{t(n,r,e)})):e.forEach(((n,r)=>t(r,n,e)))}function to(e){const t=e[Ws];return t?t.type_:Array.isArray(e)?1:ao(e)?2:io(e)?3:0}function no(e,t){return 2===to(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ro(e,t,n){const r=to(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function ao(e){return e instanceof Map}function io(e){return e instanceof Set}function so(e){return e.copy_||e.base_}function oo(e,t){if(ao(e))return new Map(e);if(io(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&Qs(e))return Hs(e)?{...e}:Object.assign(Object.create(null),e);const n=Object.getOwnPropertyDescriptors(e);delete n[Ws];let r=Reflect.ownKeys(n);for(let t=0;t<r.length;t++){const a=r[t],i=n[a];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(n[a]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[a]})}return Object.create(Hs(e),n)}function uo(e,t=!1){return co(e)||Ys(e)||!Xs(e)||(to(e)>1&&(e.set=e.add=e.clear=e.delete=lo),Object.freeze(e),t&&eo(e,((e,t)=>uo(t,!0)))),e}function lo(){Gs(2)}function co(e){return Object.isFrozen(e)}var po,fo={};function ho(e){const t=fo[e];return t||Gs(0),t}function _o(){return po}function mo(e,t){t&&(ho("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function yo(e){go(e),e.drafts_.forEach(bo),e.drafts_=null}function go(e){e===po&&(po=e.parent_)}function vo(e){return po=function(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}(po,e)}function bo(e){const t=e[Ws];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function wo(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[Ws].modified_&&(yo(t),Gs(4)),Xs(e)&&(e=ko(t,e),t.parent_||So(t,e)),t.patches_&&ho("Patches").generateReplacementPatches_(n[Ws].base_,e,t.patches_,t.inversePatches_)):e=ko(t,n,[]),yo(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Bs?e:void 0}function ko(e,t,n){if(co(t))return t;const r=t[Ws];if(!r)return eo(t,((a,i)=>xo(e,r,t,a,i,n))),t;if(r.scope_!==e)return t;if(!r.modified_)return So(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let a=t,i=!1;3===r.type_&&(a=new Set(t),t.clear(),i=!0),eo(a,((a,s)=>xo(e,r,t,a,s,n,i))),So(e,t,!1),n&&e.patches_&&ho("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function xo(e,t,n,r,a,i,s){if(Ys(a)){const s=ko(e,a,i&&t&&3!==t.type_&&!no(t.assigned_,r)?i.concat(r):void 0);if(ro(n,r,s),!Ys(s))return;e.canAutoFreeze_=!1}else s&&n.add(a);if(Xs(a)&&!co(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;ko(e,a),(!t||!t.scope_.parent_)&&So(e,a)}}function So(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&uo(t,n)}var Ro={get(e,t){if(t===Ws)return e;const n=so(e);if(!no(n,t))return function(e,t,n){var r;const a=Eo(t,n);return a?"value"in a?a.value:null==(r=a.get)?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!Xs(r)?r:r===To(e.base_,t)?(Io(e),e.copy_[t]=Ao(r,e)):r},has:(e,t)=>t in so(e),ownKeys:e=>Reflect.ownKeys(so(e)),set(e,t,n){const r=Eo(so(e),t);if(null!=r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=To(so(e),t),a=null==r?void 0:r[Ws];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(n,r)&&(void 0!==n||no(e.base_,t)))return!0;Io(e),Co(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==To(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Io(e),Co(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=so(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}},defineProperty(){Gs(11)},getPrototypeOf:e=>Hs(e.base_),setPrototypeOf(){Gs(12)}},Po={};function To(e,t){const n=e[Ws];return(n?so(n):e)[t]}function Eo(e,t){if(!(t in e))return;let n=Hs(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=Hs(n)}}function Co(e){e.modified_||(e.modified_=!0,e.parent_&&Co(e.parent_))}function Io(e){e.copy_||(e.copy_=oo(e.base_,e.scope_.immer_.useStrictShallowCopy_))}function Ao(e,t){const n=ao(e)?ho("MapSet").proxyMap_(e,t):io(e)?ho("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:_o(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,i=Ro;n&&(a=[r],i=Po);const{revoke:s,proxy:o}=Proxy.revocable(a,i);return r.draft_=o,r.revoke_=s,o}(e,t);return(t?t.scope_:_o()).drafts_.push(n),n}function qo(e){if(!Xs(e)||co(e))return e;const t=e[Ws];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=oo(e,t.scope_.immer_.useStrictShallowCopy_)}else n=oo(e,!0);return eo(n,((e,t)=>{ro(n,e,qo(t))})),t&&(t.finalized_=!1),n}eo(Ro,((e,t)=>{Po[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Po.deleteProperty=function(e,t){return Po.set.call(this,e,t,void 0)},Po.set=function(e,t,n){return Ro.set.call(this,e[0],t,n,e[0])};var Oo=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"==typeof e&&"function"!=typeof t){const n=t;t=e;const r=this;return function(e=n,...a){return r.produce(e,(e=>t.call(this,e,...a)))}}let r;if("function"!=typeof t&&Gs(6),void 0!==n&&"function"!=typeof n&&Gs(7),Xs(e)){const a=vo(this),i=Ao(e,void 0);let s=!0;try{r=t(i),s=!1}finally{s?yo(a):go(a)}return mo(a,n),wo(r,a)}if(!e||"object"!=typeof e){if(r=t(e),void 0===r&&(r=e),r===Bs&&(r=void 0),this.autoFreeze_&&uo(r,!0),n){const t=[],a=[];ho("Patches").generateReplacementPatches_(e,r,t,a),n(t,a)}return r}Gs(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...n)=>this.produceWithPatches(t,(t=>e(t,...n)));let n,r;return[this.produce(e,t,((e,t)=>{n=e,r=t})),n,r]},"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof(null==e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Xs(e)||Gs(8),Ys(e)&&(e=function(e){return Ys(e)||Gs(10),qo(e)}(e));const t=vo(this),n=Ao(e,void 0);return n[Ws].isManual_=!0,go(t),n}finishDraft(e,t){const n=e&&e[Ws];(!n||!n.isManual_)&&Gs(9);const{scope_:r}=n;return mo(r,t),wo(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=ho("Patches").applyPatches_;return Ys(e)?r(e,t):this.produce(e,(e=>r(e,t)))}},No=Oo.produce;Oo.produceWithPatches.bind(Oo),Oo.setAutoFreeze.bind(Oo),Oo.setUseStrictShallowCopy.bind(Oo),Oo.applyPatches.bind(Oo),Oo.createDraft.bind(Oo),Oo.finishDraft.bind(Oo);var Do=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fo={exports:{}};!function(e,t){var n="__lodash_hash_undefined__",r=1,a=2,i=9007199254740991,s="[object Arguments]",o="[object Array]",u="[object AsyncFunction]",l="[object Boolean]",c="[object Date]",d="[object Error]",p="[object Function]",f="[object GeneratorFunction]",h="[object Map]",_="[object Number]",m="[object Null]",y="[object Object]",g="[object Promise]",v="[object Proxy]",b="[object RegExp]",w="[object Set]",k="[object String]",x="[object Undefined]",S="[object WeakMap]",R="[object ArrayBuffer]",P="[object DataView]",T=/^\[object .+?Constructor\]$/,E=/^(?:0|[1-9]\d*)$/,C={};C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C[s]=C[o]=C[R]=C[l]=C[P]=C[c]=C[d]=C[p]=C[h]=C[_]=C[y]=C[b]=C[w]=C[k]=C[S]=!1;var I="object"==typeof Do&&Do&&Do.Object===Object&&Do,A="object"==typeof self&&self&&self.Object===Object&&self,q=I||A||Function("return this")(),O=t&&!t.nodeType&&t,N=O&&e&&!e.nodeType&&e,D=N&&N.exports===O,j=D&&I.process,F=function(){try{return j&&j.binding&&j.binding("util")}catch{}}(),U=F&&F.isTypedArray;function L(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function Z(e,t){return e.has(t)}function z(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function V(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var $,M=Array.prototype,B=Function.prototype,K=Object.prototype,W=q["__core-js_shared__"],G=B.toString,H=K.hasOwnProperty,Y=($=/[^.]+$/.exec(W&&W.keys&&W.keys.IE_PROTO||""))?"Symbol(src)_1."+$:"",X=K.toString,J=RegExp("^"+G.call(H).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Q=D?q.Buffer:void 0,ee=q.Symbol,te=q.Uint8Array,ne=K.propertyIsEnumerable,re=M.splice,ae=ee?ee.toStringTag:void 0,ie=Object.getOwnPropertySymbols,se=Q?Q.isBuffer:void 0,oe=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),ue=Oe(q,"DataView"),le=Oe(q,"Map"),ce=Oe(q,"Promise"),de=Oe(q,"Set"),pe=Oe(q,"WeakMap"),fe=Oe(Object,"create"),he=Fe(ue),_e=Fe(le),me=Fe(ce),ye=Fe(de),ge=Fe(pe),ve=ee?ee.prototype:void 0,be=ve?ve.valueOf:void 0;function we(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ke(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function xe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Se(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new xe;++t<n;)this.add(e[t])}function Re(e){var t=this.__data__=new ke(e);this.size=t.size}function Pe(e,t){for(var n=e.length;n--;)if(Ue(e[n][0],t))return n;return-1}function Te(e){return null==e?void 0===e?x:m:ae&&ae in Object(e)?function(e){var t=H.call(e,ae),n=e[ae];try{e[ae]=void 0;var r=!0}catch{}var a=X.call(e);return r&&(t?e[ae]=n:delete e[ae]),a}(e):function(e){return X.call(e)}(e)}function Ee(e){return Be(e)&&Te(e)==s}function Ce(e,t,n,i,u){return e===t||(null==e||null==t||!Be(e)&&!Be(t)?e!=e&&t!=t:function(e,t,n,i,u,p){var f=Ze(e),m=Ze(t),g=f?o:De(e),v=m?o:De(t),x=(g=g==s?y:g)==y,S=(v=v==s?y:v)==y,T=g==v;if(T&&ze(e)){if(!ze(t))return!1;f=!0,x=!1}if(T&&!x)return p||(p=new Re),f||Ke(e)?Ie(e,t,n,i,u,p):function(e,t,n,i,s,o,u){switch(n){case P:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case R:return!(e.byteLength!=t.byteLength||!o(new te(e),new te(t)));case l:case c:case _:return Ue(+e,+t);case d:return e.name==t.name&&e.message==t.message;case b:case k:return e==t+"";case h:var p=z;case w:var f=i&r;if(p||(p=V),e.size!=t.size&&!f)return!1;var m=u.get(e);if(m)return m==t;i|=a,u.set(e,t);var y=Ie(p(e),p(t),i,s,o,u);return u.delete(e),y;case"[object Symbol]":if(be)return be.call(e)==be.call(t)}return!1}(e,t,g,n,i,u,p);if(!(n&r)){var E=x&&H.call(e,"__wrapped__"),C=S&&H.call(t,"__wrapped__");if(E||C){var I=E?e.value():e,A=C?t.value():t;return p||(p=new Re),u(I,A,n,i,p)}}return!!T&&(p||(p=new Re),function(e,t,n,a,i,s){var o=n&r,u=Ae(e),l=u.length;if(l!=Ae(t).length&&!o)return!1;for(var c=l;c--;){var d=u[c];if(!(o?d in t:H.call(t,d)))return!1}var p=s.get(e);if(p&&s.get(t))return p==t;var f=!0;s.set(e,t),s.set(t,e);for(var h=o;++c<l;){var _=e[d=u[c]],m=t[d];if(a)var y=o?a(m,_,d,t,e,s):a(_,m,d,e,t,s);if(!(void 0===y?_===m||i(_,m,n,a,s):y)){f=!1;break}h||(h="constructor"==d)}if(f&&!h){var g=e.constructor,v=t.constructor;g!=v&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof v&&v instanceof v)&&(f=!1)}return s.delete(e),s.delete(t),f}(e,t,n,i,u,p))}(e,t,n,i,Ce,u))}function Ie(e,t,n,i,s,o){var u=n&r,l=e.length,c=t.length;if(l!=c&&!(u&&c>l))return!1;var d=o.get(e);if(d&&o.get(t))return d==t;var p=-1,f=!0,h=n&a?new Se:void 0;for(o.set(e,t),o.set(t,e);++p<l;){var _=e[p],m=t[p];if(i)var y=u?i(m,_,p,t,e,o):i(_,m,p,e,t,o);if(void 0!==y){if(y)continue;f=!1;break}if(h){if(!L(t,(function(e,t){if(!Z(h,t)&&(_===e||s(_,e,n,i,o)))return h.push(t)}))){f=!1;break}}else if(_!==m&&!s(_,m,n,i,o)){f=!1;break}}return o.delete(e),o.delete(t),f}function Ae(e){return function(e,t,n){var r=t(e);return Ze(e)?r:function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}(r,n(e))}(e,We,Ne)}function qe(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Oe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Me(e)||function(e){return!!Y&&Y in e}(e))&&(Ve(e)?J:T).test(Fe(e))}(n)?n:void 0}we.prototype.clear=function(){this.__data__=fe?fe(null):{},this.size=0},we.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},we.prototype.get=function(e){var t=this.__data__;if(fe){var r=t[e];return r===n?void 0:r}return H.call(t,e)?t[e]:void 0},we.prototype.has=function(e){var t=this.__data__;return fe?void 0!==t[e]:H.call(t,e)},we.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=fe&&void 0===t?n:t,this},ke.prototype.clear=function(){this.__data__=[],this.size=0},ke.prototype.delete=function(e){var t=this.__data__,n=Pe(t,e);return!(n<0||(n==t.length-1?t.pop():re.call(t,n,1),--this.size,0))},ke.prototype.get=function(e){var t=this.__data__,n=Pe(t,e);return n<0?void 0:t[n][1]},ke.prototype.has=function(e){return Pe(this.__data__,e)>-1},ke.prototype.set=function(e,t){var n=this.__data__,r=Pe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},xe.prototype.clear=function(){this.size=0,this.__data__={hash:new we,map:new(le||ke),string:new we}},xe.prototype.delete=function(e){var t=qe(this,e).delete(e);return this.size-=t?1:0,t},xe.prototype.get=function(e){return qe(this,e).get(e)},xe.prototype.has=function(e){return qe(this,e).has(e)},xe.prototype.set=function(e,t){var n=qe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Se.prototype.add=Se.prototype.push=function(e){return this.__data__.set(e,n),this},Se.prototype.has=function(e){return this.__data__.has(e)},Re.prototype.clear=function(){this.__data__=new ke,this.size=0},Re.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Re.prototype.get=function(e){return this.__data__.get(e)},Re.prototype.has=function(e){return this.__data__.has(e)},Re.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ke){var r=n.__data__;if(!le||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new xe(r)}return n.set(e,t),this.size=n.size,this};var Ne=ie?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,i=[];++n<r;){var s=e[n];t(s)&&(i[a++]=s)}return i}(ie(e),(function(t){return ne.call(e,t)})))}:function(){return[]},De=Te;function je(e,t){return!!(t=t??i)&&("number"==typeof e||E.test(e))&&e>-1&&e%1==0&&e<t}function Fe(e){if(null!=e){try{return G.call(e)}catch{}try{return e+""}catch{}}return""}function Ue(e,t){return e===t||e!=e&&t!=t}(ue&&De(new ue(new ArrayBuffer(1)))!=P||le&&De(new le)!=h||ce&&De(ce.resolve())!=g||de&&De(new de)!=w||pe&&De(new pe)!=S)&&(De=function(e){var t=Te(e),n=t==y?e.constructor:void 0,r=n?Fe(n):"";if(r)switch(r){case he:return P;case _e:return h;case me:return g;case ye:return w;case ge:return S}return t});var Le=Ee(function(){return arguments}())?Ee:function(e){return Be(e)&&H.call(e,"callee")&&!ne.call(e,"callee")},Ze=Array.isArray,ze=se||function(){return!1};function Ve(e){if(!Me(e))return!1;var t=Te(e);return t==p||t==f||t==u||t==v}function $e(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}function Me(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Be(e){return null!=e&&"object"==typeof e}var Ke=U?function(e){return function(t){return e(t)}}(U):function(e){return Be(e)&&$e(e.length)&&!!C[Te(e)]};function We(e){return function(e){return null!=e&&$e(e.length)&&!Ve(e)}(e)?function(e,t){var n=Ze(e),r=!n&&Le(e),a=!n&&!r&&ze(e),i=!n&&!r&&!a&&Ke(e),s=n||r||a||i,o=s?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=o.length;for(var l in e)(t||H.call(e,l))&&(!s||!("length"==l||a&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||je(l,u)))&&o.push(l);return o}(e):function(e){if(!function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||K)}(e))return oe(e);var t=[];for(var n in Object(e))H.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}e.exports=function(e,t){return Ce(e,t)}}(Fo,Fo.exports);const Uo=jo(Fo.exports);var Lo=Object.defineProperty,Zo=(e,t,n)=>(((e,t,n)=>{t in e?Lo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const zo="https://mainnet.radixdlt.com".replace(/\/+$/,"");class Vo{constructor(e={}){this.configuration=e}set config(e){this.configuration=e}get basePath(){return null!=this.configuration.basePath?this.configuration.basePath:zo}get fetchApi(){return this.configuration.fetchApi}get middleware(){return this.configuration.middleware||[]}get queryParamsStringify(){return this.configuration.queryParamsStringify||Yo}get username(){return this.configuration.username}get password(){return this.configuration.password}get apiKey(){const e=this.configuration.apiKey;if(e)return"function"==typeof e?e:()=>e}get accessToken(){const e=this.configuration.accessToken;if(e)return"function"==typeof e?e:async()=>e}get headers(){return this.configuration.headers}get credentials(){return this.configuration.credentials}}const $o=new Vo;class Mo{constructor(e=$o){Zo(this,"middleware"),Zo(this,"fetchApi",(async(e,t)=>{let n,r={url:e,init:t};for(const e of this.middleware)e.pre&&(r=await e.pre({fetch:this.fetchApi,...r})||r);try{n=await(this.configuration.fetchApi||fetch)(r.url,r.init)}catch(e){for(const t of this.middleware)t.onError&&(n=await t.onError({fetch:this.fetchApi,url:r.url,init:r.init,error:e,response:n?n.clone():void 0})||n);if(void 0===n)throw e}for(const e of this.middleware)e.post&&(n=await e.post({fetch:this.fetchApi,url:r.url,init:r.init,response:n.clone()})||n);return n})),this.configuration=e,this.middleware=e.middleware}withMiddleware(...e){const t=this.clone();return t.middleware=t.middleware.concat(...e),t}withPreMiddleware(...e){const t=e.map((e=>({pre:e})));return this.withMiddleware(...t)}withPostMiddleware(...e){const t=e.map((e=>({post:e})));return this.withMiddleware(...t)}async request(e,t){const{url:n,init:r}=await this.createFetchParams(e,t),a=await this.fetchApi(n,r);if(a&&a.status>=200&&a.status<300)return a;throw await Wo.from(a)}async createFetchParams(e,t){let n=this.configuration.basePath+e.path;void 0!==e.query&&0!==Object.keys(e.query).length&&(n+="?"+this.configuration.queryParamsStringify(e.query));const r=Object.assign({},this.configuration.headers,e.headers);Object.keys(r).forEach((e=>void 0===r[e]?delete r[e]:{}));const a="function"==typeof t?t:async()=>t,i={method:e.method,headers:r,body:e.body,credentials:this.configuration.credentials},s={...i,...await a({init:i,context:e})};return{url:n,init:{...s,body:Ko(s.body)||s.body instanceof URLSearchParams||Bo(s.body)?s.body:JSON.stringify(s.body)}}}clone(){const e=new(0,this.constructor)(this.configuration);return e.middleware=this.middleware.slice(),e}}function Bo(e){return typeof Blob<"u"&&e instanceof Blob}function Ko(e){return typeof FormData<"u"&&e instanceof FormData}class Wo extends Error{constructor(e,t,n){super(n?JSON.stringify(n):"Unknown error occurred"),Zo(this,"name","ResponseError"),this.fetchResponse=e,this.status=t,this.errorResponse=n}static async from(e){const t=e.status;try{const n=await e.json();return new Wo(e,t,n)}catch{return new Wo(e,t,void 0)}}}class Go extends Error{constructor(e,t){super(t),Zo(this,"name","RequiredError"),this.field=e}}function Ho(e,t){return null!=e[t]}function Yo(e,t=""){return Object.keys(e).map((n=>Xo(n,e[n],t))).filter((e=>e.length>0)).join("&")}function Xo(e,t,n=""){const r=n+(n.length?`[${e}]`:e);if(t instanceof Array){const e=t.map((e=>encodeURIComponent(String(e)))).join(`&${encodeURIComponent(r)}=`);return`${encodeURIComponent(r)}=${e}`}return t instanceof Set?Xo(e,Array.from(t),n):t instanceof Date?`${encodeURIComponent(r)}=${encodeURIComponent(t.toISOString())}`:t instanceof Object?Yo(t,r):`${encodeURIComponent(r)}=${encodeURIComponent(String(t))}`}class Jo{constructor(e,t=(e=>e)){this.raw=e,this.transformer=t}async value(){return this.transformer(await this.raw.json())}}function Qo(e){if(void 0!==e)return null===e?null:{state_version:e.state_version,timestamp:void 0===e.timestamp?void 0:null===e.timestamp?null:e.timestamp.toISOString(),epoch:e.epoch,round:e.round}}function eu(e){return function(e,t){return null==e?e:{entity_address:e.entity_address,resource_address:e.resource_address,balance_change:e.balance_change}}(e)}function tu(e){return function(e,t){return e}(e)}function nu(e){return function(e,t){return null==e?e:{type:tu(e.type),entity_address:e.entity_address,resource_address:e.resource_address,balance_change:e.balance_change}}(e)}function ru(e){return function(e,t){return null==e?e:{entity_address:e.entity_address,resource_address:e.resource_address,added:e.added,removed:e.removed}}(e)}function au(e){return function(e,t){return null==e?e:{fungible_fee_balance_changes:e.fungible_fee_balance_changes.map(nu),fungible_balance_changes:e.fungible_balance_changes.map(eu),non_fungible_balance_changes:e.non_fungible_balance_changes.map(ru)}}(e)}function iu(e){return function(e,t){return e}(e)}function su(e,t){return null==e?e:{kind:e.kind,type_name:Ho(e,"type_name")?e.type_name:void 0,field_name:Ho(e,"field_name")?e.field_name:void 0,element_kind:iu(e.element_kind),element_type_name:Ho(e,"element_type_name")?e.element_type_name:void 0,elements:e.elements.map(Iu)}}function ou(e,t){return null==e?e:{kind:e.kind,type_name:Ho(e,"type_name")?e.type_name:void 0,field_name:Ho(e,"field_name")?e.field_name:void 0,value:e.value}}function uu(e,t){return null==e?e:{kind:e.kind,type_name:Ho(e,"type_name")?e.type_name:void 0,field_name:Ho(e,"field_name")?e.field_name:void 0,element_kind:iu(e.element_kind),element_type_name:Ho(e,"element_type_name")?e.element_type_name:void 0,hex:e.hex}}function lu(e,t){return null==e?e:{kind:e.kind,type_name:Ho(e,"type_name")?e.type_name:void 0,field_name:Ho(e,"field_name")?e.field_name:void 0,value:e.value}}function cu(e,t){return null==e?e:{kind:e.kind,type_name:Ho(e,"type_name")?e.type_name:void 0,field_name:Ho(e,"field_name")?e.field_name:void 0,variant_id:e.variant_id,variant_name:Ho(e,"variant_name")?e.variant_name:void 0,fields:e.fields.map(Iu)}}function du(e,t){return null==e?e:{kind:e.kind,type_name:Ho(e,"type_name")?e.type_name:void 0,field_name:Ho(e,"field_name")?e.field_name:void 0,value:e.value}}function pu(e,t){return null==e?e:{kind:e.kind,type_name:Ho(e,"type_name")?e.type_name:void 0,field_name:Ho(e,"field_name")?e.field_name:void 0,value:e.value}}function fu(e,t){return null==e?e:{kind:e.kind,type_name:Ho(e,"type_name")?e.type_name:void 0,field_name:Ho(e,"field_name")?e.field_name:void 0,value:e.value}}function hu(e,t){return null==e?e:{kind:e.kind,type_name:Ho(e,"type_name")?e.type_name:void 0,field_name:Ho(e,"field_name")?e.field_name:void 0,value:e.value}}function _u(e,t){return null==e?e:{kind:e.kind,type_name:Ho(e,"type_name")?e.type_name:void 0,field_name:Ho(e,"field_name")?e.field_name:void 0,value:e.value}}function mu(e){return function(e,t){return null==e?e:{key:Iu(e.key),value:Iu(e.value)}}(e)}function yu(e){if(void 0!==e)return null===e?null:{key:Au(e.key),value:Au(e.value)}}function gu(e,t){return null==e?e:{kind:e.kind,type_name:Ho(e,"type_name")?e.type_name:void 0,field_name:Ho(e,"field_name")?e.field_name:void 0,key_kind:iu(e.key_kind),key_type_name:Ho(e,"key_type_name")?e.key_type_name:void 0,value_kind:iu(e.value_kind),value_type_name:Ho(e,"value_type_name")?e.value_type_name:void 0,entries:e.entries.map(mu)}}function vu(e,t){return null==e?e:{kind:e.kind,type_name:Ho(e,"type_name")?e.type_name:void 0,field_name:Ho(e,"field_name")?e.field_name:void 0,value:e.value}}function bu(e,t){return null==e?e:{kind:e.kind,type_name:Ho(e,"type_name")?e.type_name:void 0,field_name:Ho(e,"field_name")?e.field_name:void 0,value:e.value}}function wu(e,t){return null==e?e:{kind:e.kind,type_name:Ho(e,"type_name")?e.type_name:void 0,field_name:Ho(e,"field_name")?e.field_name:void 0,value:e.value}}function ku(e,t){return null==e?e:{kind:e.kind,type_name:Ho(e,"type_name")?e.type_name:void 0,field_name:Ho(e,"field_name")?e.field_name:void 0,value:e.value}}function xu(e,t){return null==e?e:{kind:e.kind,type_name:Ho(e,"type_name")?e.type_name:void 0,field_name:Ho(e,"field_name")?e.field_name:void 0,value:e.value}}function Su(e,t){return null==e?e:{kind:e.kind,type_name:Ho(e,"type_name")?e.type_name:void 0,field_name:Ho(e,"field_name")?e.field_name:void 0,fields:e.fields.map(Iu)}}function Ru(e,t){return null==e?e:{kind:e.kind,type_name:Ho(e,"type_name")?e.type_name:void 0,field_name:Ho(e,"field_name")?e.field_name:void 0,value:e.value}}function Pu(e,t){return null==e?e:{kind:e.kind,type_name:Ho(e,"type_name")?e.type_name:void 0,field_name:Ho(e,"field_name")?e.field_name:void 0,value:e.value}}function Tu(e,t){return null==e?e:{kind:e.kind,type_name:Ho(e,"type_name")?e.type_name:void 0,field_name:Ho(e,"field_name")?e.field_name:void 0,value:e.value}}function Eu(e,t){return null==e?e:{kind:e.kind,type_name:Ho(e,"type_name")?e.type_name:void 0,field_name:Ho(e,"field_name")?e.field_name:void 0,value:e.value}}function Cu(e,t){return null==e?e:{kind:e.kind,type_name:Ho(e,"type_name")?e.type_name:void 0,field_name:Ho(e,"field_name")?e.field_name:void 0,value:e.value}}function Iu(e){return function(e,t){if(null==e)return e;switch(e.kind){case"Array":return{...su(e),kind:"Array"};case"Bool":return{...ou(e),kind:"Bool"};case"Bytes":return{...uu(e),kind:"Bytes"};case"Decimal":return{...lu(e),kind:"Decimal"};case"Enum":return{...cu(e),kind:"Enum"};case"I128":return{...du(e),kind:"I128"};case"I16":return{...pu(e),kind:"I16"};case"I32":return{...fu(e),kind:"I32"};case"I64":return{...hu(e),kind:"I64"};case"I8":return{..._u(e),kind:"I8"};case"Map":return{...gu(e),kind:"Map"};case"NonFungibleLocalId":return{...vu(e),kind:"NonFungibleLocalId"};case"Own":return{...bu(e),kind:"Own"};case"PreciseDecimal":return{...wu(e),kind:"PreciseDecimal"};case"Reference":return{...ku(e),kind:"Reference"};case"String":return{...xu(e),kind:"String"};case"Tuple":return{...Su(e),kind:"Tuple"};case"U128":return{...Ru(e),kind:"U128"};case"U16":return{...Pu(e),kind:"U16"};case"U32":return{...Tu(e),kind:"U32"};case"U64":return{...Eu(e),kind:"U64"};case"U8":return{...Cu(e),kind:"U8"};default:throw new Error(`No variant of ProgrammaticScryptoSborValue exists with 'kind=${e.kind}'`)}}(e)}function Au(e){if(void 0!==e){if(null===e)return null;switch(e.kind){case"Array":return function(e){if(void 0!==e)return null===e?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,element_kind:e.element_kind,element_type_name:e.element_type_name,elements:e.elements.map(Au)}}(e);case"Bool":case"Decimal":case"I128":case"I16":case"I32":case"I64":case"I8":case"NonFungibleLocalId":case"Own":case"PreciseDecimal":case"Reference":case"String":case"U128":case"U16":case"U32":case"U64":case"U8":return function(e){if(void 0!==e)return null===e?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,value:e.value}}(e);case"Bytes":return function(e){if(void 0!==e)return null===e?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,element_kind:e.element_kind,element_type_name:e.element_type_name,hex:e.hex}}(e);case"Enum":return function(e){if(void 0!==e)return null===e?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,variant_id:e.variant_id,variant_name:e.variant_name,fields:e.fields.map(Au)}}(e);case"Map":return function(e){if(void 0!==e)return null===e?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,key_kind:e.key_kind,key_type_name:e.key_type_name,value_kind:e.value_kind,value_type_name:e.value_type_name,entries:e.entries.map(yu)}}(e);case"Tuple":return function(e){if(void 0!==e)return null===e?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,fields:e.fields.map(Au)}}(e);default:throw new Error(`No variant of ProgrammaticScryptoSborValue exists with 'kind=${e.kind}'`)}}}function qu(e){return function(e,t){return null==e?e:{name:e.name,emitter:e.emitter,data:Iu(e.data)}}(e)}const Ou={Unknown:"Unknown",CommittedSuccess:"CommittedSuccess",CommittedFailure:"CommittedFailure",Pending:"Pending",Rejected:"Rejected"};function Nu(e){return function(e,t){return e}(e)}function Du(e){return function(e,t){return null==e?e:{status:Ho(e,"status")?Nu(e.status):void 0,fee_summary:Ho(e,"fee_summary")?e.fee_summary:void 0,costing_parameters:Ho(e,"costing_parameters")?e.costing_parameters:void 0,fee_destination:Ho(e,"fee_destination")?e.fee_destination:void 0,fee_source:Ho(e,"fee_source")?e.fee_source:void 0,state_updates:Ho(e,"state_updates")?e.state_updates:void 0,next_epoch:Ho(e,"next_epoch")?e.next_epoch:void 0,output:Ho(e,"output")?e.output:void 0,events:Ho(e,"events")?e.events.map(qu):void 0,error_message:Ho(e,"error_message")?e.error_message:void 0}}(e)}function ju(e){return function(e,t){return null==e?e:{state_version:e.state_version,epoch:e.epoch,round:e.round,round_timestamp:e.round_timestamp,transaction_status:Nu(e.transaction_status),payload_hash:Ho(e,"payload_hash")?e.payload_hash:void 0,intent_hash:Ho(e,"intent_hash")?e.intent_hash:void 0,fee_paid:Ho(e,"fee_paid")?e.fee_paid:void 0,affected_global_entities:Ho(e,"affected_global_entities")?e.affected_global_entities:void 0,confirmed_at:Ho(e,"confirmed_at")?null===e.confirmed_at?null:new Date(e.confirmed_at):void 0,error_message:Ho(e,"error_message")?e.error_message:void 0,raw_hex:Ho(e,"raw_hex")?e.raw_hex:void 0,receipt:Ho(e,"receipt")?Du(e.receipt):void 0,message:Ho(e,"message")?e.message:void 0,balance_changes:Ho(e,"balance_changes")?au(e.balance_changes):void 0}}(e)}function Fu(e){return function(e,t){return e}(e)}function Uu(e){return function(e,t){return null==e?e:{resolution:Fu(e.resolution),explicit_rule:Ho(e,"explicit_rule")?e.explicit_rule:void 0}}(e)}function Lu(e){return function(e,t){return e}(e)}function Zu(e){return function(e,t){return null==e?e:{name:e.name,module:Lu(e.module)}}(e)}function zu(e){return function(e,t){return null==e?e:{role_key:Zu(e.role_key),assignment:Uu(e.assignment),updater_roles:Ho(e,"updater_roles")?e.updater_roles.map(Zu):void 0}}(e)}function Vu(e){return function(e,t){return null==e?e:{owner:e.owner,entries:e.entries.map(zu)}}(e)}function $u(e,t){return null==e?e:{type:e.type,values:e.values}}function Mu(e,t){return null==e?e:{type:e.type,value:e.value}}function Bu(e,t){return null==e?e:{type:e.type,values:e.values}}function Ku(e,t){return null==e?e:{type:e.type,value:e.value}}function Wu(e,t){return null==e?e:{type:e.type,values:e.values}}function Gu(e,t){return null==e?e:{type:e.type,value:e.value}}function Hu(e,t){return null==e?e:{type:e.type,values:e.values}}function Yu(e,t){return null==e?e:{type:e.type,value:e.value}}function Xu(e,t){return null==e?e:{type:e.type,values:e.values}}function Ju(e,t){return null==e?e:{type:e.type,value:e.value}}function Qu(e,t){return null==e?e:{type:e.type,values:e.values}}function el(e,t){return null==e?e:{type:e.type,value:e.value}}function tl(e){return function(e,t){return null==e?e:{resource_address:e.resource_address,non_fungible_id:e.non_fungible_id}}(e)}function nl(e,t){return null==e?e:{type:e.type,values:e.values.map(tl)}}function rl(e,t){return null==e?e:{type:e.type,resource_address:e.resource_address,non_fungible_id:e.non_fungible_id}}function al(e,t){return null==e?e:{type:e.type,values:e.values}}function il(e,t){return null==e?e:{type:e.type,value:e.value}}function sl(e,t){return null==e?e:{type:e.type,values:e.values}}function ol(e,t){return null==e?e:{type:e.type,value:e.value}}function ul(e,t){return null==e?e:{key_type:e.key_type,key_hex:e.key_hex}}function ll(e,t){return null==e?e:{key_type:e.key_type,key_hex:e.key_hex}}function cl(e){return function(e,t){if(null==e)return e;switch(e.key_type){case"EcdsaSecp256k1":return{...ul(e),key_type:"EcdsaSecp256k1"};case"EddsaEd25519":return{...ll(e),key_type:"EddsaEd25519"};default:throw new Error(`No variant of PublicKey exists with 'key_type=${e.key_type}'`)}}(e)}function dl(e){if(void 0!==e){if(null===e)return null;switch(e.key_type){case"EcdsaSecp256k1":case"EddsaEd25519":return function(e){if(void 0!==e)return null===e?null:{key_type:e.key_type,key_hex:e.key_hex}}(e);default:throw new Error(`No variant of PublicKey exists with 'key_type=${e.key_type}'`)}}}function pl(e,t){return null==e?e:{type:e.type,values:e.values.map(cl)}}function fl(e,t){return null==e?e:{key_hash_type:e.key_hash_type,hash_hex:e.hash_hex}}function hl(e,t){return null==e?e:{key_hash_type:e.key_hash_type,hash_hex:e.hash_hex}}function _l(e){return function(e,t){if(null==e)return e;switch(e.key_hash_type){case"EcdsaSecp256k1":return{...fl(e),key_hash_type:"EcdsaSecp256k1"};case"EddsaEd25519":return{...hl(e),key_hash_type:"EddsaEd25519"};default:throw new Error(`No variant of PublicKeyHash exists with 'key_hash_type=${e.key_hash_type}'`)}}(e)}function ml(e,t){return null==e?e:{type:e.type,values:e.values.map(_l)}}function yl(e,t){return null==e?e:{type:e.type,value:_l(e.value)}}function gl(e,t){return null==e?e:{type:e.type,value:cl(e.value)}}function vl(e,t){return null==e?e:{type:e.type,values:e.values}}function bl(e,t){return null==e?e:{type:e.type,value:e.value}}function wl(e,t){return null==e?e:{type:e.type,values:e.values}}function kl(e,t){return null==e?e:{type:e.type,value:e.value}}function xl(e,t){return null==e?e:{type:e.type,values:e.values}}function Sl(e,t){return null==e?e:{type:e.type,value:e.value}}function Rl(e,t){return null==e?e:{type:e.type,value_hex:e.value_hex}}function Pl(e,t){return null==e?e:{type:e.type,value:e.value}}function Tl(e,t){return null==e?e:{type:e.type,values:e.values}}function El(e,t){return null==e?e:{type:e.type,value:e.value}}function Cl(e){return function(e,t){if(null==e)return e;switch(e.type){case"Bool":return{...Mu(e),type:"Bool"};case"BoolArray":return{...$u(e),type:"BoolArray"};case"Decimal":return{...Ku(e),type:"Decimal"};case"DecimalArray":return{...Bu(e),type:"DecimalArray"};case"GlobalAddress":return{...Gu(e),type:"GlobalAddress"};case"GlobalAddressArray":return{...Wu(e),type:"GlobalAddressArray"};case"I32":return{...Yu(e),type:"I32"};case"I32Array":return{...Hu(e),type:"I32Array"};case"I64":return{...Ju(e),type:"I64"};case"I64Array":return{...Xu(e),type:"I64Array"};case"Instant":return{...el(e),type:"Instant"};case"InstantArray":return{...Qu(e),type:"InstantArray"};case"NonFungibleGlobalId":return{...rl(e),type:"NonFungibleGlobalId"};case"NonFungibleGlobalIdArray":return{...nl(e),type:"NonFungibleGlobalIdArray"};case"NonFungibleLocalId":return{...il(e),type:"NonFungibleLocalId"};case"NonFungibleLocalIdArray":return{...al(e),type:"NonFungibleLocalIdArray"};case"Origin":return{...ol(e),type:"Origin"};case"OriginArray":return{...sl(e),type:"OriginArray"};case"PublicKey":return{...gl(e),type:"PublicKey"};case"PublicKeyArray":return{...pl(e),type:"PublicKeyArray"};case"PublicKeyHash":return{...yl(e),type:"PublicKeyHash"};case"PublicKeyHashArray":return{...ml(e),type:"PublicKeyHashArray"};case"String":return{...bl(e),type:"String"};case"StringArray":return{...vl(e),type:"StringArray"};case"U32":return{...kl(e),type:"U32"};case"U32Array":return{...wl(e),type:"U32Array"};case"U64":return{...Sl(e),type:"U64"};case"U64Array":return{...xl(e),type:"U64Array"};case"U8":return{...Pl(e),type:"U8"};case"U8Array":return{...Rl(e),type:"U8Array"};case"Url":return{...El(e),type:"Url"};case"UrlArray":return{...Tl(e),type:"UrlArray"};default:throw new Error(`No variant of MetadataTypedValue exists with 'type=${e.type}'`)}}(e)}function Il(e){return function(e,t){return null==e?e:{raw_hex:e.raw_hex,programmatic_json:Iu(e.programmatic_json),typed:Cl(e.typed)}}(e)}function Al(e){return function(e,t){return null==e?e:{key:e.key,value:Il(e.value),is_locked:e.is_locked,last_updated_at_state_version:e.last_updated_at_state_version}}(e)}function ql(e){return function(e,t){return null==e?e:{total_count:Ho(e,"total_count")?e.total_count:void 0,next_cursor:Ho(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(Al)}}(e)}function Ol(e,t){return null==e?e:{aggregation_level:e.aggregation_level,resource_address:e.resource_address,explicit_metadata:Ho(e,"explicit_metadata")?ql(e.explicit_metadata):void 0,amount:e.amount,last_updated_at_state_version:e.last_updated_at_state_version}}function Nl(e){return function(e,t){return null==e?e:{vault_address:e.vault_address,amount:e.amount,last_updated_at_state_version:e.last_updated_at_state_version}}(e)}function Dl(e){return function(e,t){return null==e?e:{total_count:Ho(e,"total_count")?e.total_count:void 0,next_cursor:Ho(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(Nl)}}(e)}function jl(e,t){return null==e?e:{aggregation_level:e.aggregation_level,resource_address:e.resource_address,explicit_metadata:Ho(e,"explicit_metadata")?ql(e.explicit_metadata):void 0,vaults:Dl(e.vaults)}}function Fl(e){return function(e,t){if(null==e)return e;switch(e.aggregation_level){case"Global":return{...Ol(e),aggregation_level:"Global"};case"Vault":return{...jl(e),aggregation_level:"Vault"};default:throw new Error(`No variant of FungibleResourcesCollectionItem exists with 'aggregation_level=${e.aggregation_level}'`)}}(e)}function Ul(e){return function(e,t){return null==e?e:{total_count:Ho(e,"total_count")?e.total_count:void 0,next_cursor:Ho(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(Fl)}}(e)}function Ll(e){return function(e,t){return null==e?e:{release_version:e.release_version,open_api_schema_version:e.open_api_schema_version,image_tag:e.image_tag}}(e)}function Zl(e){return function(e,t){return null==e?e:{network:e.network,state_version:e.state_version,proposer_round_timestamp:e.proposer_round_timestamp,epoch:e.epoch,round:e.round}}(e)}function zl(e){return function(e,t){return null==e?e:{xrd:e.xrd,secp256k1_signature_virtual_badge:e.secp256k1_signature_virtual_badge,ed25519_signature_virtual_badge:e.ed25519_signature_virtual_badge,package_of_direct_caller_virtual_badge:e.package_of_direct_caller_virtual_badge,global_caller_virtual_badge:e.global_caller_virtual_badge,system_transaction_badge:e.system_transaction_badge,package_owner_badge:e.package_owner_badge,validator_owner_badge:e.validator_owner_badge,account_owner_badge:e.account_owner_badge,identity_owner_badge:e.identity_owner_badge,package_package:e.package_package,resource_package:e.resource_package,account_package:e.account_package,identity_package:e.identity_package,consensus_manager_package:e.consensus_manager_package,access_controller_package:e.access_controller_package,transaction_processor_package:e.transaction_processor_package,metadata_module_package:e.metadata_module_package,royalty_module_package:e.royalty_module_package,access_rules_package:e.access_rules_package,genesis_helper_package:e.genesis_helper_package,faucet_package:e.faucet_package,consensus_manager:e.consensus_manager,genesis_helper:e.genesis_helper,faucet:e.faucet,pool_package:e.pool_package}}(e)}function Vl(e){return function(e,t){return e}(e)}function $l(e){return function(e,t){return null==e?e:{total_count:Ho(e,"total_count")?e.total_count:void 0,next_cursor:Ho(e,"next_cursor")?e.next_cursor:void 0,items:e.items}}(e)}function Ml(e,t){return null==e?e:{aggregation_level:e.aggregation_level,resource_address:e.resource_address,explicit_metadata:Ho(e,"explicit_metadata")?ql(e.explicit_metadata):void 0,amount:e.amount,last_updated_at_state_version:e.last_updated_at_state_version}}function Bl(e){return function(e,t){return null==e?e:{total_count:e.total_count,next_cursor:Ho(e,"next_cursor")?e.next_cursor:void 0,items:Ho(e,"items")?e.items:void 0,vault_address:e.vault_address,last_updated_at_state_version:e.last_updated_at_state_version}}(e)}function Kl(e){return function(e,t){return null==e?e:{total_count:Ho(e,"total_count")?e.total_count:void 0,next_cursor:Ho(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(Bl)}}(e)}function Wl(e,t){return null==e?e:{aggregation_level:e.aggregation_level,resource_address:e.resource_address,explicit_metadata:Ho(e,"explicit_metadata")?ql(e.explicit_metadata):void 0,vaults:Kl(e.vaults)}}function Gl(e){return function(e,t){if(null==e)return e;switch(e.aggregation_level){case"Global":return{...Ml(e),aggregation_level:"Global"};case"Vault":return{...Wl(e),aggregation_level:"Vault"};default:throw new Error(`No variant of NonFungibleResourcesCollectionItem exists with 'aggregation_level=${e.aggregation_level}'`)}}(e)}function Hl(e){return function(e,t){return null==e?e:{total_count:Ho(e,"total_count")?e.total_count:void 0,next_cursor:Ho(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(Gl)}}(e)}function Yl(e){return function(e,t){return e}(e)}function Xl(e){return function(e,t){return null==e?e:{raw_hex:e.raw_hex,programmatic_json:Iu(e.programmatic_json)}}(e)}function Jl(e){if(void 0!==e)return null===e?null:{ancestor_identities:e.ancestor_identities,component_royalty_vault_balance:e.component_royalty_vault_balance,package_royalty_vault_balance:e.package_royalty_vault_balance,non_fungible_include_nfids:e.non_fungible_include_nfids,explicit_metadata:e.explicit_metadata}}function Ql(e){if(void 0!==e)return null===e?null:{at_ledger_state:Qo(e.at_ledger_state),opt_ins:Jl(e.opt_ins),addresses:e.addresses,aggregation_level:e.aggregation_level}}function ec(e){return function(e,t){return null==e?e:{parent_address:Ho(e,"parent_address")?e.parent_address:void 0,owner_address:Ho(e,"owner_address")?e.owner_address:void 0,global_address:Ho(e,"global_address")?e.global_address:void 0}}(e)}function tc(e,t){return null==e?e:{type:e.type,package_address:Ho(e,"package_address")?e.package_address:void 0,blueprint_name:e.blueprint_name,blueprint_version:e.blueprint_version,state:Ho(e,"state")?e.state:void 0,role_assignments:Ho(e,"role_assignments")?Vu(e.role_assignments):void 0,royalty_vault_balance:Ho(e,"royalty_vault_balance")?e.royalty_vault_balance:void 0}}function nc(e,t){return null==e?e:{type:e.type,role_assignments:Vu(e.role_assignments),divisibility:e.divisibility,total_supply:e.total_supply,total_minted:e.total_minted,total_burned:e.total_burned}}function rc(e,t){return null==e?e:{type:e.type,resource_address:e.resource_address,balance:Nl(e.balance)}}function ac(e,t){return null==e?e:{type:e.type,role_assignments:Vu(e.role_assignments),non_fungible_id_type:Vl(e.non_fungible_id_type),total_supply:e.total_supply,total_minted:e.total_minted,total_burned:e.total_burned}}function ic(e,t){return null==e?e:{type:e.type,resource_address:e.resource_address,balance:Bl(e.balance)}}function sc(e){return function(e,t){return null==e?e:{name:e.name,version:e.version,definition:e.definition,dependant_entities:Ho(e,"dependant_entities")?e.dependant_entities:void 0,auth_template:Ho(e,"auth_template")?e.auth_template:void 0,auth_template_is_locked:Ho(e,"auth_template_is_locked")?e.auth_template_is_locked:void 0,royalty_config:Ho(e,"royalty_config")?e.royalty_config:void 0,royalty_config_is_locked:Ho(e,"royalty_config_is_locked")?e.royalty_config_is_locked:void 0}}(e)}function oc(e){return function(e,t){return null==e?e:{total_count:Ho(e,"total_count")?e.total_count:void 0,next_cursor:Ho(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(sc)}}(e)}function uc(e){return function(e,t){return null==e?e:{schema_hash_hex:e.schema_hash_hex,schema_hex:e.schema_hex}}(e)}function lc(e){return function(e,t){return null==e?e:{total_count:Ho(e,"total_count")?e.total_count:void 0,next_cursor:Ho(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(uc)}}(e)}function cc(e,t){return null==e?e:{type:e.type,vm_type:Yl(e.vm_type),code_hash_hex:e.code_hash_hex,code_hex:e.code_hex,royalty_vault_balance:Ho(e,"royalty_vault_balance")?e.royalty_vault_balance:void 0,blueprints:Ho(e,"blueprints")?oc(e.blueprints):void 0,schemas:Ho(e,"schemas")?lc(e.schemas):void 0}}function dc(e){return function(e,t){if(null==e)return e;switch(e.type){case"Component":return{...tc(e),type:"Component"};case"FungibleResource":return{...nc(e),type:"FungibleResource"};case"FungibleVault":return{...rc(e),type:"FungibleVault"};case"NonFungibleResource":return{...ac(e),type:"NonFungibleResource"};case"NonFungibleVault":return{...ic(e),type:"NonFungibleVault"};case"Package":return{...cc(e),type:"Package"};default:throw new Error(`No variant of StateEntityDetailsResponseItemDetails exists with 'type=${e.type}'`)}}(e)}function pc(e){return function(e,t){return null==e?e:{address:e.address,fungible_resources:Ho(e,"fungible_resources")?Ul(e.fungible_resources):void 0,non_fungible_resources:Ho(e,"non_fungible_resources")?Hl(e.non_fungible_resources):void 0,ancestor_identities:Ho(e,"ancestor_identities")?ec(e.ancestor_identities):void 0,metadata:ql(e.metadata),explicit_metadata:Ho(e,"explicit_metadata")?ql(e.explicit_metadata):void 0,details:Ho(e,"details")?dc(e.details):void 0}}(e)}function fc(e){if(void 0!==e)return null===e?null:{at_ledger_state:Qo(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,address:e.address,resource_address:e.resource_address}}function hc(e){if(void 0!==e)return null===e?null:{explicit_metadata:e.explicit_metadata}}function _c(e){if(void 0!==e)return null===e?null:{at_ledger_state:Qo(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,address:e.address,aggregation_level:e.aggregation_level,opt_ins:hc(e.opt_ins)}}function mc(e){if(void 0!==e)return null===e?null:{at_ledger_state:Qo(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,address:e.address}}function yc(e){if(void 0!==e)return null===e?null:{at_ledger_state:Qo(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,address:e.address,vault_address:e.vault_address,resource_address:e.resource_address}}function gc(e){if(void 0!==e)return null===e?null:{non_fungible_include_nfids:e.non_fungible_include_nfids}}function vc(e){if(void 0!==e)return null===e?null:{at_ledger_state:Qo(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,address:e.address,resource_address:e.resource_address,opt_ins:gc(e.opt_ins)}}function bc(e){if(void 0!==e)return null===e?null:{non_fungible_include_nfids:e.non_fungible_include_nfids,explicit_metadata:e.explicit_metadata}}function wc(e){if(void 0!==e)return null===e?null:{at_ledger_state:Qo(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,address:e.address,aggregation_level:e.aggregation_level,opt_ins:bc(e.opt_ins)}}function kc(e){if(void 0!==e)return null===e?null:{key_hex:e.key_hex,key_json:Au(e.key_json)}}function xc(e){if(void 0!==e)return null===e?null:{at_ledger_state:Qo(e.at_ledger_state),key_value_store_address:e.key_value_store_address,keys:e.keys.map(kc)}}function Sc(e){return function(e,t){return null==e?e:{key:Xl(e.key),value:Xl(e.value),last_updated_at_state_version:e.last_updated_at_state_version,is_locked:e.is_locked}}(e)}function Rc(e){if(void 0!==e)return null===e?null:{at_ledger_state:Qo(e.at_ledger_state),resource_address:e.resource_address,non_fungible_ids:e.non_fungible_ids}}function Pc(e){return function(e,t){return null==e?e:{is_burned:e.is_burned,non_fungible_id:e.non_fungible_id,data:Ho(e,"data")?Xl(e.data):void 0,last_updated_at_state_version:e.last_updated_at_state_version}}(e)}function Tc(e){if(void 0!==e)return null===e?null:{at_ledger_state:Qo(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,resource_address:e.resource_address}}function Ec(e){if(void 0!==e)return null===e?null:{at_ledger_state:Qo(e.at_ledger_state),resource_address:e.resource_address,non_fungible_ids:e.non_fungible_ids}}function Cc(e){return function(e,t){return null==e?e:{non_fungible_id:e.non_fungible_id,owning_vault_address:Ho(e,"owning_vault_address")?e.owning_vault_address:void 0,is_burned:e.is_burned,last_updated_at_state_version:e.last_updated_at_state_version}}(e)}function Ic(e){if(void 0!==e)return null===e?null:{at_ledger_state:Qo(e.at_ledger_state),cursor:e.cursor}}function Ac(e){return function(e,t){return null==e?e:{stake:e.stake,stake_percentage:e.stake_percentage,key:cl(e.key)}}(e)}function qc(e){return function(e,t){return null==e?e:{balance:e.balance,last_changed_at_state_version:e.last_changed_at_state_version,address:e.address}}(e)}function Oc(e){return function(e,t){return null==e?e:{address:e.address,stake_vault:qc(e.stake_vault),pending_xrd_withdraw_vault:qc(e.pending_xrd_withdraw_vault),locked_owner_stake_unit_vault:qc(e.locked_owner_stake_unit_vault),pending_owner_stake_unit_unlock_vault:qc(e.pending_owner_stake_unit_unlock_vault),state:Ho(e,"state")?e.state:void 0,active_in_epoch:Ho(e,"active_in_epoch")?Ac(e.active_in_epoch):void 0,metadata:ql(e.metadata)}}(e)}function Nc(e){return function(e,t){return null==e?e:{total_count:Ho(e,"total_count")?e.total_count:void 0,next_cursor:Ho(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(Oc)}}(e)}function Dc(e){if(void 0!==e)return null===e?null:{event:e.event,emitter_address:e.emitter_address,resource_address:e.resource_address}}function jc(e){if(void 0!==e)return null===e?null:{raw_hex:e.raw_hex,receipt_state_changes:e.receipt_state_changes,receipt_fee_summary:e.receipt_fee_summary,receipt_fee_source:e.receipt_fee_source,receipt_fee_destination:e.receipt_fee_destination,receipt_costing_parameters:e.receipt_costing_parameters,receipt_events:e.receipt_events,receipt_output:e.receipt_output,affected_global_entities:e.affected_global_entities,balance_changes:e.balance_changes}}function Fc(e){if(void 0!==e)return null===e?null:{at_ledger_state:Qo(e.at_ledger_state),from_ledger_state:Qo(e.from_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,kind_filter:e.kind_filter,manifest_accounts_withdrawn_from_filter:e.manifest_accounts_withdrawn_from_filter,manifest_accounts_deposited_into_filter:e.manifest_accounts_deposited_into_filter,manifest_resources_filter:e.manifest_resources_filter,affected_global_entities_filter:e.affected_global_entities_filter,events_filter:void 0===e.events_filter?void 0:e.events_filter.map(Dc),order:e.order,opt_ins:jc(e.opt_ins)}}function Uc(e){if(void 0!==e)return null===e?null:{at_ledger_state:Qo(e.at_ledger_state),intent_hash:e.intent_hash,opt_ins:jc(e.opt_ins)}}function Lc(e){return function(e,t){return e}(e)}function Zc(e){return function(e,t){return e}(e)}function zc(e){return function(e,t){return e}(e)}function Vc(e){if(void 0!==e)return null===e?null:{use_free_credit:e.use_free_credit,assume_all_signature_proofs:e.assume_all_signature_proofs,skip_epoch_check:e.skip_epoch_check}}function $c(e){if(void 0!==e)return null===e?null:{manifest:e.manifest,blobs_hex:e.blobs_hex,start_epoch_inclusive:e.start_epoch_inclusive,end_epoch_exclusive:e.end_epoch_exclusive,notary_public_key:dl(e.notary_public_key),notary_is_signatory:e.notary_is_signatory,tip_percentage:e.tip_percentage,nonce:e.nonce,signer_public_keys:e.signer_public_keys.map(dl),flags:Vc(e.flags)}}function Mc(e){return function(e,t){return null==e?e:{level:e.level,message:e.message}}(e)}function Bc(e){if(void 0!==e)return null===e?null:{intent_hash:e.intent_hash}}function Kc(e){return function(e,t){return null==e?e:{payload_hash:e.payload_hash,status:Nu(e.status),payload_status:Ho(e,"payload_status")?zc(e.payload_status):void 0,payload_status_description:Ho(e,"payload_status_description")?e.payload_status_description:void 0,error_message:Ho(e,"error_message")?e.error_message:void 0,latest_error_message:Ho(e,"latest_error_message")?e.latest_error_message:void 0,handling_status:Ho(e,"handling_status")?Zc(e.handling_status):void 0,handling_status_reason:Ho(e,"handling_status_reason")?e.handling_status_reason:void 0,submission_error:Ho(e,"submission_error")?e.submission_error:void 0}}(e)}function Wc(e){if(void 0!==e)return null===e?null:{notarized_transaction_hex:e.notarized_transaction_hex}}function Gc(e){return function(e,t){return null==e?e:{address:e.address,proposals_made:Ho(e,"proposals_made")?e.proposals_made:void 0,proposals_missed:Ho(e,"proposals_missed")?e.proposals_missed:void 0,epochs_active_in:e.epochs_active_in}}(e)}function Hc(e){return function(e,t){return null==e?e:{items:e.items.map(Gc)}}(e)}function Yc(e){if(void 0!==e)return null===e?null:{at_ledger_state:Qo(e.at_ledger_state),from_ledger_state:Qo(e.from_ledger_state),validator_addresses:e.validator_addresses}}class Xc extends Mo{async entityFungibleResourceVaultPageRaw(e,t){if(null===e.stateEntityFungibleResourceVaultsPageRequest||void 0===e.stateEntityFungibleResourceVaultsPageRequest)throw new Go("stateEntityFungibleResourceVaultsPageRequest","Required parameter requestParameters.stateEntityFungibleResourceVaultsPageRequest was null or undefined when calling entityFungibleResourceVaultPage.");const n=await this.request({path:"/state/entity/page/fungible-vaults/",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:fc(e.stateEntityFungibleResourceVaultsPageRequest)},t);return new Jo(n,(e=>function(e){return function(e,t){return null==e?e:{ledger_state:Zl(e.ledger_state),total_count:Ho(e,"total_count")?e.total_count:void 0,next_cursor:Ho(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(Nl),address:e.address,resource_address:e.resource_address}}(e)}(e)))}async entityFungibleResourceVaultPage(e,t){return await(await this.entityFungibleResourceVaultPageRaw(e,t)).value()}async entityFungiblesPageRaw(e,t){if(null===e.stateEntityFungiblesPageRequest||void 0===e.stateEntityFungiblesPageRequest)throw new Go("stateEntityFungiblesPageRequest","Required parameter requestParameters.stateEntityFungiblesPageRequest was null or undefined when calling entityFungiblesPage.");const n=await this.request({path:"/state/entity/page/fungibles/",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:_c(e.stateEntityFungiblesPageRequest)},t);return new Jo(n,(e=>function(e){return function(e,t){return null==e?e:{ledger_state:Zl(e.ledger_state),total_count:Ho(e,"total_count")?e.total_count:void 0,next_cursor:Ho(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(Fl),address:e.address}}(e)}(e)))}async entityFungiblesPage(e,t){return await(await this.entityFungiblesPageRaw(e,t)).value()}async entityMetadataPageRaw(e,t){if(null===e.stateEntityMetadataPageRequest||void 0===e.stateEntityMetadataPageRequest)throw new Go("stateEntityMetadataPageRequest","Required parameter requestParameters.stateEntityMetadataPageRequest was null or undefined when calling entityMetadataPage.");const n=await this.request({path:"/state/entity/page/metadata",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:mc(e.stateEntityMetadataPageRequest)},t);return new Jo(n,(e=>function(e){return function(e,t){return null==e?e:{ledger_state:Zl(e.ledger_state),total_count:Ho(e,"total_count")?e.total_count:void 0,next_cursor:Ho(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(Al),address:e.address}}(e)}(e)))}async entityMetadataPage(e,t){return await(await this.entityMetadataPageRaw(e,t)).value()}async entityNonFungibleIdsPageRaw(e,t){if(null===e.stateEntityNonFungibleIdsPageRequest||void 0===e.stateEntityNonFungibleIdsPageRequest)throw new Go("stateEntityNonFungibleIdsPageRequest","Required parameter requestParameters.stateEntityNonFungibleIdsPageRequest was null or undefined when calling entityNonFungibleIdsPage.");const n=await this.request({path:"/state/entity/page/non-fungible-vault/ids",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:yc(e.stateEntityNonFungibleIdsPageRequest)},t);return new Jo(n,(e=>function(e){return function(e,t){return null==e?e:{ledger_state:Zl(e.ledger_state),total_count:Ho(e,"total_count")?e.total_count:void 0,next_cursor:Ho(e,"next_cursor")?e.next_cursor:void 0,items:e.items,address:e.address,resource_address:e.resource_address}}(e)}(e)))}async entityNonFungibleIdsPage(e,t){return await(await this.entityNonFungibleIdsPageRaw(e,t)).value()}async entityNonFungibleResourceVaultPageRaw(e,t){if(null===e.stateEntityNonFungibleResourceVaultsPageRequest||void 0===e.stateEntityNonFungibleResourceVaultsPageRequest)throw new Go("stateEntityNonFungibleResourceVaultsPageRequest","Required parameter requestParameters.stateEntityNonFungibleResourceVaultsPageRequest was null or undefined when calling entityNonFungibleResourceVaultPage.");const n=await this.request({path:"/state/entity/page/non-fungible-vaults/",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:vc(e.stateEntityNonFungibleResourceVaultsPageRequest)},t);return new Jo(n,(e=>function(e){return function(e,t){return null==e?e:{ledger_state:Zl(e.ledger_state),total_count:Ho(e,"total_count")?e.total_count:void 0,next_cursor:Ho(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(Bl),address:e.address,resource_address:e.resource_address}}(e)}(e)))}async entityNonFungibleResourceVaultPage(e,t){return await(await this.entityNonFungibleResourceVaultPageRaw(e,t)).value()}async entityNonFungiblesPageRaw(e,t){if(null===e.stateEntityNonFungiblesPageRequest||void 0===e.stateEntityNonFungiblesPageRequest)throw new Go("stateEntityNonFungiblesPageRequest","Required parameter requestParameters.stateEntityNonFungiblesPageRequest was null or undefined when calling entityNonFungiblesPage.");const n=await this.request({path:"/state/entity/page/non-fungibles/",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:wc(e.stateEntityNonFungiblesPageRequest)},t);return new Jo(n,(e=>function(e){return function(e,t){return null==e?e:{ledger_state:Zl(e.ledger_state),total_count:Ho(e,"total_count")?e.total_count:void 0,next_cursor:Ho(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(Gl),address:e.address}}(e)}(e)))}async entityNonFungiblesPage(e,t){return await(await this.entityNonFungiblesPageRaw(e,t)).value()}async keyValueStoreDataRaw(e,t){if(null===e.stateKeyValueStoreDataRequest||void 0===e.stateKeyValueStoreDataRequest)throw new Go("stateKeyValueStoreDataRequest","Required parameter requestParameters.stateKeyValueStoreDataRequest was null or undefined when calling keyValueStoreData.");const n=await this.request({path:"/state/key-value-store/data",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:xc(e.stateKeyValueStoreDataRequest)},t);return new Jo(n,(e=>function(e){return function(e,t){return null==e?e:{ledger_state:Zl(e.ledger_state),key_value_store_address:e.key_value_store_address,entries:e.entries.map(Sc)}}(e)}(e)))}async keyValueStoreData(e,t){return await(await this.keyValueStoreDataRaw(e,t)).value()}async nonFungibleDataRaw(e,t){if(null===e.stateNonFungibleDataRequest||void 0===e.stateNonFungibleDataRequest)throw new Go("stateNonFungibleDataRequest","Required parameter requestParameters.stateNonFungibleDataRequest was null or undefined when calling nonFungibleData.");const n=await this.request({path:"/state/non-fungible/data",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:Rc(e.stateNonFungibleDataRequest)},t);return new Jo(n,(e=>function(e){return function(e,t){return null==e?e:{ledger_state:Zl(e.ledger_state),resource_address:e.resource_address,non_fungible_id_type:Vl(e.non_fungible_id_type),non_fungible_ids:e.non_fungible_ids.map(Pc)}}(e)}(e)))}async nonFungibleData(e,t){return await(await this.nonFungibleDataRaw(e,t)).value()}async nonFungibleIdsRaw(e,t){if(null===e.stateNonFungibleIdsRequest||void 0===e.stateNonFungibleIdsRequest)throw new Go("stateNonFungibleIdsRequest","Required parameter requestParameters.stateNonFungibleIdsRequest was null or undefined when calling nonFungibleIds.");const n=await this.request({path:"/state/non-fungible/ids",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:Tc(e.stateNonFungibleIdsRequest)},t);return new Jo(n,(e=>function(e){return function(e,t){return null==e?e:{ledger_state:Zl(e.ledger_state),resource_address:e.resource_address,non_fungible_ids:$l(e.non_fungible_ids)}}(e)}(e)))}async nonFungibleIds(e,t){return await(await this.nonFungibleIdsRaw(e,t)).value()}async nonFungibleLocationRaw(e,t){if(null===e.stateNonFungibleLocationRequest||void 0===e.stateNonFungibleLocationRequest)throw new Go("stateNonFungibleLocationRequest","Required parameter requestParameters.stateNonFungibleLocationRequest was null or undefined when calling nonFungibleLocation.");const n=await this.request({path:"/state/non-fungible/location",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:Ec(e.stateNonFungibleLocationRequest)},t);return new Jo(n,(e=>function(e){return function(e,t){return null==e?e:{ledger_state:Zl(e.ledger_state),resource_address:e.resource_address,non_fungible_ids:e.non_fungible_ids.map(Cc)}}(e)}(e)))}async nonFungibleLocation(e,t){return await(await this.nonFungibleLocationRaw(e,t)).value()}async stateEntityDetailsRaw(e,t){if(null===e.stateEntityDetailsRequest||void 0===e.stateEntityDetailsRequest)throw new Go("stateEntityDetailsRequest","Required parameter requestParameters.stateEntityDetailsRequest was null or undefined when calling stateEntityDetails.");const n=await this.request({path:"/state/entity/details",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:Ql(e.stateEntityDetailsRequest)},t);return new Jo(n,(e=>function(e){return function(e,t){return null==e?e:{ledger_state:Zl(e.ledger_state),items:e.items.map(pc)}}(e)}(e)))}async stateEntityDetails(e,t){return await(await this.stateEntityDetailsRaw(e,t)).value()}async stateValidatorsListRaw(e,t){if(null===e.stateValidatorsListRequest||void 0===e.stateValidatorsListRequest)throw new Go("stateValidatorsListRequest","Required parameter requestParameters.stateValidatorsListRequest was null or undefined when calling stateValidatorsList.");const n=await this.request({path:"/state/validators/list",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:Ic(e.stateValidatorsListRequest)},t);return new Jo(n,(e=>function(e){return function(e,t){return null==e?e:{ledger_state:Zl(e.ledger_state),validators:Nc(e.validators)}}(e)}(e)))}async stateValidatorsList(e,t){return await(await this.stateValidatorsListRaw(e,t)).value()}}class Jc extends Mo{async validatorsUptimeRaw(e,t){if(null===e.validatorsUptimeRequest||void 0===e.validatorsUptimeRequest)throw new Go("validatorsUptimeRequest","Required parameter requestParameters.validatorsUptimeRequest was null or undefined when calling validatorsUptime.");const n=await this.request({path:"/statistics/validators/uptime",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:Yc(e.validatorsUptimeRequest)},t);return new Jo(n,(e=>function(e){return function(e,t){return null==e?e:{ledger_state:Zl(e.ledger_state),validators:Hc(e.validators)}}(e)}(e)))}async validatorsUptime(e,t){return await(await this.validatorsUptimeRaw(e,t)).value()}}class Qc extends Mo{async gatewayStatusRaw(e){const t=await this.request({path:"/status/gateway-status",method:"POST",headers:{},query:{}},e);return new Jo(t,(e=>function(e){return function(e,t){return null==e?e:{ledger_state:Zl(e.ledger_state),release_info:Ll(e.release_info)}}(e)}(e)))}async gatewayStatus(e){return await(await this.gatewayStatusRaw(e)).value()}async networkConfigurationRaw(e){const t=await this.request({path:"/status/network-configuration",method:"POST",headers:{},query:{}},e);return new Jo(t,(e=>function(e){return function(e,t){return null==e?e:{network_id:e.network_id,network_name:e.network_name,well_known_addresses:zl(e.well_known_addresses)}}(e)}(e)))}async networkConfiguration(e){return await(await this.networkConfigurationRaw(e)).value()}}class ed extends Mo{async streamTransactionsRaw(e,t){if(null===e.streamTransactionsRequest||void 0===e.streamTransactionsRequest)throw new Go("streamTransactionsRequest","Required parameter requestParameters.streamTransactionsRequest was null or undefined when calling streamTransactions.");const n=await this.request({path:"/stream/transactions",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:Fc(e.streamTransactionsRequest)},t);return new Jo(n,(e=>function(e){return function(e,t){return null==e?e:{ledger_state:Zl(e.ledger_state),total_count:Ho(e,"total_count")?e.total_count:void 0,next_cursor:Ho(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(ju)}}(e)}(e)))}async streamTransactions(e,t){return await(await this.streamTransactionsRaw(e,t)).value()}}class td extends Mo{async transactionCommittedDetailsRaw(e,t){if(null===e.transactionCommittedDetailsRequest||void 0===e.transactionCommittedDetailsRequest)throw new Go("transactionCommittedDetailsRequest","Required parameter requestParameters.transactionCommittedDetailsRequest was null or undefined when calling transactionCommittedDetails.");const n=await this.request({path:"/transaction/committed-details",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:Uc(e.transactionCommittedDetailsRequest)},t);return new Jo(n,(e=>function(e){return function(e,t){return null==e?e:{ledger_state:Zl(e.ledger_state),transaction:ju(e.transaction)}}(e)}(e)))}async transactionCommittedDetails(e,t){return await(await this.transactionCommittedDetailsRaw(e,t)).value()}async transactionConstructionRaw(e){const t=await this.request({path:"/transaction/construction",method:"POST",headers:{},query:{}},e);return new Jo(t,(e=>function(e){return function(e,t){return null==e?e:{ledger_state:Zl(e.ledger_state)}}(e)}(e)))}async transactionConstruction(e){return await(await this.transactionConstructionRaw(e)).value()}async transactionPreviewRaw(e,t){if(null===e.transactionPreviewRequest||void 0===e.transactionPreviewRequest)throw new Go("transactionPreviewRequest","Required parameter requestParameters.transactionPreviewRequest was null or undefined when calling transactionPreview.");const n=await this.request({path:"/transaction/preview",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:$c(e.transactionPreviewRequest)},t);return new Jo(n,(e=>function(e){return function(e,t){return null==e?e:{encoded_receipt:e.encoded_receipt,receipt:e.receipt,resource_changes:e.resource_changes,logs:e.logs.map(Mc)}}(e)}(e)))}async transactionPreview(e,t){return await(await this.transactionPreviewRaw(e,t)).value()}async transactionStatusRaw(e,t){if(null===e.transactionStatusRequest||void 0===e.transactionStatusRequest)throw new Go("transactionStatusRequest","Required parameter requestParameters.transactionStatusRequest was null or undefined when calling transactionStatus.");const n=await this.request({path:"/transaction/status",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:Bc(e.transactionStatusRequest)},t);return new Jo(n,(e=>function(e){return function(e,t){return null==e?e:{ledger_state:Zl(e.ledger_state),status:Nu(e.status),intent_status:Lc(e.intent_status),intent_status_description:e.intent_status_description,known_payloads:e.known_payloads.map(Kc),committed_state_version:Ho(e,"committed_state_version")?e.committed_state_version:void 0,error_message:Ho(e,"error_message")?e.error_message:void 0}}(e)}(e)))}async transactionStatus(e,t){return await(await this.transactionStatusRaw(e,t)).value()}async transactionSubmitRaw(e,t){if(null===e.transactionSubmitRequest||void 0===e.transactionSubmitRequest)throw new Go("transactionSubmitRequest","Required parameter requestParameters.transactionSubmitRequest was null or undefined when calling transactionSubmit.");const n=await this.request({path:"/transaction/submit",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:Wc(e.transactionSubmitRequest)},t);return new Jo(n,(e=>function(e){return function(e,t){return null==e?e:{duplicate:e.duplicate}}(e)}(e)))}async transactionSubmit(e,t){return await(await this.transactionSubmitRaw(e,t)).value()}}const nd=(e,t)=>{const n=[];for(let r=0,a=e.length;r<a;r+=t)n.push(e.slice(r,r+t));return n},rd=async(e,t)=>{let n=t;const r=[];do{const t=await e(n);r.push(...t.items),n=t.next_cursor}while(n);return r},ad=async(e,t)=>{let n=t;const r=[];let a;do{const t=await e(n);a=t.ledger_state,r.push(...t.items),n=t.next_cursor}while(n);return{aggregatedEntities:r,ledger_state:a}};class id{constructor(e,t){this.innerClient=e,this.configuration=t}async getEntityDetailsVaultAggregated(e,t,n){var r,a,i,s,o;const u=Array.isArray(e);if(u&&0===e.length)return Promise.resolve([]);if(u&&e.length>this.configuration.maxAddressesCount){const r=nd(e,this.configuration.maxAddressesCount);return Promise.all(r.map((e=>this.getEntityDetailsVaultAggregated(e,t,n)))).then((e=>e.flat()))}const{items:l,ledger_state:c}=await this.innerClient.stateEntityDetails({stateEntityDetailsRequest:{addresses:u?e:[e],aggregation_level:"Vault",opt_ins:{ancestor_identities:null!=(r=null==t?void 0:t.ancestorIdentities)&&r,component_royalty_vault_balance:null!=(a=null==t?void 0:t.componentRoyaltyVaultBalance)&&a,package_royalty_vault_balance:null!=(i=null==t?void 0:t.packageRoyaltyVaultBalance)&&i,non_fungible_include_nfids:null==(s=null==t?void 0:t.nonFungibleIncludeNfids)||s,explicit_metadata:null!=(o=null==t?void 0:t.explicitMetadata)?o:[]},at_ledger_state:n}}).then((e=>this.ensureResourcesProperties(e)));return u?Promise.all(l.map((e=>this.queryAllFungibles(e,n||{state_version:c.state_version})))):this.queryAllFungibles(l[0],n||{state_version:c.state_version})}async getEntityMetadata(e,t){return this.innerClient.entityMetadataPage({stateEntityMetadataPageRequest:{address:e,cursor:t}})}async getNonFungibleLocation(e,t){if(t.length>this.configuration.maxNftIdsCount){const n=nd(t,this.configuration.maxNftIdsCount);return Promise.all(n.map((t=>this.getNonFungibleLocation(e,t)))).then((e=>e.flat()))}return this.innerClient.nonFungibleLocation({stateNonFungibleLocationRequest:{resource_address:e,non_fungible_ids:t}}).then((e=>e.non_fungible_ids))}async getAllEntityMetadata(e,t){return rd(this.getEntityMetadata.bind(this,e),t)}async getValidators(e){return this.innerClient.stateValidatorsList({stateValidatorsListRequest:{cursor:e||null}}).then((({validators:e})=>e))}async getAllValidators(e){return rd(this.getValidators.bind(this),e)}async getValidatorsWithLedgerState(e){return this.innerClient.stateValidatorsList({stateValidatorsListRequest:{cursor:e||null}})}async getAllValidatorsWithLedgerState(e){return ad((e=>this.getValidatorsWithLedgerState(e).then((e=>({items:e.validators.items,ledger_state:e.ledger_state})))),e)}async getNonFungibleIds(e,t,n){return this.innerClient.nonFungibleIds({stateNonFungibleIdsRequest:{resource_address:e,cursor:n,at_ledger_state:t}}).then((({non_fungible_ids:e})=>e))}async getAllNonFungibleIds(e,t,n){let r=n,a=t;const i=[];do{const t=await this.innerClient.nonFungibleIds({stateNonFungibleIdsRequest:{resource_address:e,cursor:a,at_ledger_state:r}});i.push(...t.non_fungible_ids.items),r=r||{state_version:t.ledger_state.state_version},a=t.non_fungible_ids.next_cursor}while(a);return i}async getNonFungibleData(e,t,n){const r=Array.isArray(t);if(r&&0===t.length)return Promise.resolve([]);if(r&&t.length>this.configuration.maxNftIdsCount){const r=nd(t,this.configuration.maxNftIdsCount);return Promise.all(r.map((t=>this.getNonFungibleData(e,t,n)))).then((e=>e.flat()))}const{non_fungible_ids:a}=await this.innerClient.nonFungibleData({stateNonFungibleDataRequest:{resource_address:e,non_fungible_ids:r?t:[t],at_ledger_state:n}});return r?a:a[0]}async getEntityFungiblesPageVaultAggregated(e,t,n){return this.innerClient.entityFungiblesPage({stateEntityFungiblesPageRequest:{address:e,cursor:t,aggregation_level:"Vault",at_ledger_state:n}})}async queryAllFungibles(e,t){var n,r;const a=null==(n=null==e?void 0:e.fungible_resources)?void 0:n.next_cursor;if(!a)return Promise.resolve(e);const i=await ad((n=>this.getEntityFungiblesPageVaultAggregated(e.address,n,t)),a);return Promise.resolve({...e,fungible_resources:{items:[...(null==(r=null==e?void 0:e.fungible_resources)?void 0:r.items)||[],...i.aggregatedEntities]}})}ensureResourcesProperties(e){return{...e,items:e.items.map((e=>({...e,fungible_resources:e.fungible_resources||{total_count:0,items:[]},non_fungible_resources:e.non_fungible_resources||{total_count:0,items:[]}})))}}}const sd=Object.values({Mainnet:{networkName:"Mainnet",networkId:1,gatewayUrl:"https://mainnet.radixdlt.com",dashboardUrl:"https://dashboard.radixdlt.com"},Stokenet:{networkName:"Stokenet",networkId:2,gatewayUrl:"https://babylon-stokenet-gateway.radixdlt.com",dashboardUrl:"https://stokenet-dashboard.radixdlt.com"},Kisharnet:{networkName:"Kisharnet",networkId:12,gatewayUrl:"https://kisharnet-gateway.radixdlt.com",dashboardUrl:"https://kisharnet-dashboard.radixdlt.com"},RCnetV1:{networkName:"RCnetV1",networkId:12,gatewayUrl:"https://rcnet.radixdlt.com",dashboardUrl:"https://rcnet-dashboard.radixdlt.com"},Zabanet:{networkName:"Zabanet",networkId:14,gatewayUrl:"https://zabanet-gateway.radixdlt.com",dashboardUrl:"https://rcnet-v3-dashboard.radixdlt.com"},RCnetV3:{networkName:"RCNetV3",networkId:14,gatewayUrl:"https://zabanet-gateway.radixdlt.com",dashboardUrl:"https://rcnet-v3-dashboard.radixdlt.com"},Gilganet:{networkName:"Gilganet",networkId:32,gatewayUrl:"https://gilganet-gateway.radixdlt.com",dashboardUrl:""},Enkinet:{networkName:"Enkinet",networkId:33,gatewayUrl:"https://enkinet-gateway.radixdlt.com",dashboardUrl:"https://enkinet-dashboard.rdx-works-main.extratools.works"},Hammunet:{networkName:"Hammunet",networkId:34,gatewayUrl:"https://hammunet-gateway.radixdlt.com",dashboardUrl:"https://hammunet-dashboard.rdx-works-main.extratools.works"},Dumunet:{networkName:"Dumunet",networkId:37,gatewayUrl:"https://dumunet-gateway.radixdlt.com",dashboardUrl:"https://dumunet-dashboard.rdx-works-main.extratools.works"}}).reduce(((e,t)=>(e[t.networkId]=t,e)),{});class od{constructor(e,t){this.innerClient=e,this.configuration=t}getValidatorsUptimeFromTo(e,t,n){var r,a;if(e.length>((null==(r=this.configuration)?void 0:r.maxValidatorsUptimeCount)||200)){const r=nd(e,(null==(a=this.configuration)?void 0:a.maxValidatorsUptimeCount)||200);return Promise.all(r.map((e=>this.getValidatorsUptimeFromTo(e,t,n)))).then((e=>e.flat()))}return this.innerClient.validatorsUptime({validatorsUptimeRequest:{validator_addresses:e,from_ledger_state:void 0!==t?t instanceof Date?{timestamp:t}:{state_version:t}:void 0,at_ledger_state:void 0!==n?n instanceof Date?{timestamp:n}:{state_version:n}:void 0}}).then((e=>e.validators.items))}getValidatorsUptime(e){return this.innerClient.validatorsUptime({validatorsUptimeRequest:{validator_addresses:e}})}}class ud{constructor(e){this.innerClient=e}getCurrent(){return this.innerClient.gatewayStatus()}getNetworkConfiguration(){return this.innerClient.networkConfiguration()}}class ld{constructor(e){this.innerClient=e}getTransactionsList(e,t){return this.innerClient.streamTransactions({streamTransactionsRequest:{cursor:t,affected_global_entities_filter:e}})}}class cd{constructor(e){this.innerClient=e}getStatus(e){return this.innerClient.transactionStatus({transactionStatusRequest:{intent_hash:e}})}getCommittedDetails(e,t){var n,r,a,i,s,o,u,l,c,d;return this.innerClient.transactionCommittedDetails({transactionCommittedDetailsRequest:{intent_hash:e,opt_ins:{raw_hex:null==(n=null==t?void 0:t.rawHex)||n,receipt_events:null==(r=null==t?void 0:t.receiptEvents)||r,receipt_fee_source:null==(a=null==t?void 0:t.receiptFeeSource)||a,receipt_fee_destination:null==(i=null==t?void 0:t.receiptFeeDestination)||i,receipt_costing_parameters:null==(s=null==t?void 0:t.receiptCostingParameters)||s,receipt_fee_summary:null==(o=null==t?void 0:t.receiptFeeSummary)||o,receipt_state_changes:null==(u=null==t?void 0:t.receiptStateChanges)||u,affected_global_entities:null==(l=null==t?void 0:t.affectedGlobalEntities)||l,balance_changes:null==(c=null==t?void 0:t.balanceChanges)||c,receipt_output:null==(d=null==t?void 0:t.receiptOutput)||d}}})}}class dd extends Vo{constructor(e){super(e),Zo(this,"extendedConfiguration"),this.extendedConfiguration=e}get maxAddressesCount(){return this.extendedConfiguration.maxAddressesCount||20}get maxNftIdsCount(){return this.extendedConfiguration.maxNftIdsCount||29}get maxValidatorsUptimeCount(){return this.extendedConfiguration.maxValidatorsUptimeCount||200}}class pd{constructor(e){Zo(this,"state"),Zo(this,"stream"),Zo(this,"status"),Zo(this,"transaction"),Zo(this,"statistics"),Zo(this,"lowLevel"),this.lowLevel={state:new Xc(e),stream:new ed(e),status:new Qc(e),transaction:new td(e),statistics:new Jc(e)},this.state=new id(this.lowLevel.state,e),this.stream=new ld(this.lowLevel.stream),this.status=new ud(this.lowLevel.status),this.transaction=new cd(this.lowLevel.transaction),this.statistics=new od(this.lowLevel.statistics,e)}static initialize(e){const t=pd.constructConfiguration(e);return new pd(t)}static constructConfiguration(e){var t,n,r,a;const i=(e=>e?e.endsWith("/")?null==e?void 0:e.slice(0,-1):e:"")(null==e?void 0:e.basePath),s=null!=(t=null==e?void 0:e.applicationName)?t:"Unknown";return new dd({...e,basePath:i,applicationName:s,headers:{...null!=(n=null==e?void 0:e.headers)?n:{},"RDX-Client-Name":"@radixdlt/babylon-gateway-api-sdk","RDX-Client-Version":"1.2.0","RDX-App-Name":s,"RDX-App-Version":null!=(r=e.applicationVersion)?r:"Unknown","RDX-App-Dapp-Definition":null!=(a=e.applicationDappDefinitionAddress)?a:"Unknown"}})}}const fd=e=>e,hd=({basePath:e,dAppDefinitionAddress:t,applicationName:n,applicationVersion:r})=>{const{transaction:a,state:i,status:s}=pd.initialize({basePath:e,applicationName:n||t||"unknown",applicationVersion:r,applicationDappDefinitionAddress:t});return{getTransactionStatus:e=>Os.fromPromise(a.getStatus(e),fd),getTransactionDetails:e=>Os.fromPromise(a.getCommittedDetails(e),fd),getEntityDetails:e=>Os.fromPromise(i.getEntityDetailsVaultAggregated(e),fd),getEntitiesDetails:e=>Os.fromPromise(i.getEntityDetailsVaultAggregated(e),fd),getEntityNonFungibleIds:({accountAddress:e,nftAddress:t,vaultAddress:n})=>Os.fromPromise(i.innerClient.entityNonFungibleIdsPage({stateEntityNonFungibleIdsPageRequest:{address:e,vault_address:n,resource_address:t}}),fd),getNetworkConfiguration:()=>Os.fromPromise(s.getNetworkConfiguration(),fd),transactionApi:a,stateApi:i,statusApi:s}},_d=e=>{const t=[];return e.name&&t.push({entry:"fullName",fields:e.name}),e.emailAddresses&&t.push({entry:"emailAddresses",fields:e.emailAddresses}),e.phoneNumbers&&t.push({entry:"phoneNumbers",fields:e.phoneNumbers}),t},md=e=>zs({accounts:[],personaData:[],proofs:[],persona:void 0}).map((e=>t=>{var n,r,a;let i=[];if("authorizedRequest"===e.discriminator){const t=(null==(n=e.oneTimeAccounts)?void 0:n.accounts)??[],a=(null==(r=e.ongoingAccounts)?void 0:r.accounts)??[];i=[...t,...a]}else"unauthorizedRequest"===e.discriminator&&(i=(null==(a=e.oneTimeAccounts)?void 0:a.accounts)??[]);return No(t,(e=>{e.accounts=i}))})(e)).map((e=>t=>No(t,(t=>{"authorizedRequest"===e.discriminator?(e.oneTimePersonaData&&(t.personaData=_d(e.oneTimePersonaData)),e.ongoingPersonaData&&(t.personaData=_d(e.ongoingPersonaData))):"unauthorizedRequest"===e.discriminator&&e.oneTimePersonaData&&(t.personaData=_d(e.oneTimePersonaData))})))(e)).map((e=>t=>No(t,(t=>{var n;"authorizedRequest"===e.discriminator&&(t.persona=null==(n=e.auth)?void 0:n.persona)})))(e)).map((e=>t=>No(t,(t=>{var n,r,a,i,s,o;if(t.proofs=[],"authorizedRequest"===e.discriminator){if("loginWithChallenge"===e.auth.discriminator&&t.proofs.push({challenge:e.auth.challenge,proof:e.auth.proof,address:e.auth.persona.identityAddress,type:vs}),null!=(n=e.ongoingAccounts)&&n.challenge&&null!=(r=e.ongoingAccounts.proofs)&&r.length){const n=e.ongoingAccounts.challenge,r=e.ongoingAccounts.proofs.map((({accountAddress:e,proof:t})=>({proof:t,address:e,challenge:n,type:bs})));t.proofs.push(...r)}if(null!=(a=e.oneTimeAccounts)&&a.challenge&&null!=(i=e.oneTimeAccounts.proofs)&&i.length){const n=e.oneTimeAccounts.challenge,r=e.oneTimeAccounts.proofs.map((({accountAddress:e,proof:t})=>({proof:t,address:e,challenge:n,type:bs})));t.proofs.push(...r)}}if("unauthorizedRequest"===e.discriminator&&null!=(s=e.oneTimeAccounts)&&s.challenge&&null!=(o=e.oneTimeAccounts.proofs)&&o.length){const n=e.oneTimeAccounts.challenge,r=e.oneTimeAccounts.proofs.map((({accountAddress:e,proof:t})=>({proof:t,address:e,challenge:n,type:bs})));t.proofs.push(...r)}})))(e));ms({accounts:ms({numberOfAccounts:qn,reset:hs(),oneTime:hs(),challenge:fs().optional()}).optional(),personaData:ms({fullName:hs().optional(),phoneNumbers:qn.optional(),emailAddresses:qn.optional(),reset:hs(),oneTime:hs().optional()}).optional(),persona:ms({identityAddress:fs().optional(),label:fs().optional(),challenge:fs().optional()}).optional()});const yd=e=>{var t,n,r;return null!=(t=e.persona)&&t.challenge?{discriminator:"loginWithChallenge",challenge:e.persona.challenge}:null!=(n=e.persona)&&n.identityAddress?{discriminator:"usePersona",identityAddress:null==(r=e.persona)?void 0:r.identityAddress}:{discriminator:"loginWithoutChallenge"}},gd=e=>t=>{var n,r;const a={...t},{accounts:i}=e;if(i){const t={challenge:i.challenge,numberOfAccounts:i.numberOfAccounts},s="authorizedRequest"===a.discriminator&&!(null!=(n=e.accounts)&&n.oneTime),o="authorizedRequest"===a.discriminator;null!=(r=e.accounts)&&r.oneTime?a.oneTimeAccounts=t:(s||o)&&(a.ongoingAccounts=t)}return a},vd=e=>t=>{var n,r;const a={...t};if(e.personaData){const{fullName:t,phoneNumbers:i,emailAddresses:s}=e.personaData;null!=(n=e.personaData)&&n.oneTime&&(a.oneTimePersonaData={isRequestingName:t,numberOfRequestedPhoneNumbers:i,numberOfRequestedEmailAddresses:s});const o="authorizedRequest"===a.discriminator&&!(null!=(r=e.personaData)&&r.oneTime),u="authorizedRequest"===a.discriminator;(o||u)&&(a.ongoingPersonaData={isRequestingName:t,numberOfRequestedPhoneNumbers:i,numberOfRequestedEmailAddresses:s})}return a},bd=(e,t)=>"authorizedRequest"===e.discriminator?No({},(t=>{t.persona={proof:!1},t.ongoingAccounts={proof:!1,numberOfAccounts:void 0},"loginWithChallenge"===e.auth.discriminator&&(t.persona.proof=!!e.auth.challenge),e.ongoingAccounts&&(t.ongoingAccounts={proof:!!e.ongoingAccounts.challenge,numberOfAccounts:e.ongoingAccounts.numberOfAccounts}),e.ongoingPersonaData&&(t.ongoingPersonaData=e.ongoingPersonaData)})):t,wd=e=>No({},(t=>{e.ongoingAccounts&&(t.accounts={numberOfAccounts:e.ongoingAccounts.numberOfAccounts,withProof:e.ongoingAccounts.proof,reset:!0}),e.ongoingPersonaData&&(t.personaData={fullName:e.ongoingPersonaData.isRequestingName,phoneNumbers:e.ongoingPersonaData.numberOfRequestedPhoneNumbers,emailAddresses:e.ongoingPersonaData.numberOfRequestedEmailAddresses,reset:!0}),e.persona&&(t.persona={withProof:!!e.persona.proof})})),kd=({stateClient:e,requestItemClient:t,walletClient:n,useCache:r,dataRequestStateClient:a,requestInterceptor:i})=>{let s,o,u;const l=({isConnect:a,oneTime:o,dataRequestState:l})=>zs(l).asyncAndThen((t=>(e=>{if(!(e=>{var t,n;return(null==(t=e.accounts)?void 0:t.withProof)||(null==(n=e.persona)?void 0:n.withProof)})(e))return Ns(void 0);if(!s)throw new Error("Expected proof but no challenge generator provided");return s()})(t).andThen((n=>(({dataRequestState:e,isConnect:t,challenge:n,oneTime:r,stateClient:a})=>((e,t)=>((e,t)=>zs(e?No(t,(e=>{e.accounts&&(e.accounts.oneTime=!1,e.accounts.reset=!1),e.personaData&&(e.personaData.oneTime=!1,e.personaData.reset=!1)})):t))(e,t).andThen((e=>(e=>{const{persona:t,accounts:n,personaData:r}=e,a=!!t,i=(null==n?void 0:n.reset)||(null==r?void 0:r.reset),s=n&&!(null!=n&&n.oneTime),o=r&&!(null!=r&&r.oneTime);return!!(i||s||o||a)})(e)?(e=>zs({discriminator:"authorizedRequest",auth:yd(e)}).map(gd(e)).map(vd(e)).map((e=>t=>{const{accounts:n,personaData:r}=e;return{...t,reset:{accounts:!(null==n||!n.reset),personaData:!(null==r||!r.reset)}}})(e)))(e):(e=>zs({discriminator:"unauthorizedRequest"}).map(gd(e)).map(vd(e)))(e))))(t,No({},(t=>{var i;if(e.accounts&&(t.accounts={numberOfAccounts:e.accounts.numberOfAccounts||{quantifier:"atLeast",quantity:1},oneTime:r,reset:!!e.accounts.reset,challenge:e.accounts.withProof?n:void 0}),e.personaData&&(t.personaData={...e.personaData,reset:!!e.personaData.reset,oneTime:r}),!r){const r=a.getState().walletData.persona;a.getState().walletData.persona&&(t.persona=r),null!=(i=e.persona)&&i.withProof&&(t.persona={...t.persona??{},challenge:n}),0===Object.values(e).length&&(t.persona={challenge:void 0})}}))))({dataRequestState:t,isConnect:a,challenge:n,oneTime:o,stateClient:e}))))).andThen((a=>{const s=e.getState();if(((e,t)=>{var n,r,a,i,s,o,u,l,c,d,p;if("authorizedRequest"===e.discriminator){const f=(null==(n=e.reset)?void 0:n.accounts)||(null==(r=e.reset)?void 0:r.personaData),h=!(!e.oneTimeAccounts&&!e.oneTimePersonaData),_="loginWithChallenge"===e.auth.discriminator||!(null==(a=e.oneTimeAccounts)||!a.challenge)||!(null==(i=e.ongoingAccounts)||!i.challenge);if(f||h||_)return!1;let m=!1;if(e.ongoingAccounts){const{quantifier:n,quantity:r}=e.ongoingAccounts.numberOfAccounts;m=(null==(u=null==(o=null==(s=t.sharedData)?void 0:s.ongoingAccounts)?void 0:o.numberOfAccounts)?void 0:u.quantifier)===n&&(null==(d=null==(c=null==(l=t.sharedData)?void 0:l.ongoingAccounts)?void 0:c.numberOfAccounts)?void 0:d.quantity)===r}return e.ongoingPersonaData&&(m=Uo(e.ongoingPersonaData,null==(p=t.sharedData)?void 0:p.ongoingPersonaData)),m}return!1})(a,s)&&r)return Ns(s.walletData);const l=!e.getState().walletData.persona&&"authorizedRequest"===a.discriminator;return i({type:"dataRequest",payload:a}).map((e=>{const{id:n}=t.add(l?"loginRequest":"dataRequest");return{walletDataRequest:e,id:n}})).andThen((({walletDataRequest:r,id:a})=>n.request(r,a).mapErr((({error:e,message:t})=>({error:e,message:t}))).andThen(md).andThen((e=>u?u(e).map((()=>(t.updateStatus({id:a,status:"success"}),e))).mapErr((e=>(t.updateStatus({id:a,status:"fail",error:e.error}),e))):(t.updateStatus({id:a,status:"success"}),zs(e)))).map((t=>(o||e.setState({loggedInTimestamp:Date.now().toString(),walletData:t,sharedData:bd(r,e.getState().sharedData)}),t)))))}));return{provideChallengeGenerator:e=>{s=()=>Os.fromPromise(e(),(()=>({error:"GenerateChallengeError",message:"Failed to generate challenge"})))},provideDataRequestControl:e=>{u=t=>Os.fromPromise(e(t),(()=>({error:"LoginRejectedByDapp",message:"Login rejected by dApp"})))},provideConnectResponseCallback:e=>{o=t=>e(t)},sendOneTimeRequest:(...e)=>l({dataRequestState:a.toDataRequestState(...e),isConnect:!1,oneTime:!0}),setState:(...e)=>(a.setState(...e),{sendRequest:()=>l({dataRequestState:a.getState(),isConnect:!1,oneTime:!1})}),sendRequest:({isConnect:e,oneTime:t})=>{const n=l({isConnect:e,oneTime:t,dataRequestState:a.getState()});return o&&n.map((e=>{o(zs(e))})).mapErr((e=>{o(Vs(e))})),n},updateSharedData:()=>l({dataRequestState:wd(e.getState().sharedData),isConnect:!1,oneTime:!1})}};ms({numberOfAccounts:qn,withProof:hs().optional(),reset:hs().optional()});ms({withProof:hs().optional()}),ms({fullName:hs(),emailAddresses:qn,phoneNumbers:qn,reset:hs()}).partial();const xd=()=>{let e=No({numberOfAccounts:{quantifier:"atLeast",quantity:1}},(()=>{}));const t={atLeast:n=>(e=No(e,(e=>{e.numberOfAccounts.quantifier="atLeast",e.numberOfAccounts.quantity=n})),t),exactly:n=>(e=No(e,(e=>{e.numberOfAccounts.quantifier="exactly",e.numberOfAccounts.quantity=n})),t),withProof:(n=!0)=>(e=No(e,(e=>{e.withProof=n})),t),reset:(n=!0)=>(e=No(e,(e=>{e.reset=n})),t),_toObject:()=>({accounts:e})};return t},Sd=(e=>{const{dAppDefinitionAddress:t,networkId:r,providers:a,logger:i,onDisconnect:s,explorer:o,gatewayBaseUrl:u,applicationName:l,applicationVersion:c,useCache:d=!0,requestInterceptor:p=(async({payload:e})=>e)}={dAppDefinitionAddress:"account_rdx128ku70k3nxy9q0ekcwtwucdwm5jt80xsmxnqm5pfqj2dyjswgh3rm3",networkId:1,applicationName:"Gable Finance",applicationVersion:"1.0.0"}||{},f=`rdt:${t}:${r}`,_=new F(t),m=new h,y=(null==a?void 0:a.connectButton)??(e=>{n.e(812).then(n.bind(n,812));const t=e.subjects||{onConnect:new D,onDisconnect:new D,onUpdateSharedData:new D,connected:new L(1),requestItems:new F([]),onCancelRequestItem:new D,accounts:new F([]),onShowPopover:new D,status:new F("default"),loggedInTimestamp:new F(""),isMobile:new F(!1),isWalletLinked:new F(!1),isExtensionAvailable:new F(!1),fullWidth:new F(!1),activeTab:new F("sharing"),mode:new F("light"),theme:new F("radix-blue"),avatarUrl:new F(""),personaLabel:new F(""),personaData:new F([]),dAppName:new F(""),onLinkClick:new D},r=e.logger,a=e.onConnect||(e=>{e()}),i=new h;return i.add(Ie(document,"onRender").pipe(ye((()=>document.querySelector("radix-connect-button"))),Ne((e=>!!e)),Ue((e=>{null==r||r.debug("connectButtonDiscovered");const n=Ie(e,"onConnect").pipe(Le((()=>{a((n=>{!e.isWalletLinked||!e.isExtensionAvailable||t.onConnect.next(n)}))}))),i=Ie(e,"onDisconnect").pipe(Le((()=>{t.onDisconnect.next()}))),s=Ie(e,"onLinkClick").pipe(Le((e=>{t.onLinkClick.next(e.detail)}))),o=Ie(e,"onDestroy").pipe(Le((()=>{null==r||r.debug("connectButtonRemovedFromDOM")}))),u=Ie(e,"onCancelRequestItem").pipe(Le((e=>{const n=e.detail.id;null==r||r.debug("onCancelRequestItem",{id:n}),t.onCancelRequestItem.next(n)}))),l=Ie(e,"onUpdateSharedData").pipe(Le((()=>{null==r||r.debug("onUpdateSharedData"),t.onUpdateSharedData.next()}))),c=Ie(e,"onShowPopover").pipe(Le((()=>{t.onShowPopover.next()}))),d=t.status.pipe(Le((t=>e.status=t))),p=t.mode.pipe(Le((t=>e.mode=t))),f=t.connected.pipe(Le((t=>{e.connected=t}))),h=t.isMobile.pipe(Le((t=>{e.isMobile=t}))),_=t.isWalletLinked.pipe(Le((t=>{e.isWalletLinked=t}))),m=t.isExtensionAvailable.pipe(Le((t=>{e.isExtensionAvailable=t}))),y=t.loggedInTimestamp.pipe(Le((t=>{e.loggedInTimestamp=t}))),g=t.activeTab.pipe(Le((t=>{e.activeTab=t}))),v=t.requestItems.pipe(Le((t=>{e.requestItems=t}))),b=t.accounts.pipe(Le((t=>{e.accounts=t}))),w=t.personaData.pipe(Le((t=>{e.personaData=t}))),k=t.personaLabel.pipe(Le((t=>{e.personaLabel=t}))),x=t.dAppName.pipe(Le((t=>{e.dAppName=t})));return Oe(n,d,t.theme.pipe(Le((t=>{e.theme=t}))),p,f,v,y,h,g,_,m,i,u,b,w,k,o,l,c,x,s)}))).subscribe()),{status$:t.status.asObservable(),onConnect$:t.onConnect.asObservable(),onDisconnect$:t.onDisconnect.asObservable(),onShowPopover$:t.onShowPopover.asObservable(),onUpdateSharedData$:t.onUpdateSharedData.asObservable(),onCancelRequestItem$:t.onCancelRequestItem.asObservable(),onLinkClick$:t.onLinkClick.asObservable(),setStatus:e=>t.status.next(e),setTheme:e=>t.theme.next(e),setMode:e=>t.mode.next(e),setActiveTab:e=>t.activeTab.next(e),setIsMobile:e=>t.isMobile.next(e),setIsWalletLinked:e=>t.isWalletLinked.next(e),setIsExtensionAvailable:e=>t.isExtensionAvailable.next(e),setLoggedInTimestamp:e=>t.loggedInTimestamp.next(e),setConnected:e=>t.connected.next(e),setRequestItems:e=>t.requestItems.next(e),setAccounts:e=>t.accounts.next(e),setPersonaData:e=>t.personaData.next(e),setPersonaLabel:e=>t.personaLabel.next(e),setDappName:e=>t.dAppName.next(e),disconnect:()=>{t.connected.next(!1),t.status.next("default")},destroy:()=>{i.unsubscribe()}}})({logger:i});y.setIsMobile(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(globalThis.navigator?globalThis.navigator.userAgent:""));const g=(null==a?void 0:a.gatewayClient)??(({gatewayApi:e,logger:t,retryConfig:n})=>({pollTransactionStatus:r=>{const a=(({maxDelayTime:e=1e4,multiplier:t=2,timeout:n,interval:r=2e3}={})=>{const a=new D;let i=0;const s=Oe(he(0),a.pipe(ye((()=>(i+=1,i))))).pipe(Ue((n=>{const a=n*r*t;return qe(a>e?e:a).pipe(ye((()=>zs(n))))})));return{trigger:a,withBackoff$:n?Oe(s,qe(n).pipe(ye((()=>Vs(lr("failedToPollSubmittedTransaction","")))))):s}})(n),i=new Set(["CommittedSuccess","CommittedFailure","Rejected"]);return Os.fromPromise(me(a.withBackoff$.pipe(Ue((n=>n.isErr()?[n]:(null==t||t.debug(`pollingTxStatus retry #${n.value+1}`),e.getTransactionStatus(r).map((e=>{if(i.has(e.status))return e;a.trigger.next()})).mapErr((e=>(null==t||t.debug(e),lr("failedToPollSubmittedTransaction",""))))))),Ne((e=>e.isOk()&&!!e.value||e.isErr())),Fe())),(e=>e)).andThen((e=>e))},gatewayApi:e}))({logger:i,gatewayApi:hd({basePath:u??sd[r].gatewayUrl,dAppDefinitionAddress:t,applicationName:l,applicationVersion:c})}),v=(null==a?void 0:a.storageClient)??{getData:e=>Os.fromPromise((e=>new Promise(((t,n)=>{try{return t(localStorage.getItem(e)||void 0)}catch(e){return n(e)}})))(e),fd).andThen((e=>e?(e=>{try{return zs(JSON.parse(e))}catch(e){return Vs(e)}})(e):zs(void 0))),setData:(e,t)=>Os.fromPromise(((e,t)=>new Promise(((n,r)=>{try{return localStorage.setItem(e,JSON.stringify(t)),n()}catch(e){return r(e)}})))(e,t),fd)},b=(null==a?void 0:a.walletSdk)??(e=>{var t,n;const r={version:2,dAppDefinitionAddress:e.dAppDefinitionAddress,networkId:e.networkId};Gn.parse(r),null==(t=e.logger)||t.debug(" walletSdkInstantiated",r);const a=e.logger,i=(null==(n=e.providers)?void 0:n.connectorExtensionClient)??Oa({logger:a});return{...dr({version:2,logger:e.logger,dAppDefinitionAddress:e.dAppDefinitionAddress,networkId:e.networkId},i),destroy:()=>{null==a||a.debug(" walletSdkInstantiatedDestroyed"),i.destroy()}}})({logger:i,networkId:r,dAppDefinitionAddress:t}),w=(null==a?void 0:a.requestItemClient)??((e,t,n)=>{const r=n.logger,a=new Set,i=new h,s=new Map,o=n.subjects||{initialized:new F(!1),onChange:new D,items:new F([])},u=`${e}:requestItemStore`;t.getData(u).map((e=>{e&&Object.keys(e).forEach((t=>{a.add(t),s.set(t,e[t])})),o.items.next(d())}));const l=(e,t)=>o.onChange.next({oldValue:e,newValue:t}),c=(e,t)=>{const n=s.get(e);if(n){const a={...n,...t};s.set(e,a),l(n,a),null==r||r.trace("patchRequestItemStatus",a)}},d=()=>[...a].reverse().map((e=>({id:e,...s.get(e)}))).filter((e=>!!e));return i.add(o.onChange.pipe(ye((()=>d())),Le((e=>o.items.next(e))),Le((()=>{const e=Array.from(s.entries());t.setData(u,Object.fromEntries(e.filter((([,e])=>"pending"!==e.status))))}))).subscribe()),{add:e=>{const t=(e=>({type:e,status:"pending",timestamp:Date.now(),id:crypto.randomUUID(),showCancel:!0}))(e);return s.set(t.id,t),a.add(t.id),l(void 0,t),null==r||r.trace("addRequestItem",{id:t.id,status:t.status}),t},remove:e=>{if(s.has(e)){const t=s.get(e);s.delete(e),a.delete(e),l(t,void 0),null==r||r.trace("removeRequestItem",e)}},cancel:e=>{s.has(e)&&(c(e,{status:"fail",error:or.canceledByUser}),null==r||r.trace("cancelRequestItem",e))},updateStatus:({id:e,status:t,error:n,transactionIntentHash:a})=>{const i=s.get(e);if(i){const o={...i,status:t};"fail"===o.status&&(o.error=n),"success"===o.status&&"sendTransaction"===o.type&&(o.transactionIntentHash=a),s.set(e,o),l(i,o),null==r||r.trace("updateRequestItemStatus",o)}},patch:c,reset:()=>{s.clear(),a.clear(),l(void 0,void 0),null==r||r.trace("resetRequestItems")},destroy:()=>{i.unsubscribe()},items$:o.items,change$:o.onChange.asObservable()}})(f,v,{logger:i}),k=(null==a?void 0:a.walletClient)??(e=>{const t=e.logger,n=e.requestItemClient,r=e.walletSdk,a=e.gatewayClient,i=new D,s=t=>{const r=new D;return{eventCallback:e=>{r.next(e)},requestControl:({cancelRequest:a,getRequest:s})=>{me(r.pipe(Ne((e=>"receivedByWallet"===e)),ye((()=>s())),Le((e=>{"transaction"===e.items.discriminator&&n.patch(t,{showCancel:!1})})))),me(Oe(e.onCancelRequestItem$,i).pipe(Ne((e=>e===t)),Ue((()=>(n.cancel(t),n.updateStatus({id:t,status:"fail",error:"userCancelledRequest"}),a())))))}}},o=new h;return{request:(e,a)=>r.request(e,s(a)).map((e=>(null==t||t.debug("walletSuccessResponse",e),e))).mapErr((e=>(null==t||t.debug("walletErrorResponse",e),n.updateStatus({id:a,status:"fail",error:e.error}),e))),sendTransaction:({onTransactionId:e,...i})=>{const{id:o}=n.add("sendTransaction");return r.sendTransaction({version:1,...i},s(o)).mapErr((e=>(n.updateStatus({id:o,status:"fail",error:e.error}),null==t||t.debug(" walletErrorResponse",e),e))).map((e=>(null==t||t.debug(" walletSuccessResponse",e),e))).andThen((({transactionIntentHash:t})=>(e&&e(t),a.pollTransactionStatus(t).map((e=>({transactionIntentHash:t,status:e.status})))))).andThen((e=>{const r=[Ou.Rejected,Ou.CommittedFailure].includes(e.status);return n.updateStatus({id:o,status:r?"fail":"success",transactionIntentHash:e.transactionIntentHash}),null==t||t.debug(" Gateway polling finished",e),r?Vs({...e,error:"transactionNotSuccessful"}):zs(e)}))},extensionStatus$:r.extensionStatus$,requestItems$:n.items$,resetRequestItems:n.reset,cancelRequest:e=>i.next(e),destroy:()=>{n.destroy(),r.destroy(),o.unsubscribe()}}})({logger:i,onCancelRequestItem$:y.onCancelRequestItem$,walletSdk:b,gatewayClient:g,requestItemClient:w}),x=(null==a?void 0:a.stateClient)??((e,t,n)=>{const r=n.logger,a=n.subjects??{walletData:new F(Ps),sharedData:new F({}),loggedInTimestamp:new F(""),initialized:new F(!1)},i=new h,s=Se([a.walletData,a.sharedData,a.loggedInTimestamp]).pipe(ye((([e,t,n])=>({walletData:e,sharedData:t,loggedInTimestamp:n})))),o=e=>{const{walletData:t,sharedData:n,loggedInTimestamp:r}=e;t&&!Uo(a.walletData.value,t)&&a.walletData.next(t),n&&a.sharedData.next(n),void 0!==r&&a.loggedInTimestamp.next(r)},u=()=>{Uo(a.walletData.value,Ps)||a.walletData.next(Ps),a.sharedData.next({}),a.loggedInTimestamp.next("")};t.getData(e).map((e=>(e&&(null==r||r.debug("readFromStorage")),e))).andThen((e=>Os.fromPromise(Rs.parseAsync(e),(e=>e)))).mapErr((()=>{null==r||r.debug("loadedCorruptedStateFromStorage"),u()})).map((e=>{if(e)return null==r||r.debug("initializeStateFromStorage"),o(No(e,(e=>(e.walletData.persona=e.walletData.persona??void 0,e))));null==r||r.debug("initializeStateFromDefault"),u()})),i.add(s.pipe(Ue((n=>t.setData(e,No(n,(e=>{e.walletData.proofs=[]}))).map((()=>{null==r||r.trace("writeToStorage",n)}))))).subscribe()),i.add(s.pipe(Ne((function(e,t){return 1<=t})),Fe(),Le((()=>{a.initialized.next(!0)}))).subscribe());const l=()=>({walletData:a.walletData.value,sharedData:a.sharedData.value,loggedInTimestamp:a.loggedInTimestamp.value});return{setState:o,getState:l,walletData$:Se([a.initialized,a.walletData]).pipe(De(1),Ne((([e])=>e)),ye((()=>a.walletData.value))),getWalletData:()=>a.walletData.value,state$:a.initialized.pipe(Ne((e=>e)),Ue((()=>s))),patchState:e=>{o({...l(),...e})},reset:u,stateInitialized$:a.initialized.asObservable(),destroy:()=>{u(),i.unsubscribe()}}})(f,v,{logger:i}),S=(null==a?void 0:a.dataRequestStateClient)??(e=>{const t=new F(e),n=()=>t.next(e),r=e=>t.next(e),a=()=>t.getValue(),i=(...e)=>e.filter((e=>"function"==typeof e._toObject)).reduce(((e,t)=>({...e,...t._toObject()})),{});return{reset:n,setState:(...e)=>{0===e.length?n():r(i(...e))},getState:a,patchState:(...e)=>{0!==e.length&&r({...a(),...i(...e)})},removeState:(...e)=>{r(No(a(),(t=>{e.forEach((e=>{delete t[e]}))})))},toDataRequestState:i,state$:t.asObservable()}})({}),R=(e=>t=>Os.fromPromise(e(t),(e=>({error:"requestInterceptorError",jsError:e}))))(p),P=(null==a?void 0:a.dataRequestClient)??kd({stateClient:x,requestItemClient:w,walletClient:k,useCache:d,dataRequestStateClient:S,requestInterceptor:R}),T=()=>{w.items$.value.forEach((e=>{e.showCancel&&k.cancelRequest(e.id)})),x.reset(),k.resetRequestItems(),y.disconnect(),s&&s()};m.add(_.pipe(Ne((e=>!!e)),Ue((e=>g.gatewayApi.getEntityDetails(e).map((e=>(e=>{var t;const n=null==(t=null==e?void 0:e.value)?void 0:t.typed;return{stringified:null!=n&&n.value?(null==n?void 0:n.value)||"":null==n?void 0:n.values.join(", ")}})(null==e?void 0:e.metadata.items.find((e=>"name"===e.key))).stringified)).map((e=>{y.setDappName(e??"Unnamed dApp")}))))).subscribe()),m.add(k.extensionStatus$.pipe(Le((e=>{y.setIsExtensionAvailable(e.isExtensionAvailable),y.setIsWalletLinked(e.isWalletLinked)}))).subscribe()),m.add(y.onConnect$.pipe(Ue((()=>(x.reset(),P.sendRequest({isConnect:!0,oneTime:!1}))))).subscribe()),m.add(y.onLinkClick$.pipe(Le((({type:e,data:t})=>{if(["account","transaction"].includes(e)){const{baseUrl:n,transactionPath:a,accountsPath:i}=o??{baseUrl:sd[r].dashboardUrl,transactionPath:"/transaction/",accountsPath:"/account/"};if(!n||!window)return;const s=`${n}${"transaction"===e?a:i}${t}`;window.open(s)}else"setupGuide"===e?window.open("https://wallet.radixdlt.com"):"showQrCode"===e&&b.openPopup()}))).subscribe()),m.add(y.onShowPopover$.pipe(Ze(k.requestItems$),Le((([e,t])=>{t.filter((e=>"pending"===e.status)).length>0&&y.setActiveTab("requests")}))).subscribe()),m.add(y.onDisconnect$.pipe(Le(T)).subscribe()),m.add(x.state$.pipe(Le((e=>{const{personaData:t,accounts:n,personaLabel:r,connected:a}=(e=>{var t;return{accounts:e.accounts??[],personaLabel:(null==(t=null==e?void 0:e.persona)?void 0:t.label)??"",connected:!(null==e||!e.persona),personaData:e.personaData.map((e=>{if("fullName"===e.entry){const{variant:t,givenNames:n,familyName:r,nickname:a}=e.fields;return{value:"western"===t?`${n}${a?` "${a}" `:" "}${r}`:`${r}${a?` "${a}" `:" "}${n}`,field:"fullName"}}return"emailAddresses"===e.entry?{value:e.fields[0],field:"emailAddress"}:"phoneNumbers"===e.entry?{value:e.fields[0],field:"phoneNumber"}:void 0})).filter((e=>!!e&&!!e.value.trim()))}})(e.walletData);y.setLoggedInTimestamp(e.loggedInTimestamp),y.setAccounts(n),y.setPersonaData(t),y.setPersonaLabel(r),y.setConnected(a)}))).subscribe()),m.add(k.requestItems$.pipe(Le((e=>y.setRequestItems(e)))).subscribe()),m.add(w.change$.pipe(Ze(w.items$),Le((([,e])=>{e.find((e=>"pending"===e.status))&&y.setStatus("pending")})),Pe((([e])=>{var t,n;const r=null==(t=e.newValue)?void 0:t.status;return"pending"!==(null==(n=e.oldValue)?void 0:n.status)||"success"!==r&&"fail"!==r?he():(y.setStatus("success"===r?"success":"error"),qe(2e3).pipe(Ze(k.requestItems$),Le((([e,t])=>{const n=t.find((e=>"pending"===e.status));y.setStatus(n?"pending":"default")}))))}))).subscribe()),m.add(Oe(y.onUpdateSharedData$).pipe(Ue((()=>P.updateSharedData()))).subscribe());const E={state:g.gatewayApi.stateApi,status:g.gatewayApi.statusApi,transaction:g.gatewayApi.transactionApi};return{walletApi:{setRequestData:P.setState,sendRequest:()=>P.sendRequest({isConnect:!1,oneTime:!1}),provideChallengeGenerator:e=>P.provideChallengeGenerator(e),dataRequestControl:e=>{P.provideDataRequestControl(e)},provideConnectResponseCallback:P.provideConnectResponseCallback,updateSharedData:()=>P.updateSharedData(),sendOneTimeRequest:P.sendOneTimeRequest,sendTransaction:e=>R({type:"sendTransaction",payload:e}).andThen(k.sendTransaction),walletData$:x.walletData$,getWalletData:()=>x.getWalletData()},gatewayApi:E,buttonApi:{setTheme:y.setTheme,setMode:y.setMode,status$:y.status$},disconnect:T,destroy:()=>{x.destroy(),k.destroy(),m.unsubscribe(),y.destroy()}}})();Sd.buttonApi.setTheme("black"),Sd.buttonApi.setMode("dark"),Sd.walletApi.setRequestData(xd().exactly(1));let Rd=window.scrollY;window.innerWidth>=768?window.addEventListener("scroll",(function(){window.scrollY>20?(Sd.buttonApi.setTheme("white"),Sd.buttonApi.setMode("dark")):(Sd.buttonApi.setTheme("black"),Sd.buttonApi.setMode("dark"))})):window.addEventListener("scroll",(function(){const e=window.scrollY;Rd>e&&window.scrollY>200?(Sd.buttonApi.setTheme("white"),Sd.buttonApi.setMode("dark")):(Sd.buttonApi.setTheme("black"),Sd.buttonApi.setMode("dark")),Rd=e}))},23:(e,t,n)=>{n.d(t,{UUm:()=>Ut});var r=Object.defineProperty,a=(e,t,n)=>(((e,t,n)=>{t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const i="https://mainnet.radixdlt.com".replace(/\/+$/,"");const s=new class{constructor(e={}){this.configuration=e}set config(e){this.configuration=e}get basePath(){return null!=this.configuration.basePath?this.configuration.basePath:i}get fetchApi(){return this.configuration.fetchApi}get middleware(){return this.configuration.middleware||[]}get queryParamsStringify(){return this.configuration.queryParamsStringify||p}get username(){return this.configuration.username}get password(){return this.configuration.password}get apiKey(){const e=this.configuration.apiKey;if(e)return"function"==typeof e?e:()=>e}get accessToken(){const e=this.configuration.accessToken;if(e)return"function"==typeof e?e:async()=>e}get headers(){return this.configuration.headers}get credentials(){return this.configuration.credentials}};class o{constructor(e=s){a(this,"middleware"),a(this,"fetchApi",(async(e,t)=>{let n,r={url:e,init:t};for(const e of this.middleware)e.pre&&(r=await e.pre({fetch:this.fetchApi,...r})||r);try{n=await(this.configuration.fetchApi||fetch)(r.url,r.init)}catch(e){for(const t of this.middleware)t.onError&&(n=await t.onError({fetch:this.fetchApi,url:r.url,init:r.init,error:e,response:n?n.clone():void 0})||n);if(void 0===n)throw e}for(const e of this.middleware)e.post&&(n=await e.post({fetch:this.fetchApi,url:r.url,init:r.init,response:n.clone()})||n);return n})),this.configuration=e,this.middleware=e.middleware}withMiddleware(...e){const t=this.clone();return t.middleware=t.middleware.concat(...e),t}withPreMiddleware(...e){const t=e.map((e=>({pre:e})));return this.withMiddleware(...t)}withPostMiddleware(...e){const t=e.map((e=>({post:e})));return this.withMiddleware(...t)}async request(e,t){const{url:n,init:r}=await this.createFetchParams(e,t),a=await this.fetchApi(n,r);if(a&&a.status>=200&&a.status<300)return a;throw await l.from(a)}async createFetchParams(e,t){let n=this.configuration.basePath+e.path;void 0!==e.query&&0!==Object.keys(e.query).length&&(n+="?"+this.configuration.queryParamsStringify(e.query));const r=Object.assign({},this.configuration.headers,e.headers);Object.keys(r).forEach((e=>void 0===r[e]?delete r[e]:{}));const a="function"==typeof t?t:async()=>t,i={method:e.method,headers:r,body:e.body,credentials:this.configuration.credentials},s={...i,...await a({init:i,context:e})};var o;return{url:n,init:{...s,body:(o=s.body,typeof FormData<"u"&&o instanceof FormData||s.body instanceof URLSearchParams||u(s.body)?s.body:JSON.stringify(s.body))}}}clone(){const e=new(0,this.constructor)(this.configuration);return e.middleware=this.middleware.slice(),e}}function u(e){return typeof Blob<"u"&&e instanceof Blob}class l extends Error{constructor(e,t,n){super(n?JSON.stringify(n):"Unknown error occurred"),a(this,"name","ResponseError"),this.fetchResponse=e,this.status=t,this.errorResponse=n}static async from(e){const t=e.status;try{const n=await e.json();return new l(e,t,n)}catch{return new l(e,t,void 0)}}}class c extends Error{constructor(e,t){super(t),a(this,"name","RequiredError"),this.field=e}}function d(e,t){return null!=e[t]}function p(e,t=""){return Object.keys(e).map((n=>f(n,e[n],t))).filter((e=>e.length>0)).join("&")}function f(e,t,n=""){const r=n+(n.length?`[${e}]`:e);if(t instanceof Array){const e=t.map((e=>encodeURIComponent(String(e)))).join(`&${encodeURIComponent(r)}=`);return`${encodeURIComponent(r)}=${e}`}return t instanceof Set?f(e,Array.from(t),n):t instanceof Date?`${encodeURIComponent(r)}=${encodeURIComponent(t.toISOString())}`:t instanceof Object?p(t,r):`${encodeURIComponent(r)}=${encodeURIComponent(String(t))}`}class h{constructor(e,t=(e=>e)){this.raw=e,this.transformer=t}async value(){return this.transformer(await this.raw.json())}}function _(e){if(void 0!==e)return null===e?null:{state_version:e.state_version,timestamp:void 0===e.timestamp?void 0:null===e.timestamp?null:e.timestamp.toISOString(),epoch:e.epoch,round:e.round}}function m(e){return function(e,t){return e}(e)}function y(e,t){return null==e?e:{kind:e.kind,type_name:d(e,"type_name")?e.type_name:void 0,field_name:d(e,"field_name")?e.field_name:void 0,element_kind:m(e.element_kind),element_type_name:d(e,"element_type_name")?e.element_type_name:void 0,elements:e.elements.map(z)}}function g(e,t){return null==e?e:{kind:e.kind,type_name:d(e,"type_name")?e.type_name:void 0,field_name:d(e,"field_name")?e.field_name:void 0,value:e.value}}function v(e,t){return null==e?e:{kind:e.kind,type_name:d(e,"type_name")?e.type_name:void 0,field_name:d(e,"field_name")?e.field_name:void 0,element_kind:m(e.element_kind),element_type_name:d(e,"element_type_name")?e.element_type_name:void 0,hex:e.hex}}function b(e,t){return null==e?e:{kind:e.kind,type_name:d(e,"type_name")?e.type_name:void 0,field_name:d(e,"field_name")?e.field_name:void 0,value:e.value}}function w(e,t){return null==e?e:{kind:e.kind,type_name:d(e,"type_name")?e.type_name:void 0,field_name:d(e,"field_name")?e.field_name:void 0,variant_id:e.variant_id,variant_name:d(e,"variant_name")?e.variant_name:void 0,fields:e.fields.map(z)}}function k(e,t){return null==e?e:{kind:e.kind,type_name:d(e,"type_name")?e.type_name:void 0,field_name:d(e,"field_name")?e.field_name:void 0,value:e.value}}function x(e,t){return null==e?e:{kind:e.kind,type_name:d(e,"type_name")?e.type_name:void 0,field_name:d(e,"field_name")?e.field_name:void 0,value:e.value}}function S(e,t){return null==e?e:{kind:e.kind,type_name:d(e,"type_name")?e.type_name:void 0,field_name:d(e,"field_name")?e.field_name:void 0,value:e.value}}function R(e,t){return null==e?e:{kind:e.kind,type_name:d(e,"type_name")?e.type_name:void 0,field_name:d(e,"field_name")?e.field_name:void 0,value:e.value}}function P(e,t){return null==e?e:{kind:e.kind,type_name:d(e,"type_name")?e.type_name:void 0,field_name:d(e,"field_name")?e.field_name:void 0,value:e.value}}function T(e){return function(e,t){return null==e?e:{key:z(e.key),value:z(e.value)}}(e)}function E(e){if(void 0!==e)return null===e?null:{key:V(e.key),value:V(e.value)}}function C(e,t){return null==e?e:{kind:e.kind,type_name:d(e,"type_name")?e.type_name:void 0,field_name:d(e,"field_name")?e.field_name:void 0,key_kind:m(e.key_kind),key_type_name:d(e,"key_type_name")?e.key_type_name:void 0,value_kind:m(e.value_kind),value_type_name:d(e,"value_type_name")?e.value_type_name:void 0,entries:e.entries.map(T)}}function I(e,t){return null==e?e:{kind:e.kind,type_name:d(e,"type_name")?e.type_name:void 0,field_name:d(e,"field_name")?e.field_name:void 0,value:e.value}}function A(e,t){return null==e?e:{kind:e.kind,type_name:d(e,"type_name")?e.type_name:void 0,field_name:d(e,"field_name")?e.field_name:void 0,value:e.value}}function q(e,t){return null==e?e:{kind:e.kind,type_name:d(e,"type_name")?e.type_name:void 0,field_name:d(e,"field_name")?e.field_name:void 0,value:e.value}}function O(e,t){return null==e?e:{kind:e.kind,type_name:d(e,"type_name")?e.type_name:void 0,field_name:d(e,"field_name")?e.field_name:void 0,value:e.value}}function N(e,t){return null==e?e:{kind:e.kind,type_name:d(e,"type_name")?e.type_name:void 0,field_name:d(e,"field_name")?e.field_name:void 0,value:e.value}}function D(e,t){return null==e?e:{kind:e.kind,type_name:d(e,"type_name")?e.type_name:void 0,field_name:d(e,"field_name")?e.field_name:void 0,fields:e.fields.map(z)}}function j(e,t){return null==e?e:{kind:e.kind,type_name:d(e,"type_name")?e.type_name:void 0,field_name:d(e,"field_name")?e.field_name:void 0,value:e.value}}function F(e,t){return null==e?e:{kind:e.kind,type_name:d(e,"type_name")?e.type_name:void 0,field_name:d(e,"field_name")?e.field_name:void 0,value:e.value}}function U(e,t){return null==e?e:{kind:e.kind,type_name:d(e,"type_name")?e.type_name:void 0,field_name:d(e,"field_name")?e.field_name:void 0,value:e.value}}function L(e,t){return null==e?e:{kind:e.kind,type_name:d(e,"type_name")?e.type_name:void 0,field_name:d(e,"field_name")?e.field_name:void 0,value:e.value}}function Z(e,t){return null==e?e:{kind:e.kind,type_name:d(e,"type_name")?e.type_name:void 0,field_name:d(e,"field_name")?e.field_name:void 0,value:e.value}}function z(e){return function(e,t){if(null==e)return e;switch(e.kind){case"Array":return{...y(e),kind:"Array"};case"Bool":return{...g(e),kind:"Bool"};case"Bytes":return{...v(e),kind:"Bytes"};case"Decimal":return{...b(e),kind:"Decimal"};case"Enum":return{...w(e),kind:"Enum"};case"I128":return{...k(e),kind:"I128"};case"I16":return{...x(e),kind:"I16"};case"I32":return{...S(e),kind:"I32"};case"I64":return{...R(e),kind:"I64"};case"I8":return{...P(e),kind:"I8"};case"Map":return{...C(e),kind:"Map"};case"NonFungibleLocalId":return{...I(e),kind:"NonFungibleLocalId"};case"Own":return{...A(e),kind:"Own"};case"PreciseDecimal":return{...q(e),kind:"PreciseDecimal"};case"Reference":return{...O(e),kind:"Reference"};case"String":return{...N(e),kind:"String"};case"Tuple":return{...D(e),kind:"Tuple"};case"U128":return{...j(e),kind:"U128"};case"U16":return{...F(e),kind:"U16"};case"U32":return{...U(e),kind:"U32"};case"U64":return{...L(e),kind:"U64"};case"U8":return{...Z(e),kind:"U8"};default:throw new Error(`No variant of ProgrammaticScryptoSborValue exists with 'kind=${e.kind}'`)}}(e)}function V(e){if(void 0!==e){if(null===e)return null;switch(e.kind){case"Array":return function(e){if(void 0!==e)return null===e?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,element_kind:e.element_kind,element_type_name:e.element_type_name,elements:e.elements.map(V)}}(e);case"Bool":case"Decimal":case"I128":case"I16":case"I32":case"I64":case"I8":case"NonFungibleLocalId":case"Own":case"PreciseDecimal":case"Reference":case"String":case"U128":case"U16":case"U32":case"U64":case"U8":return function(e){if(void 0!==e)return null===e?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,value:e.value}}(e);case"Bytes":return function(e){if(void 0!==e)return null===e?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,element_kind:e.element_kind,element_type_name:e.element_type_name,hex:e.hex}}(e);case"Enum":return function(e){if(void 0!==e)return null===e?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,variant_id:e.variant_id,variant_name:e.variant_name,fields:e.fields.map(V)}}(e);case"Map":return function(e){if(void 0!==e)return null===e?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,key_kind:e.key_kind,key_type_name:e.key_type_name,value_kind:e.value_kind,value_type_name:e.value_type_name,entries:e.entries.map(E)}}(e);case"Tuple":return function(e){if(void 0!==e)return null===e?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,fields:e.fields.map(V)}}(e);default:throw new Error(`No variant of ProgrammaticScryptoSborValue exists with 'kind=${e.kind}'`)}}}function $(e){return function(e,t){return e}(e)}function M(e){return function(e,t){return null==e?e:{resolution:$(e.resolution),explicit_rule:d(e,"explicit_rule")?e.explicit_rule:void 0}}(e)}function B(e){return function(e,t){return e}(e)}function K(e){return function(e,t){return null==e?e:{name:e.name,module:B(e.module)}}(e)}function W(e){return function(e,t){return null==e?e:{role_key:K(e.role_key),assignment:M(e.assignment),updater_roles:d(e,"updater_roles")?e.updater_roles.map(K):void 0}}(e)}function G(e){return function(e,t){return null==e?e:{owner:e.owner,entries:e.entries.map(W)}}(e)}function H(e,t){return null==e?e:{type:e.type,values:e.values}}function Y(e,t){return null==e?e:{type:e.type,value:e.value}}function X(e,t){return null==e?e:{type:e.type,values:e.values}}function J(e,t){return null==e?e:{type:e.type,value:e.value}}function Q(e,t){return null==e?e:{type:e.type,values:e.values}}function ee(e,t){return null==e?e:{type:e.type,value:e.value}}function te(e,t){return null==e?e:{type:e.type,values:e.values}}function ne(e,t){return null==e?e:{type:e.type,value:e.value}}function re(e,t){return null==e?e:{type:e.type,values:e.values}}function ae(e,t){return null==e?e:{type:e.type,value:e.value}}function ie(e,t){return null==e?e:{type:e.type,values:e.values}}function se(e,t){return null==e?e:{type:e.type,value:e.value}}function oe(e){return function(e,t){return null==e?e:{resource_address:e.resource_address,non_fungible_id:e.non_fungible_id}}(e)}function ue(e,t){return null==e?e:{type:e.type,values:e.values.map(oe)}}function le(e,t){return null==e?e:{type:e.type,resource_address:e.resource_address,non_fungible_id:e.non_fungible_id}}function ce(e,t){return null==e?e:{type:e.type,values:e.values}}function de(e,t){return null==e?e:{type:e.type,value:e.value}}function pe(e,t){return null==e?e:{type:e.type,values:e.values}}function fe(e,t){return null==e?e:{type:e.type,value:e.value}}function he(e,t){return null==e?e:{key_type:e.key_type,key_hex:e.key_hex}}function _e(e,t){return null==e?e:{key_type:e.key_type,key_hex:e.key_hex}}function me(e){return function(e,t){if(null==e)return e;switch(e.key_type){case"EcdsaSecp256k1":return{...he(e),key_type:"EcdsaSecp256k1"};case"EddsaEd25519":return{..._e(e),key_type:"EddsaEd25519"};default:throw new Error(`No variant of PublicKey exists with 'key_type=${e.key_type}'`)}}(e)}function ye(e,t){return null==e?e:{type:e.type,values:e.values.map(me)}}function ge(e,t){return null==e?e:{key_hash_type:e.key_hash_type,hash_hex:e.hash_hex}}function ve(e,t){return null==e?e:{key_hash_type:e.key_hash_type,hash_hex:e.hash_hex}}function be(e){return function(e,t){if(null==e)return e;switch(e.key_hash_type){case"EcdsaSecp256k1":return{...ge(e),key_hash_type:"EcdsaSecp256k1"};case"EddsaEd25519":return{...ve(e),key_hash_type:"EddsaEd25519"};default:throw new Error(`No variant of PublicKeyHash exists with 'key_hash_type=${e.key_hash_type}'`)}}(e)}function we(e,t){return null==e?e:{type:e.type,values:e.values.map(be)}}function ke(e,t){return null==e?e:{type:e.type,value:be(e.value)}}function xe(e,t){return null==e?e:{type:e.type,value:me(e.value)}}function Se(e,t){return null==e?e:{type:e.type,values:e.values}}function Re(e,t){return null==e?e:{type:e.type,value:e.value}}function Pe(e,t){return null==e?e:{type:e.type,values:e.values}}function Te(e,t){return null==e?e:{type:e.type,value:e.value}}function Ee(e,t){return null==e?e:{type:e.type,values:e.values}}function Ce(e,t){return null==e?e:{type:e.type,value:e.value}}function Ie(e,t){return null==e?e:{type:e.type,value_hex:e.value_hex}}function Ae(e,t){return null==e?e:{type:e.type,value:e.value}}function qe(e,t){return null==e?e:{type:e.type,values:e.values}}function Oe(e,t){return null==e?e:{type:e.type,value:e.value}}function Ne(e){return function(e,t){if(null==e)return e;switch(e.type){case"Bool":return{...Y(e),type:"Bool"};case"BoolArray":return{...H(e),type:"BoolArray"};case"Decimal":return{...J(e),type:"Decimal"};case"DecimalArray":return{...X(e),type:"DecimalArray"};case"GlobalAddress":return{...ee(e),type:"GlobalAddress"};case"GlobalAddressArray":return{...Q(e),type:"GlobalAddressArray"};case"I32":return{...ne(e),type:"I32"};case"I32Array":return{...te(e),type:"I32Array"};case"I64":return{...ae(e),type:"I64"};case"I64Array":return{...re(e),type:"I64Array"};case"Instant":return{...se(e),type:"Instant"};case"InstantArray":return{...ie(e),type:"InstantArray"};case"NonFungibleGlobalId":return{...le(e),type:"NonFungibleGlobalId"};case"NonFungibleGlobalIdArray":return{...ue(e),type:"NonFungibleGlobalIdArray"};case"NonFungibleLocalId":return{...de(e),type:"NonFungibleLocalId"};case"NonFungibleLocalIdArray":return{...ce(e),type:"NonFungibleLocalIdArray"};case"Origin":return{...fe(e),type:"Origin"};case"OriginArray":return{...pe(e),type:"OriginArray"};case"PublicKey":return{...xe(e),type:"PublicKey"};case"PublicKeyArray":return{...ye(e),type:"PublicKeyArray"};case"PublicKeyHash":return{...ke(e),type:"PublicKeyHash"};case"PublicKeyHashArray":return{...we(e),type:"PublicKeyHashArray"};case"String":return{...Re(e),type:"String"};case"StringArray":return{...Se(e),type:"StringArray"};case"U32":return{...Te(e),type:"U32"};case"U32Array":return{...Pe(e),type:"U32Array"};case"U64":return{...Ce(e),type:"U64"};case"U64Array":return{...Ee(e),type:"U64Array"};case"U8":return{...Ae(e),type:"U8"};case"U8Array":return{...Ie(e),type:"U8Array"};case"Url":return{...Oe(e),type:"Url"};case"UrlArray":return{...qe(e),type:"UrlArray"};default:throw new Error(`No variant of MetadataTypedValue exists with 'type=${e.type}'`)}}(e)}function De(e){return function(e,t){return null==e?e:{raw_hex:e.raw_hex,programmatic_json:z(e.programmatic_json),typed:Ne(e.typed)}}(e)}function je(e){return function(e,t){return null==e?e:{key:e.key,value:De(e.value),is_locked:e.is_locked,last_updated_at_state_version:e.last_updated_at_state_version}}(e)}function Fe(e){return function(e,t){return null==e?e:{total_count:d(e,"total_count")?e.total_count:void 0,next_cursor:d(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(je)}}(e)}function Ue(e,t){return null==e?e:{aggregation_level:e.aggregation_level,resource_address:e.resource_address,explicit_metadata:d(e,"explicit_metadata")?Fe(e.explicit_metadata):void 0,amount:e.amount,last_updated_at_state_version:e.last_updated_at_state_version}}function Le(e){return function(e,t){return null==e?e:{vault_address:e.vault_address,amount:e.amount,last_updated_at_state_version:e.last_updated_at_state_version}}(e)}function Ze(e){return function(e,t){return null==e?e:{total_count:d(e,"total_count")?e.total_count:void 0,next_cursor:d(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(Le)}}(e)}function ze(e,t){return null==e?e:{aggregation_level:e.aggregation_level,resource_address:e.resource_address,explicit_metadata:d(e,"explicit_metadata")?Fe(e.explicit_metadata):void 0,vaults:Ze(e.vaults)}}function Ve(e){return function(e,t){if(null==e)return e;switch(e.aggregation_level){case"Global":return{...Ue(e),aggregation_level:"Global"};case"Vault":return{...ze(e),aggregation_level:"Vault"};default:throw new Error(`No variant of FungibleResourcesCollectionItem exists with 'aggregation_level=${e.aggregation_level}'`)}}(e)}function $e(e){return function(e,t){return null==e?e:{total_count:d(e,"total_count")?e.total_count:void 0,next_cursor:d(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(Ve)}}(e)}function Me(e){return function(e,t){return null==e?e:{network:e.network,state_version:e.state_version,proposer_round_timestamp:e.proposer_round_timestamp,epoch:e.epoch,round:e.round}}(e)}function Be(e){return function(e,t){return e}(e)}function Ke(e){return function(e,t){return null==e?e:{total_count:d(e,"total_count")?e.total_count:void 0,next_cursor:d(e,"next_cursor")?e.next_cursor:void 0,items:e.items}}(e)}function We(e,t){return null==e?e:{aggregation_level:e.aggregation_level,resource_address:e.resource_address,explicit_metadata:d(e,"explicit_metadata")?Fe(e.explicit_metadata):void 0,amount:e.amount,last_updated_at_state_version:e.last_updated_at_state_version}}function Ge(e){return function(e,t){return null==e?e:{total_count:e.total_count,next_cursor:d(e,"next_cursor")?e.next_cursor:void 0,items:d(e,"items")?e.items:void 0,vault_address:e.vault_address,last_updated_at_state_version:e.last_updated_at_state_version}}(e)}function He(e){return function(e,t){return null==e?e:{total_count:d(e,"total_count")?e.total_count:void 0,next_cursor:d(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(Ge)}}(e)}function Ye(e,t){return null==e?e:{aggregation_level:e.aggregation_level,resource_address:e.resource_address,explicit_metadata:d(e,"explicit_metadata")?Fe(e.explicit_metadata):void 0,vaults:He(e.vaults)}}function Xe(e){return function(e,t){if(null==e)return e;switch(e.aggregation_level){case"Global":return{...We(e),aggregation_level:"Global"};case"Vault":return{...Ye(e),aggregation_level:"Vault"};default:throw new Error(`No variant of NonFungibleResourcesCollectionItem exists with 'aggregation_level=${e.aggregation_level}'`)}}(e)}function Je(e){return function(e,t){return null==e?e:{total_count:d(e,"total_count")?e.total_count:void 0,next_cursor:d(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(Xe)}}(e)}function Qe(e){return function(e,t){return e}(e)}function et(e){return function(e,t){return null==e?e:{raw_hex:e.raw_hex,programmatic_json:z(e.programmatic_json)}}(e)}function tt(e){if(void 0!==e)return null===e?null:{ancestor_identities:e.ancestor_identities,component_royalty_vault_balance:e.component_royalty_vault_balance,package_royalty_vault_balance:e.package_royalty_vault_balance,non_fungible_include_nfids:e.non_fungible_include_nfids,explicit_metadata:e.explicit_metadata}}function nt(e){if(void 0!==e)return null===e?null:{at_ledger_state:_(e.at_ledger_state),opt_ins:tt(e.opt_ins),addresses:e.addresses,aggregation_level:e.aggregation_level}}function rt(e){return function(e,t){return null==e?e:{parent_address:d(e,"parent_address")?e.parent_address:void 0,owner_address:d(e,"owner_address")?e.owner_address:void 0,global_address:d(e,"global_address")?e.global_address:void 0}}(e)}function at(e,t){return null==e?e:{type:e.type,package_address:d(e,"package_address")?e.package_address:void 0,blueprint_name:e.blueprint_name,blueprint_version:e.blueprint_version,state:d(e,"state")?e.state:void 0,role_assignments:d(e,"role_assignments")?G(e.role_assignments):void 0,royalty_vault_balance:d(e,"royalty_vault_balance")?e.royalty_vault_balance:void 0}}function it(e,t){return null==e?e:{type:e.type,role_assignments:G(e.role_assignments),divisibility:e.divisibility,total_supply:e.total_supply,total_minted:e.total_minted,total_burned:e.total_burned}}function st(e,t){return null==e?e:{type:e.type,resource_address:e.resource_address,balance:Le(e.balance)}}function ot(e,t){return null==e?e:{type:e.type,role_assignments:G(e.role_assignments),non_fungible_id_type:Be(e.non_fungible_id_type),total_supply:e.total_supply,total_minted:e.total_minted,total_burned:e.total_burned}}function ut(e,t){return null==e?e:{type:e.type,resource_address:e.resource_address,balance:Ge(e.balance)}}function lt(e){return function(e,t){return null==e?e:{name:e.name,version:e.version,definition:e.definition,dependant_entities:d(e,"dependant_entities")?e.dependant_entities:void 0,auth_template:d(e,"auth_template")?e.auth_template:void 0,auth_template_is_locked:d(e,"auth_template_is_locked")?e.auth_template_is_locked:void 0,royalty_config:d(e,"royalty_config")?e.royalty_config:void 0,royalty_config_is_locked:d(e,"royalty_config_is_locked")?e.royalty_config_is_locked:void 0}}(e)}function ct(e){return function(e,t){return null==e?e:{total_count:d(e,"total_count")?e.total_count:void 0,next_cursor:d(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(lt)}}(e)}function dt(e){return function(e,t){return null==e?e:{schema_hash_hex:e.schema_hash_hex,schema_hex:e.schema_hex}}(e)}function pt(e){return function(e,t){return null==e?e:{total_count:d(e,"total_count")?e.total_count:void 0,next_cursor:d(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(dt)}}(e)}function ft(e,t){return null==e?e:{type:e.type,vm_type:Qe(e.vm_type),code_hash_hex:e.code_hash_hex,code_hex:e.code_hex,royalty_vault_balance:d(e,"royalty_vault_balance")?e.royalty_vault_balance:void 0,blueprints:d(e,"blueprints")?ct(e.blueprints):void 0,schemas:d(e,"schemas")?pt(e.schemas):void 0}}function ht(e){return function(e,t){if(null==e)return e;switch(e.type){case"Component":return{...at(e),type:"Component"};case"FungibleResource":return{...it(e),type:"FungibleResource"};case"FungibleVault":return{...st(e),type:"FungibleVault"};case"NonFungibleResource":return{...ot(e),type:"NonFungibleResource"};case"NonFungibleVault":return{...ut(e),type:"NonFungibleVault"};case"Package":return{...ft(e),type:"Package"};default:throw new Error(`No variant of StateEntityDetailsResponseItemDetails exists with 'type=${e.type}'`)}}(e)}function _t(e){return function(e,t){return null==e?e:{address:e.address,fungible_resources:d(e,"fungible_resources")?$e(e.fungible_resources):void 0,non_fungible_resources:d(e,"non_fungible_resources")?Je(e.non_fungible_resources):void 0,ancestor_identities:d(e,"ancestor_identities")?rt(e.ancestor_identities):void 0,metadata:Fe(e.metadata),explicit_metadata:d(e,"explicit_metadata")?Fe(e.explicit_metadata):void 0,details:d(e,"details")?ht(e.details):void 0}}(e)}function mt(e){if(void 0!==e)return null===e?null:{at_ledger_state:_(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,address:e.address,resource_address:e.resource_address}}function yt(e){if(void 0!==e)return null===e?null:{explicit_metadata:e.explicit_metadata}}function gt(e){if(void 0!==e)return null===e?null:{at_ledger_state:_(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,address:e.address,aggregation_level:e.aggregation_level,opt_ins:yt(e.opt_ins)}}function vt(e){if(void 0!==e)return null===e?null:{at_ledger_state:_(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,address:e.address}}function bt(e){if(void 0!==e)return null===e?null:{at_ledger_state:_(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,address:e.address,vault_address:e.vault_address,resource_address:e.resource_address}}function wt(e){if(void 0!==e)return null===e?null:{non_fungible_include_nfids:e.non_fungible_include_nfids}}function kt(e){if(void 0!==e)return null===e?null:{at_ledger_state:_(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,address:e.address,resource_address:e.resource_address,opt_ins:wt(e.opt_ins)}}function xt(e){if(void 0!==e)return null===e?null:{non_fungible_include_nfids:e.non_fungible_include_nfids,explicit_metadata:e.explicit_metadata}}function St(e){if(void 0!==e)return null===e?null:{at_ledger_state:_(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,address:e.address,aggregation_level:e.aggregation_level,opt_ins:xt(e.opt_ins)}}function Rt(e){if(void 0!==e)return null===e?null:{key_hex:e.key_hex,key_json:V(e.key_json)}}function Pt(e){if(void 0!==e)return null===e?null:{at_ledger_state:_(e.at_ledger_state),key_value_store_address:e.key_value_store_address,keys:e.keys.map(Rt)}}function Tt(e){return function(e,t){return null==e?e:{key:et(e.key),value:et(e.value),last_updated_at_state_version:e.last_updated_at_state_version,is_locked:e.is_locked}}(e)}function Et(e){if(void 0!==e)return null===e?null:{at_ledger_state:_(e.at_ledger_state),resource_address:e.resource_address,non_fungible_ids:e.non_fungible_ids}}function Ct(e){return function(e,t){return null==e?e:{is_burned:e.is_burned,non_fungible_id:e.non_fungible_id,data:d(e,"data")?et(e.data):void 0,last_updated_at_state_version:e.last_updated_at_state_version}}(e)}function It(e){if(void 0!==e)return null===e?null:{at_ledger_state:_(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,resource_address:e.resource_address}}function At(e){if(void 0!==e)return null===e?null:{at_ledger_state:_(e.at_ledger_state),resource_address:e.resource_address,non_fungible_ids:e.non_fungible_ids}}function qt(e){return function(e,t){return null==e?e:{non_fungible_id:e.non_fungible_id,owning_vault_address:d(e,"owning_vault_address")?e.owning_vault_address:void 0,is_burned:e.is_burned,last_updated_at_state_version:e.last_updated_at_state_version}}(e)}function Ot(e){if(void 0!==e)return null===e?null:{at_ledger_state:_(e.at_ledger_state),cursor:e.cursor}}function Nt(e){return function(e,t){return null==e?e:{stake:e.stake,stake_percentage:e.stake_percentage,key:me(e.key)}}(e)}function Dt(e){return function(e,t){return null==e?e:{balance:e.balance,last_changed_at_state_version:e.last_changed_at_state_version,address:e.address}}(e)}function jt(e){return function(e,t){return null==e?e:{address:e.address,stake_vault:Dt(e.stake_vault),pending_xrd_withdraw_vault:Dt(e.pending_xrd_withdraw_vault),locked_owner_stake_unit_vault:Dt(e.locked_owner_stake_unit_vault),pending_owner_stake_unit_unlock_vault:Dt(e.pending_owner_stake_unit_unlock_vault),state:d(e,"state")?e.state:void 0,active_in_epoch:d(e,"active_in_epoch")?Nt(e.active_in_epoch):void 0,metadata:Fe(e.metadata)}}(e)}function Ft(e){return function(e,t){return null==e?e:{total_count:d(e,"total_count")?e.total_count:void 0,next_cursor:d(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(jt)}}(e)}class Ut extends o{async entityFungibleResourceVaultPageRaw(e,t){if(null===e.stateEntityFungibleResourceVaultsPageRequest||void 0===e.stateEntityFungibleResourceVaultsPageRequest)throw new c("stateEntityFungibleResourceVaultsPageRequest","Required parameter requestParameters.stateEntityFungibleResourceVaultsPageRequest was null or undefined when calling entityFungibleResourceVaultPage.");const n=await this.request({path:"/state/entity/page/fungible-vaults/",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:mt(e.stateEntityFungibleResourceVaultsPageRequest)},t);return new h(n,(e=>function(e,t){return null==e?e:{ledger_state:Me(e.ledger_state),total_count:d(e,"total_count")?e.total_count:void 0,next_cursor:d(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(Le),address:e.address,resource_address:e.resource_address}}(e)))}async entityFungibleResourceVaultPage(e,t){return await(await this.entityFungibleResourceVaultPageRaw(e,t)).value()}async entityFungiblesPageRaw(e,t){if(null===e.stateEntityFungiblesPageRequest||void 0===e.stateEntityFungiblesPageRequest)throw new c("stateEntityFungiblesPageRequest","Required parameter requestParameters.stateEntityFungiblesPageRequest was null or undefined when calling entityFungiblesPage.");const n=await this.request({path:"/state/entity/page/fungibles/",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:gt(e.stateEntityFungiblesPageRequest)},t);return new h(n,(e=>function(e,t){return null==e?e:{ledger_state:Me(e.ledger_state),total_count:d(e,"total_count")?e.total_count:void 0,next_cursor:d(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(Ve),address:e.address}}(e)))}async entityFungiblesPage(e,t){return await(await this.entityFungiblesPageRaw(e,t)).value()}async entityMetadataPageRaw(e,t){if(null===e.stateEntityMetadataPageRequest||void 0===e.stateEntityMetadataPageRequest)throw new c("stateEntityMetadataPageRequest","Required parameter requestParameters.stateEntityMetadataPageRequest was null or undefined when calling entityMetadataPage.");const n=await this.request({path:"/state/entity/page/metadata",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:vt(e.stateEntityMetadataPageRequest)},t);return new h(n,(e=>function(e,t){return null==e?e:{ledger_state:Me(e.ledger_state),total_count:d(e,"total_count")?e.total_count:void 0,next_cursor:d(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(je),address:e.address}}(e)))}async entityMetadataPage(e,t){return await(await this.entityMetadataPageRaw(e,t)).value()}async entityNonFungibleIdsPageRaw(e,t){if(null===e.stateEntityNonFungibleIdsPageRequest||void 0===e.stateEntityNonFungibleIdsPageRequest)throw new c("stateEntityNonFungibleIdsPageRequest","Required parameter requestParameters.stateEntityNonFungibleIdsPageRequest was null or undefined when calling entityNonFungibleIdsPage.");const n=await this.request({path:"/state/entity/page/non-fungible-vault/ids",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:bt(e.stateEntityNonFungibleIdsPageRequest)},t);return new h(n,(e=>function(e,t){return null==e?e:{ledger_state:Me(e.ledger_state),total_count:d(e,"total_count")?e.total_count:void 0,next_cursor:d(e,"next_cursor")?e.next_cursor:void 0,items:e.items,address:e.address,resource_address:e.resource_address}}(e)))}async entityNonFungibleIdsPage(e,t){return await(await this.entityNonFungibleIdsPageRaw(e,t)).value()}async entityNonFungibleResourceVaultPageRaw(e,t){if(null===e.stateEntityNonFungibleResourceVaultsPageRequest||void 0===e.stateEntityNonFungibleResourceVaultsPageRequest)throw new c("stateEntityNonFungibleResourceVaultsPageRequest","Required parameter requestParameters.stateEntityNonFungibleResourceVaultsPageRequest was null or undefined when calling entityNonFungibleResourceVaultPage.");const n=await this.request({path:"/state/entity/page/non-fungible-vaults/",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:kt(e.stateEntityNonFungibleResourceVaultsPageRequest)},t);return new h(n,(e=>function(e,t){return null==e?e:{ledger_state:Me(e.ledger_state),total_count:d(e,"total_count")?e.total_count:void 0,next_cursor:d(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(Ge),address:e.address,resource_address:e.resource_address}}(e)))}async entityNonFungibleResourceVaultPage(e,t){return await(await this.entityNonFungibleResourceVaultPageRaw(e,t)).value()}async entityNonFungiblesPageRaw(e,t){if(null===e.stateEntityNonFungiblesPageRequest||void 0===e.stateEntityNonFungiblesPageRequest)throw new c("stateEntityNonFungiblesPageRequest","Required parameter requestParameters.stateEntityNonFungiblesPageRequest was null or undefined when calling entityNonFungiblesPage.");const n=await this.request({path:"/state/entity/page/non-fungibles/",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:St(e.stateEntityNonFungiblesPageRequest)},t);return new h(n,(e=>function(e,t){return null==e?e:{ledger_state:Me(e.ledger_state),total_count:d(e,"total_count")?e.total_count:void 0,next_cursor:d(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(Xe),address:e.address}}(e)))}async entityNonFungiblesPage(e,t){return await(await this.entityNonFungiblesPageRaw(e,t)).value()}async keyValueStoreDataRaw(e,t){if(null===e.stateKeyValueStoreDataRequest||void 0===e.stateKeyValueStoreDataRequest)throw new c("stateKeyValueStoreDataRequest","Required parameter requestParameters.stateKeyValueStoreDataRequest was null or undefined when calling keyValueStoreData.");const n=await this.request({path:"/state/key-value-store/data",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:Pt(e.stateKeyValueStoreDataRequest)},t);return new h(n,(e=>function(e,t){return null==e?e:{ledger_state:Me(e.ledger_state),key_value_store_address:e.key_value_store_address,entries:e.entries.map(Tt)}}(e)))}async keyValueStoreData(e,t){return await(await this.keyValueStoreDataRaw(e,t)).value()}async nonFungibleDataRaw(e,t){if(null===e.stateNonFungibleDataRequest||void 0===e.stateNonFungibleDataRequest)throw new c("stateNonFungibleDataRequest","Required parameter requestParameters.stateNonFungibleDataRequest was null or undefined when calling nonFungibleData.");const n=await this.request({path:"/state/non-fungible/data",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:Et(e.stateNonFungibleDataRequest)},t);return new h(n,(e=>function(e,t){return null==e?e:{ledger_state:Me(e.ledger_state),resource_address:e.resource_address,non_fungible_id_type:Be(e.non_fungible_id_type),non_fungible_ids:e.non_fungible_ids.map(Ct)}}(e)))}async nonFungibleData(e,t){return await(await this.nonFungibleDataRaw(e,t)).value()}async nonFungibleIdsRaw(e,t){if(null===e.stateNonFungibleIdsRequest||void 0===e.stateNonFungibleIdsRequest)throw new c("stateNonFungibleIdsRequest","Required parameter requestParameters.stateNonFungibleIdsRequest was null or undefined when calling nonFungibleIds.");const n=await this.request({path:"/state/non-fungible/ids",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:It(e.stateNonFungibleIdsRequest)},t);return new h(n,(e=>function(e,t){return null==e?e:{ledger_state:Me(e.ledger_state),resource_address:e.resource_address,non_fungible_ids:Ke(e.non_fungible_ids)}}(e)))}async nonFungibleIds(e,t){return await(await this.nonFungibleIdsRaw(e,t)).value()}async nonFungibleLocationRaw(e,t){if(null===e.stateNonFungibleLocationRequest||void 0===e.stateNonFungibleLocationRequest)throw new c("stateNonFungibleLocationRequest","Required parameter requestParameters.stateNonFungibleLocationRequest was null or undefined when calling nonFungibleLocation.");const n=await this.request({path:"/state/non-fungible/location",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:At(e.stateNonFungibleLocationRequest)},t);return new h(n,(e=>function(e,t){return null==e?e:{ledger_state:Me(e.ledger_state),resource_address:e.resource_address,non_fungible_ids:e.non_fungible_ids.map(qt)}}(e)))}async nonFungibleLocation(e,t){return await(await this.nonFungibleLocationRaw(e,t)).value()}async stateEntityDetailsRaw(e,t){if(null===e.stateEntityDetailsRequest||void 0===e.stateEntityDetailsRequest)throw new c("stateEntityDetailsRequest","Required parameter requestParameters.stateEntityDetailsRequest was null or undefined when calling stateEntityDetails.");const n=await this.request({path:"/state/entity/details",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:nt(e.stateEntityDetailsRequest)},t);return new h(n,(e=>function(e,t){return null==e?e:{ledger_state:Me(e.ledger_state),items:e.items.map(_t)}}(e)))}async stateEntityDetails(e,t){return await(await this.stateEntityDetailsRaw(e,t)).value()}async stateValidatorsListRaw(e,t){if(null===e.stateValidatorsListRequest||void 0===e.stateValidatorsListRequest)throw new c("stateValidatorsListRequest","Required parameter requestParameters.stateValidatorsListRequest was null or undefined when calling stateValidatorsList.");const n=await this.request({path:"/state/validators/list",method:"POST",headers:{"Content-Type":"application/json"},query:{},body:Ot(e.stateValidatorsListRequest)},t);return new h(n,(e=>function(e,t){return null==e?e:{ledger_state:Me(e.ledger_state),validators:Ft(e.validators)}}(e)))}async stateValidatorsList(e,t){return await(await this.stateValidatorsListRaw(e,t)).value()}}Object.values({Mainnet:{networkName:"Mainnet",networkId:1,gatewayUrl:"https://mainnet.radixdlt.com",dashboardUrl:"https://dashboard.radixdlt.com"},Stokenet:{networkName:"Stokenet",networkId:2,gatewayUrl:"https://babylon-stokenet-gateway.radixdlt.com",dashboardUrl:"https://stokenet-dashboard.radixdlt.com"},Kisharnet:{networkName:"Kisharnet",networkId:12,gatewayUrl:"https://kisharnet-gateway.radixdlt.com",dashboardUrl:"https://kisharnet-dashboard.radixdlt.com"},RCnetV1:{networkName:"RCnetV1",networkId:12,gatewayUrl:"https://rcnet.radixdlt.com",dashboardUrl:"https://rcnet-dashboard.radixdlt.com"},Zabanet:{networkName:"Zabanet",networkId:14,gatewayUrl:"https://zabanet-gateway.radixdlt.com",dashboardUrl:"https://rcnet-v3-dashboard.radixdlt.com"},RCnetV3:{networkName:"RCNetV3",networkId:14,gatewayUrl:"https://zabanet-gateway.radixdlt.com",dashboardUrl:"https://rcnet-v3-dashboard.radixdlt.com"},Gilganet:{networkName:"Gilganet",networkId:32,gatewayUrl:"https://gilganet-gateway.radixdlt.com",dashboardUrl:""},Enkinet:{networkName:"Enkinet",networkId:33,gatewayUrl:"https://enkinet-gateway.radixdlt.com",dashboardUrl:"https://enkinet-dashboard.rdx-works-main.extratools.works"},Hammunet:{networkName:"Hammunet",networkId:34,gatewayUrl:"https://hammunet-gateway.radixdlt.com",dashboardUrl:"https://hammunet-dashboard.rdx-works-main.extratools.works"},Dumunet:{networkName:"Dumunet",networkId:37,gatewayUrl:"https://dumunet-gateway.radixdlt.com",dashboardUrl:"https://dumunet-dashboard.rdx-works-main.extratools.works"}}).reduce(((e,t)=>(e[t.networkId]=t,e)),{})}},r={};function a(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={exports:{}};return n[e](i,i.exports,a),i.exports}a.m=n,a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,n)=>(a.f[n](e,t),t)),[])),a.u=e=>e+".bundle.js",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="client:",a.l=(n,r,i,s)=>{if(e[n])e[n].push(r);else{var o,u;if(void 0!==i)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var d=l[c];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+i){o=d;break}}o||(u=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,a.nc&&o.setAttribute("nonce",a.nc),o.setAttribute("data-webpack",t+i),o.src=n),e[n]=[r];var p=(t,r)=>{o.onerror=o.onload=null,clearTimeout(f);var a=e[n];if(delete e[n],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach((e=>e(r))),t)return t(r)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=p.bind(null,o.onerror),o.onload=p.bind(null,o.onload),u&&document.head.appendChild(o)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&!e;)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e})(),(()=>{var e={966:0,887:0,165:0};a.f.j=(t,n)=>{var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise(((n,a)=>r=e[t]=[n,a]));n.push(r[2]=i);var s=a.p+a.u(t),o=new Error;a.l(s,(n=>{if(a.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",o.name="ChunkLoadError",o.type=i,o.request=s,r[1](o)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,i,[s,o,u]=n,l=0;if(s.some((t=>0!==e[t]))){for(r in o)a.o(o,r)&&(a.m[r]=o[r]);u&&u(a)}for(t&&t(n);l<s.length;l++)i=s[l],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkclient=self.webpackChunkclient||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{var e=a(23),t=a(646),n=a(281),r=a(848);const i=new e.UUm;let s=r.$.walletApi.getWalletData().accounts[0];async function o(){if(void 0===s)console.log("UNDEFINED"),document.getElementById("pop-up").style.display="flex",document.getElementById("pop-up1").style.display="flex",document.getElementById("pop-up2").style.display="none";else try{await l(),console.log("DEFINED"),document.getElementById("pop-up").style.display="none",document.getElementById("pop-up1").style.display="none",document.getElementById("pop-up2").style.display="none"}catch(e){console.log("NO SUPPLIER"),document.getElementById("pop-up").style.display="flex",document.getElementById("pop-up1").style.display="none",document.getElementById("pop-up2").style.display="flex"}}function u(e,t,n,r){return{vAxis:{minorGridlines:{count:0},gridlines:{color:"lightgray",opacity:.2},format:r,textPosition:"in"},hAxis:{title:e,gridlines:{color:"transparent"},format:"yyyy-MM-dd"},backgroundColor:"transparent",colors:["#90a7ac"],chartArea:{width:t,height:n},legend:{position:"none"},animation:{duration:500,easing:"linear",startup:!0},pointSize:3}}async function l(){const e={address:s,aggregation_level:"Vault"},n=(await i.entityNonFungiblesPage({stateEntityNonFungiblesPageRequest:e})).items.find((e=>e.resource_address===t._S));let r;if(n){const e=n.vaults.items[0];r=e.vault_address,console.log(e.vault_address)}else console.log("Resource address not found in the response.");console.log(r);const a={address:s,resource_address:t._S,vault_address:r};let o=await i.entityNonFungibleIdsPage({stateEntityNonFungibleIdsPageRequest:a});console.log(o);let u=o.items.map((e=>e));return console.log(u),u}async function c(){let e=0,t=0,r=0,a=[];try{a=await l()}catch(e){console.error("An error occurred while fetching NFT IDs:",e),a=[]}const i=document.getElementById("results-container");if(i.innerHTML="",a.length>0){let s=await(0,n.y0)();console.log("state: ",s);let o=s.fields[4],u=parseFloat(s.fields[9].value),l=await(0,n.KW)(),c=u/l;console.log("rewardsLiquidity, lsu_total_pool_amount, proportion_rewards: ",u,l,c),a.forEach((async a=>{let s,[u,l,d,p]=await(0,n.GC)(a);l=parseFloat(l),d=parseFloat(d),p=parseFloat(p);for(const e in o.entries){const t=o.entries[e];t.key.value===u&&(s=t.value.elements)}let f=parseFloat(s[1].value),h=parseFloat(s[2].value),_=parseFloat(s[3].value),m=parseFloat(s[5].value);console.log(f,h,_,m);let y,g=l/f;y=h>0?d/h:g,console.log(g,y),d+=_*g,p+=m*y,console.log("resources after: ",u,l,d,p),d+=l*c,l=parseFloat(l).toFixed(2),d=parseFloat(d).toFixed(2),p=parseFloat(p).toFixed(2),console.log(l,d,p),e+=parseFloat(l),t+=parseFloat(d),r+=parseFloat(p),console.log(e,t,r);const v=document.createElement("div");v.classList.add("dashboard-div"),v.innerHTML=`\n        <h1 class="stats-h1">${a}</h1>\n        <h1 class="stats-h1">${l} LSU</h1>\n        <h1 class="stats-h1">${d} XRD</h1>\n        <h1 class="stats-h1">${p} XRD</h1>\n      `,i.appendChild(v),document.getElementById("total-lsu").textContent=e.toFixed(2)+" LSU",document.getElementById("total-staking-rewards").textContent=t.toFixed(2)+" XRD",document.getElementById("total-interest-earnings").textContent=r.toFixed(2)+" XRD"}))}else{const e=document.createElement("div");e.classList.add("dashboard-div"),e.innerHTML='\n        <h1 class="stats-h1">-</h1>\n        <h1 class="stats-h1">-</h1>\n        <h1 class="stats-h1">-</h1>\n        <h1 class="stats-h1">-</h1>\n      ',i.appendChild(e),document.getElementById("total-lsu").textContent="-",document.getElementById("total-staking-rewards").textContent="-",document.getElementById("total-interest-earnings").textContent="-"}}var d,p,f,h,_;async function m(e){const[r,a,i]=await async function(){const e=await(0,n.Ly)(),r=e&&e.length>0?e:t.Qb;console.log("testApyDataArray APY data:"),console.log(t.Qb),console.log("dataArray APY data:"),console.log(r);const a=new google.visualization.DataTable;a.addColumn("date","Date"),a.addColumn("number","value");const i=new google.visualization.DataTable;i.addColumn("date","Date"),i.addColumn("number","value");const s=new google.visualization.DataTable;s.addColumn("date","Date"),s.addColumn("number","value");for(const[e,t]of Object.entries(r)){const e=t.timestamp,n=new Date(e),r=new Date(n.getFullYear(),n.getMonth(),n.getDate()),o=t.interest_earnings_apy/100,u=t.staking_rewards_apy/100,l=t.total_earnings_apy/100;a.addRow([r,u]),i.addRow([r,o]),s.addRow([r,l])}return console.log("dataTable1:"),console.log(a),[a,i,s]}();let s,o;o=u("Date","80%","60%","percent");var l=document.getElementById("chart");"chart1"===e?s=r:"chart2"===e?s=a:"chart3"===e&&(s=i),d||(d=new google.visualization.AreaChart(l)),d.draw(s,o),window.addEventListener("resize",(function(){d.draw(s,o)}))}async function y(e){const[n,r,a]=await async function(){const e=await async function(){const e=`${t.oe}/api/nft_data`;try{const t=await l();console.log(t);const n=t.map((e=>`nft_ids=${encodeURIComponent(e)}`)).join("&");console.log(n);const r=await fetch(`${e}?${n}`);if(console.log(r),!r.ok)throw new Error("Failed to fetch NFT data");const a=await r.json();console.log("NFT DATA:",a);const i=[];for(const e of a){const t=e.timestamp,n=e.interest_earnings,r=e.staking_rewards,a={timestamp:t,interest_earnings:n,staking_rewards:r,total_earnings:n+r};i.push(a)}return console.log("Aggregated data per timestamp:"),console.log(i),i}catch(e){console.error("NFT DATA ERROR",e)}}()??t.u3;console.log("dataArray:"),console.log(e);const n=new google.visualization.DataTable;n.addColumn("date","Date"),n.addColumn("number","XRD");const r=new google.visualization.DataTable;r.addColumn("date","Date"),r.addColumn("number","XRD");const a=new google.visualization.DataTable;a.addColumn("date","Date"),a.addColumn("number","XRD");for(const[t,i]of Object.entries(e)){const e=i.timestamp,t=new Date(e),s=new Date(t.getFullYear(),t.getMonth(),t.getDate());console.log(s);const o=i.staking_rewards,u=i.interest_earnings,l=i.total_earnings;n.addRow([s,o]),r.addRow([s,u]),a.addRow([s,l])}return console.log("dataTable4:"),console.log(n),[n,r,a]}();let i,s;s=u("Date","80%","60%","short");var o=document.getElementById("chart2");"chart4"===e?i=n:"chart5"===e?i=r:"chart6"===e&&(i=a),p||(p=new google.visualization.AreaChart(o)),p.draw(i,s),window.addEventListener("resize",(function(){p.draw(i,s)}))}async function g(e){const[t,r]=await async function(){const e=await(0,n.IO)();console.log("dataArray flashloan data:"),console.log(e);const t=new google.visualization.DataTable;t.addColumn("date","Date"),t.addColumn("number","#");const r=new google.visualization.DataTable;r.addColumn("date","Date"),r.addColumn("number","XRD");for(const[n,a]of Object.entries(e)){const e=new Date(a.date),n=a.sum_volume_loans,i=a.sum_total_xrd;t.addRow([e,n]),r.addRow([e,i])}return console.log("fetchFlashloanData dataTable1:"),console.log(t),[t,r]}();let a;var i=document.getElementById("chart-flashloan");"chart999"===e?a=t:"chart998"===e&&(a=r);let s=u("Date","75%","70%","short");f||(f=new google.visualization.AreaChart(i)),f.draw(a,s),window.addEventListener("resize",(function(){f.draw(a,s)}))}async function v(){const e=await(0,n.Qn)();console.log("dataArray flashloan data:"),console.log(e);const t=new google.visualization.DataTable;t.addColumn("date","Date"),t.addColumn("number","LSU");const r=new google.visualization.DataTable;r.addColumn("date","Date"),r.addColumn("number","LSU");const a=new google.visualization.DataTable;a.addColumn("date","Date"),a.addColumn("number","XRD");for(const[n,i]of Object.entries(e)){const e=new Date(i.date),n=parseInt(i.lsu_total),s=parseInt(i.stake),o=parseInt(i.liquidity_total);t.addRow([e,n]),r.addRow([e,s]),a.addRow([e,o])}return[t,r,a]}async function b(e){try{const[n,r,a]=await v();let i,s;console.log("dataTable1:",n),console.log("dataTable2:",r);let o="Date",l="75%",c="70%",d="short";var t=document.getElementById("chart-tvl");"chart997"===e?(i=n,s=u(o,l,c,d)):"chart996"===e&&(i=r,s=u(o,l,c,d)),h||(h=new google.visualization.AreaChart(t)),h.draw(i,s),window.addEventListener("resize",(function(){h.draw(i,s)}))}catch(e){console.error("Error processing TVL data:",e)}}r.$.walletApi.walletData$.subscribe((e=>{console.log("walletData",e),s=e.accounts[0].address,y("chart4"),c(),o()})),document.addEventListener("DOMContentLoaded",(function(){console.log("test dome"),o(),void 0===s&&c()})),google.charts.load("current",{packages:["corechart"]}),google.charts.setOnLoadCallback((function(){m("chart1"),y("chart4"),g("chart999"),b("chart997"),async function(){try{const[t,n,r]=await v();let a=r,i=u("Date","75%","70%","0");var e=document.getElementById("chart-liquidity");_||(_=new google.visualization.AreaChart(e)),_.draw(a,i),window.addEventListener("resize",(function(){_.draw(a,i)}))}catch(e){console.error("Error processing liquidity data:",e)}}()})),document.getElementById("chart1Btn").addEventListener("click",(function(){m("chart1")})),document.getElementById("chart2Btn").addEventListener("click",(function(){m("chart2")})),document.getElementById("chart3Btn").addEventListener("click",(function(){m("chart3")})),document.getElementById("chart4Btn").addEventListener("click",(function(){y("chart4")})),document.getElementById("chart5Btn").addEventListener("click",(function(){y("chart5")})),document.getElementById("chart6Btn").addEventListener("click",(function(){y("chart6")})),document.getElementById("chart999Btn").addEventListener("click",(function(){g("chart999")})),document.getElementById("chart998Btn").addEventListener("click",(function(){g("chart998")})),document.getElementById("chart997Btn").addEventListener("click",(function(){b("chart997")})),document.getElementById("chart996Btn").addEventListener("click",(function(){b("chart996")}))})()})();